(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const j of document.querySelectorAll('link[rel="modulepreload"]'))m(j);new MutationObserver(j=>{for(const _ of j)if(_.type==="childList")for(const G of _.addedNodes)G.tagName==="LINK"&&G.rel==="modulepreload"&&m(G)}).observe(document,{childList:!0,subtree:!0});function d(j){const _={};return j.integrity&&(_.integrity=j.integrity),j.referrerPolicy&&(_.referrerPolicy=j.referrerPolicy),j.crossOrigin==="use-credentials"?_.credentials="include":j.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function m(j){if(j.ep)return;j.ep=!0;const _=d(j);fetch(j.href,_)}})();var qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vf={exports:{}},Rr={};var $h;function Hy(){if($h)return Rr;$h=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function d(m,j,_){var G=null;if(_!==void 0&&(G=""+_),j.key!==void 0&&(G=""+j.key),"key"in j){_={};for(var L in j)L!=="key"&&(_[L]=j[L])}else _=j;return j=_.ref,{$$typeof:r,type:m,key:G,ref:j!==void 0?j:null,props:_}}return Rr.Fragment=o,Rr.jsx=d,Rr.jsxs=d,Rr}var Wh;function Yy(){return Wh||(Wh=1,vf.exports=Hy()),vf.exports}var s=Yy(),gf={exports:{}},$e={};var Fh;function Ly(){if(Fh)return $e;Fh=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),G=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),re=Symbol.iterator;function me(b){return b===null||typeof b!="object"?null:(b=re&&b[re]||b["@@iterator"],typeof b=="function"?b:null)}var ce={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pe=Object.assign,Ce={};function be(b,R,te){this.props=b,this.context=R,this.refs=Ce,this.updater=te||ce}be.prototype.isReactComponent={},be.prototype.setState=function(b,R){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,R,"setState")},be.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function Ee(){}Ee.prototype=be.prototype;function N(b,R,te){this.props=b,this.context=R,this.refs=Ce,this.updater=te||ce}var je=N.prototype=new Ee;je.constructor=N,pe(je,be.prototype),je.isPureReactComponent=!0;var ue=Array.isArray;function he(){}var ye={H:null,A:null,T:null,S:null},Ye=Object.prototype.hasOwnProperty;function Ve(b,R,te){var ne=te.ref;return{$$typeof:r,type:b,key:R,ref:ne!==void 0?ne:null,props:te}}function ft(b,R){return Ve(b.type,R,b.props)}function We(b){return typeof b=="object"&&b!==null&&b.$$typeof===r}function xe(b){var R={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(te){return R[te]})}var Ge=/\/+/g;function ve(b,R){return typeof b=="object"&&b!==null&&b.key!=null?xe(""+b.key):R.toString(36)}function ke(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(he,he):(b.status="pending",b.then(function(R){b.status==="pending"&&(b.status="fulfilled",b.value=R)},function(R){b.status==="pending"&&(b.status="rejected",b.reason=R)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function V(b,R,te,ne,Be){var qe=typeof b;(qe==="undefined"||qe==="boolean")&&(b=null);var Ze=!1;if(b===null)Ze=!0;else switch(qe){case"bigint":case"string":case"number":Ze=!0;break;case"object":switch(b.$$typeof){case r:case o:Ze=!0;break;case ee:return Ze=b._init,V(Ze(b._payload),R,te,ne,Be)}}if(Ze)return Be=Be(b),Ze=ne===""?"."+ve(b,0):ne,ue(Be)?(te="",Ze!=null&&(te=Ze.replace(Ge,"$&/")+"/"),V(Be,R,te,"",function(Ue){return Ue})):Be!=null&&(We(Be)&&(Be=ft(Be,te+(Be.key==null||b&&b.key===Be.key?"":(""+Be.key).replace(Ge,"$&/")+"/")+Ze)),R.push(Be)),1;Ze=0;var kt=ne===""?".":ne+":";if(ue(b))for(var ht=0;ht<b.length;ht++)ne=b[ht],qe=kt+ve(ne,ht),Ze+=V(ne,R,te,qe,Be);else if(ht=me(b),typeof ht=="function")for(b=ht.call(b),ht=0;!(ne=b.next()).done;)ne=ne.value,qe=kt+ve(ne,ht++),Ze+=V(ne,R,te,qe,Be);else if(qe==="object"){if(typeof b.then=="function")return V(ke(b),R,te,ne,Be);throw R=String(b),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return Ze}function F(b,R,te){if(b==null)return b;var ne=[],Be=0;return V(b,ne,"","",function(qe){return R.call(te,qe,Be++)}),ne}function I(b){if(b._status===-1){var R=b._result;R=R(),R.then(function(te){(b._status===0||b._status===-1)&&(b._status=1,b._result=te)},function(te){(b._status===0||b._status===-1)&&(b._status=2,b._result=te)}),b._status===-1&&(b._status=0,b._result=R)}if(b._status===1)return b._result.default;throw b._result}var ge=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},Ne={map:F,forEach:function(b,R,te){F(b,function(){R.apply(this,arguments)},te)},count:function(b){var R=0;return F(b,function(){R++}),R},toArray:function(b){return F(b,function(R){return R})||[]},only:function(b){if(!We(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return $e.Activity=Y,$e.Children=Ne,$e.Component=be,$e.Fragment=d,$e.Profiler=j,$e.PureComponent=N,$e.StrictMode=m,$e.Suspense=C,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye,$e.__COMPILER_RUNTIME={__proto__:null,c:function(b){return ye.H.useMemoCache(b)}},$e.cache=function(b){return function(){return b.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(b,R,te){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var ne=pe({},b.props),Be=b.key;if(R!=null)for(qe in R.key!==void 0&&(Be=""+R.key),R)!Ye.call(R,qe)||qe==="key"||qe==="__self"||qe==="__source"||qe==="ref"&&R.ref===void 0||(ne[qe]=R[qe]);var qe=arguments.length-2;if(qe===1)ne.children=te;else if(1<qe){for(var Ze=Array(qe),kt=0;kt<qe;kt++)Ze[kt]=arguments[kt+2];ne.children=Ze}return Ve(b.type,Be,ne)},$e.createContext=function(b){return b={$$typeof:G,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:_,_context:b},b},$e.createElement=function(b,R,te){var ne,Be={},qe=null;if(R!=null)for(ne in R.key!==void 0&&(qe=""+R.key),R)Ye.call(R,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(Be[ne]=R[ne]);var Ze=arguments.length-2;if(Ze===1)Be.children=te;else if(1<Ze){for(var kt=Array(Ze),ht=0;ht<Ze;ht++)kt[ht]=arguments[ht+2];Be.children=kt}if(b&&b.defaultProps)for(ne in Ze=b.defaultProps,Ze)Be[ne]===void 0&&(Be[ne]=Ze[ne]);return Ve(b,qe,Be)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(b){return{$$typeof:L,render:b}},$e.isValidElement=We,$e.lazy=function(b){return{$$typeof:ee,_payload:{_status:-1,_result:b},_init:I}},$e.memo=function(b,R){return{$$typeof:T,type:b,compare:R===void 0?null:R}},$e.startTransition=function(b){var R=ye.T,te={};ye.T=te;try{var ne=b(),Be=ye.S;Be!==null&&Be(te,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(he,ge)}catch(qe){ge(qe)}finally{R!==null&&te.types!==null&&(R.types=te.types),ye.T=R}},$e.unstable_useCacheRefresh=function(){return ye.H.useCacheRefresh()},$e.use=function(b){return ye.H.use(b)},$e.useActionState=function(b,R,te){return ye.H.useActionState(b,R,te)},$e.useCallback=function(b,R){return ye.H.useCallback(b,R)},$e.useContext=function(b){return ye.H.useContext(b)},$e.useDebugValue=function(){},$e.useDeferredValue=function(b,R){return ye.H.useDeferredValue(b,R)},$e.useEffect=function(b,R){return ye.H.useEffect(b,R)},$e.useEffectEvent=function(b){return ye.H.useEffectEvent(b)},$e.useId=function(){return ye.H.useId()},$e.useImperativeHandle=function(b,R,te){return ye.H.useImperativeHandle(b,R,te)},$e.useInsertionEffect=function(b,R){return ye.H.useInsertionEffect(b,R)},$e.useLayoutEffect=function(b,R){return ye.H.useLayoutEffect(b,R)},$e.useMemo=function(b,R){return ye.H.useMemo(b,R)},$e.useOptimistic=function(b,R){return ye.H.useOptimistic(b,R)},$e.useReducer=function(b,R,te){return ye.H.useReducer(b,R,te)},$e.useRef=function(b){return ye.H.useRef(b)},$e.useState=function(b){return ye.H.useState(b)},$e.useSyncExternalStore=function(b,R,te){return ye.H.useSyncExternalStore(b,R,te)},$e.useTransition=function(){return ye.H.useTransition()},$e.version="19.2.4",$e}var Ph;function kf(){return Ph||(Ph=1,gf.exports=Ly()),gf.exports}var q=kf();const lu=kp(q);var xf={exports:{}},Ur={},bf={exports:{}},wf={};var ep;function Ky(){return ep||(ep=1,(function(r){function o(V,F){var I=V.length;V.push(F);e:for(;0<I;){var ge=I-1>>>1,Ne=V[ge];if(0<j(Ne,F))V[ge]=F,V[I]=Ne,I=ge;else break e}}function d(V){return V.length===0?null:V[0]}function m(V){if(V.length===0)return null;var F=V[0],I=V.pop();if(I!==F){V[0]=I;e:for(var ge=0,Ne=V.length,b=Ne>>>1;ge<b;){var R=2*(ge+1)-1,te=V[R],ne=R+1,Be=V[ne];if(0>j(te,I))ne<Ne&&0>j(Be,te)?(V[ge]=Be,V[ne]=I,ge=ne):(V[ge]=te,V[R]=I,ge=R);else if(ne<Ne&&0>j(Be,I))V[ge]=Be,V[ne]=I,ge=ne;else break e}}return F}function j(V,F){var I=V.sortIndex-F.sortIndex;return I!==0?I:V.id-F.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var _=performance;r.unstable_now=function(){return _.now()}}else{var G=Date,L=G.now();r.unstable_now=function(){return G.now()-L}}var C=[],T=[],ee=1,Y=null,re=3,me=!1,ce=!1,pe=!1,Ce=!1,be=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function je(V){for(var F=d(T);F!==null;){if(F.callback===null)m(T);else if(F.startTime<=V)m(T),F.sortIndex=F.expirationTime,o(C,F);else break;F=d(T)}}function ue(V){if(pe=!1,je(V),!ce)if(d(C)!==null)ce=!0,he||(he=!0,xe());else{var F=d(T);F!==null&&ke(ue,F.startTime-V)}}var he=!1,ye=-1,Ye=5,Ve=-1;function ft(){return Ce?!0:!(r.unstable_now()-Ve<Ye)}function We(){if(Ce=!1,he){var V=r.unstable_now();Ve=V;var F=!0;try{e:{ce=!1,pe&&(pe=!1,Ee(ye),ye=-1),me=!0;var I=re;try{t:{for(je(V),Y=d(C);Y!==null&&!(Y.expirationTime>V&&ft());){var ge=Y.callback;if(typeof ge=="function"){Y.callback=null,re=Y.priorityLevel;var Ne=ge(Y.expirationTime<=V);if(V=r.unstable_now(),typeof Ne=="function"){Y.callback=Ne,je(V),F=!0;break t}Y===d(C)&&m(C),je(V)}else m(C);Y=d(C)}if(Y!==null)F=!0;else{var b=d(T);b!==null&&ke(ue,b.startTime-V),F=!1}}break e}finally{Y=null,re=I,me=!1}F=void 0}}finally{F?xe():he=!1}}}var xe;if(typeof N=="function")xe=function(){N(We)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,ve=Ge.port2;Ge.port1.onmessage=We,xe=function(){ve.postMessage(null)}}else xe=function(){be(We,0)};function ke(V,F){ye=be(function(){V(r.unstable_now())},F)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(V){V.callback=null},r.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ye=0<V?Math.floor(1e3/V):5},r.unstable_getCurrentPriorityLevel=function(){return re},r.unstable_next=function(V){switch(re){case 1:case 2:case 3:var F=3;break;default:F=re}var I=re;re=F;try{return V()}finally{re=I}},r.unstable_requestPaint=function(){Ce=!0},r.unstable_runWithPriority=function(V,F){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var I=re;re=V;try{return F()}finally{re=I}},r.unstable_scheduleCallback=function(V,F,I){var ge=r.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?ge+I:ge):I=ge,V){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=I+Ne,V={id:ee++,callback:F,priorityLevel:V,startTime:I,expirationTime:Ne,sortIndex:-1},I>ge?(V.sortIndex=I,o(T,V),d(C)===null&&V===d(T)&&(pe?(Ee(ye),ye=-1):pe=!0,ke(ue,I-ge))):(V.sortIndex=Ne,o(C,V),ce||me||(ce=!0,he||(he=!0,xe()))),V},r.unstable_shouldYield=ft,r.unstable_wrapCallback=function(V){var F=re;return function(){var I=re;re=F;try{return V.apply(this,arguments)}finally{re=I}}}})(wf)),wf}var tp;function Xy(){return tp||(tp=1,bf.exports=Ky()),bf.exports}var jf={exports:{}},pn={};var np;function Gy(){if(np)return pn;np=1;var r=kf();function o(C){var T="https://react.dev/errors/"+C;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var ee=2;ee<arguments.length;ee++)T+="&args[]="+encodeURIComponent(arguments[ee])}return"Minified React error #"+C+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var m={d:{f:d,r:function(){throw Error(o(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},j=Symbol.for("react.portal");function _(C,T,ee){var Y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:Y==null?null:""+Y,children:C,containerInfo:T,implementation:ee}}var G=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function L(C,T){if(C==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=m,pn.createPortal=function(C,T){var ee=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(o(299));return _(C,T,null,ee)},pn.flushSync=function(C){var T=G.T,ee=m.p;try{if(G.T=null,m.p=2,C)return C()}finally{G.T=T,m.p=ee,m.d.f()}},pn.preconnect=function(C,T){typeof C=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,m.d.C(C,T))},pn.prefetchDNS=function(C){typeof C=="string"&&m.d.D(C)},pn.preinit=function(C,T){if(typeof C=="string"&&T&&typeof T.as=="string"){var ee=T.as,Y=L(ee,T.crossOrigin),re=typeof T.integrity=="string"?T.integrity:void 0,me=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;ee==="style"?m.d.S(C,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:Y,integrity:re,fetchPriority:me}):ee==="script"&&m.d.X(C,{crossOrigin:Y,integrity:re,fetchPriority:me,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},pn.preinitModule=function(C,T){if(typeof C=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var ee=L(T.as,T.crossOrigin);m.d.M(C,{crossOrigin:ee,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&m.d.M(C)},pn.preload=function(C,T){if(typeof C=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var ee=T.as,Y=L(ee,T.crossOrigin);m.d.L(C,ee,{crossOrigin:Y,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},pn.preloadModule=function(C,T){if(typeof C=="string")if(T){var ee=L(T.as,T.crossOrigin);m.d.m(C,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:ee,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else m.d.m(C)},pn.requestFormReset=function(C){m.d.r(C)},pn.unstable_batchedUpdates=function(C,T){return C(T)},pn.useFormState=function(C,T,ee){return G.H.useFormState(C,T,ee)},pn.useFormStatus=function(){return G.H.useHostTransitionStatus()},pn.version="19.2.4",pn}var ap;function Qy(){if(ap)return jf.exports;ap=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),jf.exports=Gy(),jf.exports}var lp;function Vy(){if(lp)return Ur;lp=1;var r=Xy(),o=kf(),d=Qy();function m(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function j(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function G(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function L(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function C(e){if(_(e)!==e)throw Error(m(188))}function T(e){var t=e.alternate;if(!t){if(t=_(e),t===null)throw Error(m(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var c=i.alternate;if(c===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===c.child){for(c=i.child;c;){if(c===n)return C(i),e;if(c===a)return C(i),t;c=c.sibling}throw Error(m(188))}if(n.return!==a.return)n=i,a=c;else{for(var p=!1,g=i.child;g;){if(g===n){p=!0,n=i,a=c;break}if(g===a){p=!0,a=i,n=c;break}g=g.sibling}if(!p){for(g=c.child;g;){if(g===n){p=!0,n=c,a=i;break}if(g===a){p=!0,a=c,n=i;break}g=g.sibling}if(!p)throw Error(m(189))}}if(n.alternate!==a)throw Error(m(190))}if(n.tag!==3)throw Error(m(188));return n.stateNode.current===n?e:t}function ee(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=ee(e),t!==null)return t;e=e.sibling}return null}var Y=Object.assign,re=Symbol.for("react.element"),me=Symbol.for("react.transitional.element"),ce=Symbol.for("react.portal"),pe=Symbol.for("react.fragment"),Ce=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),N=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),Ye=Symbol.for("react.lazy"),Ve=Symbol.for("react.activity"),ft=Symbol.for("react.memo_cache_sentinel"),We=Symbol.iterator;function xe(e){return e===null||typeof e!="object"?null:(e=We&&e[We]||e["@@iterator"],typeof e=="function"?e:null)}var Ge=Symbol.for("react.client.reference");function ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ge?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pe:return"Fragment";case be:return"Profiler";case Ce:return"StrictMode";case ue:return"Suspense";case he:return"SuspenseList";case Ve:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ce:return"Portal";case N:return e.displayName||"Context";case Ee:return(e._context.displayName||"Context")+".Consumer";case je:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ye:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case Ye:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}var ke=Array.isArray,V=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},ge=[],Ne=-1;function b(e){return{current:e}}function R(e){0>Ne||(e.current=ge[Ne],ge[Ne]=null,Ne--)}function te(e,t){Ne++,ge[Ne]=e.current,e.current=t}var ne=b(null),Be=b(null),qe=b(null),Ze=b(null);function kt(e,t){switch(te(qe,t),te(Be,e),te(ne,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?xh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=xh(t),e=bh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(ne),te(ne,e)}function ht(){R(ne),R(Be),R(qe)}function Ue(e){e.memoizedState!==null&&te(Ze,e);var t=ne.current,n=bh(t,e.type);t!==n&&(te(Be,e),te(ne,n))}function ze(e){Be.current===e&&(R(ne),R(Be)),Ze.current===e&&(R(Ze),Mr._currentValue=I)}var Le,pt;function Cn(e){if(Le===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Le=t&&t[1]||"",pt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Le+e+pt}var cn=!1;function rl(e,t){if(!e||cn)return"";cn=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(P){var W=P}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(P){W=P}e.call(ie.prototype)}}else{try{throw Error()}catch(P){W=P}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(P){if(P&&W&&typeof P.stack=="string")return[P.stack,W.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),p=c[0],g=c[1];if(p&&g){var S=p.split(`
`),J=g.split(`
`);for(i=a=0;a<S.length&&!S[a].includes("DetermineComponentFrameRoot");)a++;for(;i<J.length&&!J[i].includes("DetermineComponentFrameRoot");)i++;if(a===S.length||i===J.length)for(a=S.length-1,i=J.length-1;1<=a&&0<=i&&S[a]!==J[i];)i--;for(;1<=a&&0<=i;a--,i--)if(S[a]!==J[i]){if(a!==1||i!==1)do if(a--,i--,0>i||S[a]!==J[i]){var le=`
`+S[a].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=a&&0<=i);break}}}finally{cn=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Cn(n):""}function Xr(e,t){switch(e.tag){case 26:case 27:case 5:return Cn(e.type);case 16:return Cn("Lazy");case 13:return e.child!==t&&t!==null?Cn("Suspense Fallback"):Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 15:return rl(e.type,!1);case 11:return rl(e.type.render,!1);case 1:return rl(e.type,!0);case 31:return Cn("Activity");default:return""}}function Jl(e){try{var t="",n=null;do t+=Xr(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var sa=Object.prototype.hasOwnProperty,Ca=r.unstable_scheduleCallback,bn=r.unstable_cancelCallback,Gr=r.unstable_shouldYield,Il=r.unstable_requestPaint,un=r.unstable_now,$l=r.unstable_getCurrentPriorityLevel,on=r.unstable_ImmediatePriority,ia=r.unstable_UserBlockingPriority,cl=r.unstable_NormalPriority,Wl=r.unstable_LowPriority,Os=r.unstable_IdlePriority,Ms=r.log,Ea=r.unstable_setDisableYieldValue,ra=null,Pt=null;function en(e){if(typeof Ms=="function"&&Ea(e),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(ra,e)}catch{}}var Ae=Math.clz32?Math.clz32:ks,Fl=Math.log,Aa=Math.LN2;function ks(e){return e>>>=0,e===0?32:31-(Fl(e)/Aa|0)|0}var _e=256,ul=262144,Pl=4194304;function Fn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function es(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,c=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var g=a&134217727;return g!==0?(a=g&~c,a!==0?i=Fn(a):(p&=g,p!==0?i=Fn(p):n||(n=g&~e,n!==0&&(i=Fn(n))))):(g=a&~c,g!==0?i=Fn(g):p!==0?i=Fn(p):n||(n=a&~e,n!==0&&(i=Fn(n)))),i===0?0:t!==0&&t!==i&&(t&c)===0&&(c=i&-i,n=t&-t,c>=n||c===32&&(n&4194048)!==0)?t:i}function Oa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ju(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qr(){var e=Pl;return Pl<<=1,(Pl&62914560)===0&&(Pl=4194304),e}function ca(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ri(e,t,n,a,i,c){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var g=e.entanglements,S=e.expirationTimes,J=e.hiddenUpdates;for(n=p&~n;0<n;){var le=31-Ae(n),ie=1<<le;g[le]=0,S[le]=-1;var W=J[le];if(W!==null)for(J[le]=null,le=0;le<W.length;le++){var P=W[le];P!==null&&(P.lane&=-536870913)}n&=~ie}a!==0&&ts(e,a,0),c!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=c&~(p&~t))}function ts(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ae(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Tt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Ae(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Rt(e,t){var n=t&-t;return n=(n&42)!==0?1:Ui(n),(n&(e.suspendedLanes|t))!==0?0:n}function Ui(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ol(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ns(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:Xh(e.type))}function as(e,t){var n=F.p;try{return F.p=e,t()}finally{F.p=n}}var ua=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ua,Ut="__reactProps$"+ua,yn="__reactContainer$"+ua,fl="__reactEvents$"+ua,Nu="__reactListeners$"+ua,oa="__reactHandles$"+ua,qi="__reactResources$"+ua,En="__reactMarker$"+ua;function zs(e){delete e[Dt],delete e[Ut],delete e[fl],delete e[Nu],delete e[oa]}function fa(e){var t=e[Dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yn]||n[Dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dh(e);e!==null;){if(n=e[Dt])return n;e=Dh(e)}return t}e=n,n=e.parentNode}return null}function bt(e){if(e=e[Dt]||e[yn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function An(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(m(33))}function fn(e){var t=e[qi];return t||(t=e[qi]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qt(e){e[En]=!0}var Ma=new Set,ls={};function Pn(e,t){da(e,t),da(e+"Capture",t)}function da(e,t){for(ls[e]=t,e=0;e<t.length;e++)Ma.add(t[e])}var ka=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hi={},ss={};function Vr(e){return sa.call(ss,e)?!0:sa.call(Hi,e)?!1:ka.test(e)?ss[e]=!0:(Hi[e]=!0,!1)}function tt(e,t,n){if(Vr(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function is(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Yn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zr(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,c=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){n=""+p,c.call(this,p)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bs(e){if(!e._valueTracker){var t=dl(e)?"checked":"value";e._valueTracker=Zr(e,t,""+e[t])}}function Yi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=dl(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function dt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var rs=/[\n"\\]/g;function It(e){return e.replace(rs,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ma(e,t,n,a,i,c,p,g){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+tn(t)):e.value!==""+tn(t)&&(e.value=""+tn(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?cs(e,p,tn(t)):n!=null?cs(e,p,tn(n)):a!=null&&e.removeAttribute("value"),i==null&&c!=null&&(e.defaultChecked=!!c),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+tn(g):e.removeAttribute("name")}function Rs(e,t,n,a,i,c,p,g){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||n!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Bs(e);return}n=n!=null?""+tn(n):"",t=t!=null?""+tn(t):n,g||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=g?e.checked:!!a,e.defaultChecked=!!a,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Bs(e)}function cs(e,t,n){t==="number"&&dt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ea(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+tn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Li(e,t,n){if(t!=null&&(t=""+tn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+tn(n):""}function us(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(m(92));if(ke(a)){if(1<a.length)throw Error(m(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=tn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Bs(e)}function za(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rt(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Su.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ki(e,t,n){if(t!=null&&typeof t!="object")throw Error(m(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&rt(e,i,a)}else for(var c in t)t.hasOwnProperty(c)&&rt(e,c,t[c])}function Xi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(e){return vn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function wn(){}var Ln=null;function Us(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ba=null,Ct=null;function On(e){var t=bt(e);if(t&&(e=t.stateNode)){var n=e[Ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(ma(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+It(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[Ut]||null;if(!i)throw Error(m(90));ma(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Yi(a)}break e;case"textarea":Li(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ea(e,!!n.multiple,t,!1)}}}var Ra=!1;function ml(e,t,n){if(Ra)return e(t,n);Ra=!0;try{var a=e(t);return a}finally{if(Ra=!1,(Ba!==null||Ct!==null)&&(Rc(),Ba&&(t=Ba,e=Ct,Ct=Ba=null,On(t),e)))for(t=0;t<e.length;t++)On(e[t])}}function Ua(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Ut]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(m(231,t,typeof n));return n}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gi=!1;if($t)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{Gi=!1}var Kn=null,qs=null,hl=null;function pl(){if(hl)return hl;var e,t=qs,n=t.length,a,i="value"in Kn?Kn.value:Kn.textContent,c=i.length;for(e=0;e<n&&t[e]===i[e];e++);var p=n-e;for(a=1;a<=p&&t[n-a]===i[c-a];a++);return hl=i.slice(e,1<a?1-a:void 0)}function yl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function os(){return!0}function Jr(){return!1}function Kt(e){function t(n,a,i,c,p){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=c,this.target=p,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?os:Jr,this.isPropagationStopped=Jr,this}return Y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),t}var qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=Kt(qa),ha=Y({},qa,{view:0,detail:0}),Ys=Kt(ha),fs,Qi,ds,Ls=Y({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ds&&(ds&&e.type==="mousemove"?(fs=e.screenX-ds.screenX,Qi=e.screenY-ds.screenY):Qi=fs=0,ds=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:Qi}}),Ks=Kt(Ls),Vi=Y({},Ls,{dataTransfer:0}),Ir=Kt(Vi),Xs=Y({},ha,{relatedTarget:0}),vl=Kt(Xs),Gs=Y({},qa,{animationName:0,elapsedTime:0,pseudoElement:0}),$r=Kt(Gs),_u=Y({},qa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gl=Kt(_u),Zi=Y({},qa,{data:0}),Qs=Kt(Zi),Ji={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ii={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ms(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wt[e])?!!t[e]:!1}function Ha(){return ms}var Wr=Y({},ha,{key:function(e){if(e.key){var t=Ji[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ii[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(e){return e.type==="keypress"?yl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vs=Kt(Wr),Fr=Y({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Kt(Fr),Zs=Y({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),Wi=Kt(Zs),Ya=Y({},qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fi=Kt(Ya),Pi=Y({},Ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Js=Kt(Pi),er=Y({},qa,{newState:0,oldState:0}),Pr=Kt(er),Du=[9,13,27,32],hs=$t&&"CompositionEvent"in window,pa=null;$t&&"documentMode"in document&&(pa=document.documentMode);var Cu=$t&&"TextEvent"in window&&!pa,Is=$t&&(!hs||pa&&8<pa&&11>=pa),$s=" ",ec=!1;function tr(e,t){switch(e){case"keyup":return Du.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var La=!1;function nc(e,t){switch(e){case"compositionend":return tc(t);case"keypress":return t.which!==32?null:(ec=!0,$s);case"textInput":return e=t.data,e===$s&&ec?null:e;default:return null}}function Eu(e,t){if(La)return e==="compositionend"||!hs&&tr(e,t)?(e=pl(),hl=qs=Kn=null,La=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Is&&t.locale!=="ko"?null:t.data;default:return null}}var ac={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ws(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ac[e.type]:t==="textarea"}function nr(e,t,n,a){Ba?Ct?Ct.push(a):Ct=[a]:Ba=a,t=Xc(t,"onChange"),0<t.length&&(n=new Hs("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var xl=null,ps=null;function Au(e){mh(e,0)}function Fs(e){var t=An(e);if(Yi(t))return e}function ys(e,t){if(e==="change")return t}var Xn=!1;if($t){var Et;if($t){var bl="oninput"in document;if(!bl){var Ka=document.createElement("div");Ka.setAttribute("oninput","return;"),bl=typeof Ka.oninput=="function"}Et=bl}else Et=!1;Xn=Et&&(!document.documentMode||9<document.documentMode)}function lc(){xl&&(xl.detachEvent("onpropertychange",Ps),ps=xl=null)}function Ps(e){if(e.propertyName==="value"&&Fs(ps)){var t=[];nr(t,ps,e,Us(e)),ml(Au,t)}}function sc(e,t,n){e==="focusin"?(lc(),xl=t,ps=n,xl.attachEvent("onpropertychange",Ps)):e==="focusout"&&lc()}function Xa(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fs(ps)}function ar(e,t){if(e==="click")return Fs(t)}function wl(e,t){if(e==="input"||e==="change")return Fs(t)}function ya(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mn=typeof Object.is=="function"?Object.is:ya;function l(e,t){if(mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!sa.call(t,i)||!mn(e[i],t[i]))return!1}return!0}function u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f(e,t){var n=u(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u(n)}}function h(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function y(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=dt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dt(e.document)}return t}function v(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var x=$t&&"documentMode"in document&&11>=document.documentMode,w=null,E=null,K=null,A=!1;function D(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;A||w==null||w!==dt(a)||(a=w,"selectionStart"in a&&v(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),K&&l(K,a)||(K=a,a=Xc(E,"onSelect"),0<a.length&&(t=new Hs("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=w)))}function k(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var B={animationend:k("Animation","AnimationEnd"),animationiteration:k("Animation","AnimationIteration"),animationstart:k("Animation","AnimationStart"),transitionrun:k("Transition","TransitionRun"),transitionstart:k("Transition","TransitionStart"),transitioncancel:k("Transition","TransitionCancel"),transitionend:k("Transition","TransitionEnd")},O={},M={};$t&&(M=document.createElement("div").style,"AnimationEvent"in window||(delete B.animationend.animation,delete B.animationiteration.animation,delete B.animationstart.animation),"TransitionEvent"in window||delete B.transitionend.transition);function Q(e){if(O[e])return O[e];if(!B[e])return e;var t=B[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in M)return O[e]=t[n];return e}var $=Q("animationend"),X=Q("animationiteration"),ae=Q("animationstart"),oe=Q("transitionrun"),Se=Q("transitionstart"),Te=Q("transitioncancel"),fe=Q("transitionend"),Oe=new Map,De="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");De.push("scrollEnd");function de(e,t){Oe.set(e,t),Pn(t,[e])}var Me=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Je=[],nt=0,Ke=0;function Ie(){for(var e=nt,t=Ke=nt=0;t<e;){var n=Je[t];Je[t++]=null;var a=Je[t];Je[t++]=null;var i=Je[t];Je[t++]=null;var c=Je[t];if(Je[t++]=null,a!==null&&i!==null){var p=a.pending;p===null?i.next=i:(i.next=p.next,p.next=i),a.pending=i}c!==0&&va(n,i,c)}}function wt(e,t,n,a){Je[nt++]=e,Je[nt++]=t,Je[nt++]=n,Je[nt++]=a,Ke|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function hn(e,t,n,a){return wt(e,t,n,a),jl(e)}function yt(e,t){return wt(e,null,null,t),jl(e)}function va(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,c=e.return;c!==null;)c.childLanes|=n,a=c.alternate,a!==null&&(a.childLanes|=n),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(i=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,i&&t!==null&&(i=31-Ae(n),e=c.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),c):null}function jl(e){if(50<Tr)throw Tr=0,Yo=null,Error(m(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ei={};function w0(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,t,n,a){return new w0(e,t,n,a)}function Ou(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ga(e,t){var n=e.alternate;return n===null?(n=Mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function If(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ic(e,t,n,a,i,c){var p=0;if(a=e,typeof e=="function")Ou(e)&&(p=1);else if(typeof e=="string")p=_y(e,n,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ve:return e=Mn(31,n,t,i),e.elementType=Ve,e.lanes=c,e;case pe:return vs(n.children,i,c,t);case Ce:p=8,i|=24;break;case be:return e=Mn(12,n,t,i|2),e.elementType=be,e.lanes=c,e;case ue:return e=Mn(13,n,t,i),e.elementType=ue,e.lanes=c,e;case he:return e=Mn(19,n,t,i),e.elementType=he,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N:p=10;break e;case Ee:p=9;break e;case je:p=11;break e;case ye:p=14;break e;case Ye:p=16,a=null;break e}p=29,n=Error(m(130,e===null?"null":typeof e,"")),a=null}return t=Mn(p,n,t,i),t.elementType=e,t.type=a,t.lanes=c,t}function vs(e,t,n,a){return e=Mn(7,e,a,t),e.lanes=n,e}function Mu(e,t,n){return e=Mn(6,e,null,t),e.lanes=n,e}function $f(e){var t=Mn(18,null,null,0);return t.stateNode=e,t}function ku(e,t,n){return t=Mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wf=new WeakMap;function Gn(e,t){if(typeof e=="object"&&e!==null){var n=Wf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Jl(t)},Wf.set(e,t),t)}return{value:e,source:t,stack:Jl(t)}}var ti=[],ni=0,rc=null,lr=0,Qn=[],Vn=0,Nl=null,ga=1,xa="";function Qa(e,t){ti[ni++]=lr,ti[ni++]=rc,rc=e,lr=t}function Ff(e,t,n){Qn[Vn++]=ga,Qn[Vn++]=xa,Qn[Vn++]=Nl,Nl=e;var a=ga;e=xa;var i=32-Ae(a)-1;a&=~(1<<i),n+=1;var c=32-Ae(t)+i;if(30<c){var p=i-i%5;c=(a&(1<<p)-1).toString(32),a>>=p,i-=p,ga=1<<32-Ae(t)+i|n<<i|a,xa=c+e}else ga=1<<c|n<<i|a,xa=e}function zu(e){e.return!==null&&(Qa(e,1),Ff(e,1,0))}function Bu(e){for(;e===rc;)rc=ti[--ni],ti[ni]=null,lr=ti[--ni],ti[ni]=null;for(;e===Nl;)Nl=Qn[--Vn],Qn[Vn]=null,xa=Qn[--Vn],Qn[Vn]=null,ga=Qn[--Vn],Qn[Vn]=null}function Pf(e,t){Qn[Vn++]=ga,Qn[Vn++]=xa,Qn[Vn++]=Nl,ga=t.id,xa=t.overflow,Nl=e}var nn=null,At=null,ct=!1,Sl=null,Zn=!1,Ru=Error(m(519));function Tl(e){var t=Error(m(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sr(Gn(t,e)),Ru}function ed(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Dt]=e,t[Ut]=a,n){case"dialog":lt("cancel",t),lt("close",t);break;case"iframe":case"object":case"embed":lt("load",t);break;case"video":case"audio":for(n=0;n<Dr.length;n++)lt(Dr[n],t);break;case"source":lt("error",t);break;case"img":case"image":case"link":lt("error",t),lt("load",t);break;case"details":lt("toggle",t);break;case"input":lt("invalid",t),Rs(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":lt("invalid",t);break;case"textarea":lt("invalid",t),us(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||vh(t.textContent,n)?(a.popover!=null&&(lt("beforetoggle",t),lt("toggle",t)),a.onScroll!=null&&lt("scroll",t),a.onScrollEnd!=null&&lt("scrollend",t),a.onClick!=null&&(t.onclick=wn),t=!0):t=!1,t||Tl(e,!0)}function td(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:nn=nn.return}}function ai(e){if(e!==nn)return!1;if(!ct)return td(e),ct=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||tf(e.type,e.memoizedProps)),n=!n),n&&At&&Tl(e),td(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(317));At=_h(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(317));At=_h(e)}else t===27?(t=At,Hl(e.type)?(e=rf,rf=null,At=e):At=t):At=nn?In(e.stateNode.nextSibling):null;return!0}function gs(){At=nn=null,ct=!1}function Uu(){var e=Sl;return e!==null&&(Tn===null?Tn=e:Tn.push.apply(Tn,e),Sl=null),e}function sr(e){Sl===null?Sl=[e]:Sl.push(e)}var qu=b(null),xs=null,Va=null;function _l(e,t,n){te(qu,t._currentValue),t._currentValue=n}function Za(e){e._currentValue=qu.current,R(qu)}function Hu(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Yu(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){var p=i.child;c=c.firstContext;e:for(;c!==null;){var g=c;c=i;for(var S=0;S<t.length;S++)if(g.context===t[S]){c.lanes|=n,g=c.alternate,g!==null&&(g.lanes|=n),Hu(c.return,n,e),a||(p=null);break e}c=g.next}}else if(i.tag===18){if(p=i.return,p===null)throw Error(m(341));p.lanes|=n,c=p.alternate,c!==null&&(c.lanes|=n),Hu(p,n,e),p=null}else p=i.child;if(p!==null)p.return=i;else for(p=i;p!==null;){if(p===e){p=null;break}if(i=p.sibling,i!==null){i.return=p.return,p=i;break}p=p.return}i=p}}function li(e,t,n,a){e=null;for(var i=t,c=!1;i!==null;){if(!c){if((i.flags&524288)!==0)c=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var p=i.alternate;if(p===null)throw Error(m(387));if(p=p.memoizedProps,p!==null){var g=i.type;mn(i.pendingProps.value,p.value)||(e!==null?e.push(g):e=[g])}}else if(i===Ze.current){if(p=i.alternate,p===null)throw Error(m(387));p.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Mr):e=[Mr])}i=i.return}e!==null&&Yu(t,e,n,a),t.flags|=262144}function cc(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bs(e){xs=e,Va=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function an(e){return nd(xs,e)}function uc(e,t){return xs===null&&bs(e),nd(e,t)}function nd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Va===null){if(e===null)throw Error(m(308));Va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Va=Va.next=t;return n}var j0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},N0=r.unstable_scheduleCallback,S0=r.unstable_NormalPriority,Xt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lu(){return{controller:new j0,data:new Map,refCount:0}}function ir(e){e.refCount--,e.refCount===0&&N0(S0,function(){e.controller.abort()})}var rr=null,Ku=0,si=0,ii=null;function T0(e,t){if(rr===null){var n=rr=[];Ku=0,si=Vo(),ii={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Ku++,t.then(ad,ad),t}function ad(){if(--Ku===0&&rr!==null){ii!==null&&(ii.status="fulfilled");var e=rr;rr=null,si=0,ii=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function _0(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var ld=V.S;V.S=function(e,t){Lm=un(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&T0(e,t),ld!==null&&ld(e,t)};var ws=b(null);function Xu(){var e=ws.current;return e!==null?e:_t.pooledCache}function oc(e,t){t===null?te(ws,ws.current):te(ws,t.pool)}function sd(){var e=Xu();return e===null?null:{parent:Xt._currentValue,pool:e}}var ri=Error(m(460)),Gu=Error(m(474)),fc=Error(m(542)),dc={then:function(){}};function id(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(wn,wn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ud(e),e;default:if(typeof t.status=="string")t.then(wn,wn);else{if(e=_t,e!==null&&100<e.shellSuspendCounter)throw Error(m(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ud(e),e}throw Ns=t,ri}}function js(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ns=n,ri):n}}var Ns=null;function cd(){if(Ns===null)throw Error(m(459));var e=Ns;return Ns=null,e}function ud(e){if(e===ri||e===fc)throw Error(m(483))}var ci=null,cr=0;function mc(e){var t=cr;return cr+=1,ci===null&&(ci=[]),rd(ci,e,t)}function ur(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function hc(e,t){throw t.$$typeof===re?Error(m(525)):(e=Object.prototype.toString.call(t),Error(m(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function od(e){function t(H,z){if(e){var Z=H.deletions;Z===null?(H.deletions=[z],H.flags|=16):Z.push(z)}}function n(H,z){if(!e)return null;for(;z!==null;)t(H,z),z=z.sibling;return null}function a(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function i(H,z){return H=Ga(H,z),H.index=0,H.sibling=null,H}function c(H,z,Z){return H.index=Z,e?(Z=H.alternate,Z!==null?(Z=Z.index,Z<z?(H.flags|=67108866,z):Z):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function p(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function g(H,z,Z,se){return z===null||z.tag!==6?(z=Mu(Z,H.mode,se),z.return=H,z):(z=i(z,Z),z.return=H,z)}function S(H,z,Z,se){var Xe=Z.type;return Xe===pe?le(H,z,Z.props.children,se,Z.key):z!==null&&(z.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===Ye&&js(Xe)===z.type)?(z=i(z,Z.props),ur(z,Z),z.return=H,z):(z=ic(Z.type,Z.key,Z.props,null,H.mode,se),ur(z,Z),z.return=H,z)}function J(H,z,Z,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==Z.containerInfo||z.stateNode.implementation!==Z.implementation?(z=ku(Z,H.mode,se),z.return=H,z):(z=i(z,Z.children||[]),z.return=H,z)}function le(H,z,Z,se,Xe){return z===null||z.tag!==7?(z=vs(Z,H.mode,se,Xe),z.return=H,z):(z=i(z,Z),z.return=H,z)}function ie(H,z,Z){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Mu(""+z,H.mode,Z),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case me:return Z=ic(z.type,z.key,z.props,null,H.mode,Z),ur(Z,z),Z.return=H,Z;case ce:return z=ku(z,H.mode,Z),z.return=H,z;case Ye:return z=js(z),ie(H,z,Z)}if(ke(z)||xe(z))return z=vs(z,H.mode,Z,null),z.return=H,z;if(typeof z.then=="function")return ie(H,mc(z),Z);if(z.$$typeof===N)return ie(H,uc(H,z),Z);hc(H,z)}return null}function W(H,z,Z,se){var Xe=z!==null?z.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Xe!==null?null:g(H,z,""+Z,se);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case me:return Z.key===Xe?S(H,z,Z,se):null;case ce:return Z.key===Xe?J(H,z,Z,se):null;case Ye:return Z=js(Z),W(H,z,Z,se)}if(ke(Z)||xe(Z))return Xe!==null?null:le(H,z,Z,se,null);if(typeof Z.then=="function")return W(H,z,mc(Z),se);if(Z.$$typeof===N)return W(H,z,uc(H,Z),se);hc(H,Z)}return null}function P(H,z,Z,se,Xe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return H=H.get(Z)||null,g(z,H,""+se,Xe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case me:return H=H.get(se.key===null?Z:se.key)||null,S(z,H,se,Xe);case ce:return H=H.get(se.key===null?Z:se.key)||null,J(z,H,se,Xe);case Ye:return se=js(se),P(H,z,Z,se,Xe)}if(ke(se)||xe(se))return H=H.get(Z)||null,le(z,H,se,Xe,null);if(typeof se.then=="function")return P(H,z,Z,mc(se),Xe);if(se.$$typeof===N)return P(H,z,Z,uc(z,se),Xe);hc(z,se)}return null}function Re(H,z,Z,se){for(var Xe=null,ut=null,He=z,Pe=z=0,it=null;He!==null&&Pe<Z.length;Pe++){He.index>Pe?(it=He,He=null):it=He.sibling;var ot=W(H,He,Z[Pe],se);if(ot===null){He===null&&(He=it);break}e&&He&&ot.alternate===null&&t(H,He),z=c(ot,z,Pe),ut===null?Xe=ot:ut.sibling=ot,ut=ot,He=it}if(Pe===Z.length)return n(H,He),ct&&Qa(H,Pe),Xe;if(He===null){for(;Pe<Z.length;Pe++)He=ie(H,Z[Pe],se),He!==null&&(z=c(He,z,Pe),ut===null?Xe=He:ut.sibling=He,ut=He);return ct&&Qa(H,Pe),Xe}for(He=a(He);Pe<Z.length;Pe++)it=P(He,H,Pe,Z[Pe],se),it!==null&&(e&&it.alternate!==null&&He.delete(it.key===null?Pe:it.key),z=c(it,z,Pe),ut===null?Xe=it:ut.sibling=it,ut=it);return e&&He.forEach(function(Gl){return t(H,Gl)}),ct&&Qa(H,Pe),Xe}function Qe(H,z,Z,se){if(Z==null)throw Error(m(151));for(var Xe=null,ut=null,He=z,Pe=z=0,it=null,ot=Z.next();He!==null&&!ot.done;Pe++,ot=Z.next()){He.index>Pe?(it=He,He=null):it=He.sibling;var Gl=W(H,He,ot.value,se);if(Gl===null){He===null&&(He=it);break}e&&He&&Gl.alternate===null&&t(H,He),z=c(Gl,z,Pe),ut===null?Xe=Gl:ut.sibling=Gl,ut=Gl,He=it}if(ot.done)return n(H,He),ct&&Qa(H,Pe),Xe;if(He===null){for(;!ot.done;Pe++,ot=Z.next())ot=ie(H,ot.value,se),ot!==null&&(z=c(ot,z,Pe),ut===null?Xe=ot:ut.sibling=ot,ut=ot);return ct&&Qa(H,Pe),Xe}for(He=a(He);!ot.done;Pe++,ot=Z.next())ot=P(He,H,Pe,ot.value,se),ot!==null&&(e&&ot.alternate!==null&&He.delete(ot.key===null?Pe:ot.key),z=c(ot,z,Pe),ut===null?Xe=ot:ut.sibling=ot,ut=ot);return e&&He.forEach(function(Uy){return t(H,Uy)}),ct&&Qa(H,Pe),Xe}function St(H,z,Z,se){if(typeof Z=="object"&&Z!==null&&Z.type===pe&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case me:e:{for(var Xe=Z.key;z!==null;){if(z.key===Xe){if(Xe=Z.type,Xe===pe){if(z.tag===7){n(H,z.sibling),se=i(z,Z.props.children),se.return=H,H=se;break e}}else if(z.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===Ye&&js(Xe)===z.type){n(H,z.sibling),se=i(z,Z.props),ur(se,Z),se.return=H,H=se;break e}n(H,z);break}else t(H,z);z=z.sibling}Z.type===pe?(se=vs(Z.props.children,H.mode,se,Z.key),se.return=H,H=se):(se=ic(Z.type,Z.key,Z.props,null,H.mode,se),ur(se,Z),se.return=H,H=se)}return p(H);case ce:e:{for(Xe=Z.key;z!==null;){if(z.key===Xe)if(z.tag===4&&z.stateNode.containerInfo===Z.containerInfo&&z.stateNode.implementation===Z.implementation){n(H,z.sibling),se=i(z,Z.children||[]),se.return=H,H=se;break e}else{n(H,z);break}else t(H,z);z=z.sibling}se=ku(Z,H.mode,se),se.return=H,H=se}return p(H);case Ye:return Z=js(Z),St(H,z,Z,se)}if(ke(Z))return Re(H,z,Z,se);if(xe(Z)){if(Xe=xe(Z),typeof Xe!="function")throw Error(m(150));return Z=Xe.call(Z),Qe(H,z,Z,se)}if(typeof Z.then=="function")return St(H,z,mc(Z),se);if(Z.$$typeof===N)return St(H,z,uc(H,Z),se);hc(H,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,z!==null&&z.tag===6?(n(H,z.sibling),se=i(z,Z),se.return=H,H=se):(n(H,z),se=Mu(Z,H.mode,se),se.return=H,H=se),p(H)):n(H,z)}return function(H,z,Z,se){try{cr=0;var Xe=St(H,z,Z,se);return ci=null,Xe}catch(He){if(He===ri||He===fc)throw He;var ut=Mn(29,He,null,H.mode);return ut.lanes=se,ut.return=H,ut}}}var Ss=od(!0),fd=od(!1),Dl=!1;function Qu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Cl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function El(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(mt&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=jl(e),va(e,null,n),t}return wt(e,a,t,n),jl(e)}function or(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Tt(e,n)}}function Zu(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};c===null?i=c=p:c=c.next=p,n=n.next}while(n!==null);c===null?i=c=t:c=c.next=t}else i=c=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ju=!1;function fr(){if(Ju){var e=ii;if(e!==null)throw e}}function dr(e,t,n,a){Ju=!1;var i=e.updateQueue;Dl=!1;var c=i.firstBaseUpdate,p=i.lastBaseUpdate,g=i.shared.pending;if(g!==null){i.shared.pending=null;var S=g,J=S.next;S.next=null,p===null?c=J:p.next=J,p=S;var le=e.alternate;le!==null&&(le=le.updateQueue,g=le.lastBaseUpdate,g!==p&&(g===null?le.firstBaseUpdate=J:g.next=J,le.lastBaseUpdate=S))}if(c!==null){var ie=i.baseState;p=0,le=J=S=null,g=c;do{var W=g.lane&-536870913,P=W!==g.lane;if(P?(st&W)===W:(a&W)===W){W!==0&&W===si&&(Ju=!0),le!==null&&(le=le.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var Re=e,Qe=g;W=t;var St=n;switch(Qe.tag){case 1:if(Re=Qe.payload,typeof Re=="function"){ie=Re.call(St,ie,W);break e}ie=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Qe.payload,W=typeof Re=="function"?Re.call(St,ie,W):Re,W==null)break e;ie=Y({},ie,W);break e;case 2:Dl=!0}}W=g.callback,W!==null&&(e.flags|=64,P&&(e.flags|=8192),P=i.callbacks,P===null?i.callbacks=[W]:P.push(W))}else P={lane:W,tag:g.tag,payload:g.payload,callback:g.callback,next:null},le===null?(J=le=P,S=ie):le=le.next=P,p|=W;if(g=g.next,g===null){if(g=i.shared.pending,g===null)break;P=g,g=P.next,P.next=null,i.lastBaseUpdate=P,i.shared.pending=null}}while(!0);le===null&&(S=ie),i.baseState=S,i.firstBaseUpdate=J,i.lastBaseUpdate=le,c===null&&(i.shared.lanes=0),zl|=p,e.lanes=p,e.memoizedState=ie}}function dd(e,t){if(typeof e!="function")throw Error(m(191,e));e.call(t)}function md(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)dd(n[e],t)}var ui=b(null),pc=b(0);function hd(e,t){e=nl,te(pc,e),te(ui,t),nl=e|t.baseLanes}function Iu(){te(pc,nl),te(ui,ui.current)}function $u(){nl=pc.current,R(ui),R(pc)}var kn=b(null),Jn=null;function Al(e){var t=e.alternate;te(Ht,Ht.current&1),te(kn,e),Jn===null&&(t===null||ui.current!==null||t.memoizedState!==null)&&(Jn=e)}function Wu(e){te(Ht,Ht.current),te(kn,e),Jn===null&&(Jn=e)}function pd(e){e.tag===22?(te(Ht,Ht.current),te(kn,e),Jn===null&&(Jn=e)):Ol()}function Ol(){te(Ht,Ht.current),te(kn,kn.current)}function zn(e){R(kn),Jn===e&&(Jn=null),R(Ht)}var Ht=b(0);function yc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||lf(n)||sf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ja=0,Fe=null,jt=null,Gt=null,vc=!1,oi=!1,Ts=!1,gc=0,mr=0,fi=null,D0=0;function zt(){throw Error(m(321))}function Fu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mn(e[n],t[n]))return!1;return!0}function Pu(e,t,n,a,i,c){return Ja=c,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,V.H=e===null||e.memoizedState===null?Fd:po,Ts=!1,c=n(a,i),Ts=!1,oi&&(c=vd(t,n,a,i)),yd(e),c}function yd(e){V.H=yr;var t=jt!==null&&jt.next!==null;if(Ja=0,Gt=jt=Fe=null,vc=!1,mr=0,fi=null,t)throw Error(m(300));e===null||Qt||(e=e.dependencies,e!==null&&cc(e)&&(Qt=!0))}function vd(e,t,n,a){Fe=e;var i=0;do{if(oi&&(fi=null),mr=0,oi=!1,25<=i)throw Error(m(301));if(i+=1,Gt=jt=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}V.H=Pd,c=t(n,a)}while(oi);return c}function C0(){var e=V.H,t=e.useState()[0];return t=typeof t.then=="function"?hr(t):t,e=e.useState()[0],(jt!==null?jt.memoizedState:null)!==e&&(Fe.flags|=1024),t}function eo(){var e=gc!==0;return gc=0,e}function to(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function no(e){if(vc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vc=!1}Ja=0,Gt=jt=Fe=null,oi=!1,mr=gc=0,fi=null}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Fe.memoizedState=Gt=e:Gt=Gt.next=e,Gt}function Yt(){if(jt===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var t=Gt===null?Fe.memoizedState:Gt.next;if(t!==null)Gt=t,jt=e;else{if(e===null)throw Fe.alternate===null?Error(m(467)):Error(m(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Gt===null?Fe.memoizedState=Gt=e:Gt=Gt.next=e}return Gt}function xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hr(e){var t=mr;return mr+=1,fi===null&&(fi=[]),e=rd(fi,e,t),t=Fe,(Gt===null?t.memoizedState:Gt.next)===null&&(t=t.alternate,V.H=t===null||t.memoizedState===null?Fd:po),e}function bc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return hr(e);if(e.$$typeof===N)return an(e)}throw Error(m(438,String(e)))}function ao(e){var t=null,n=Fe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Fe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=xc(),Fe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=ft;return t.index++,n}function Ia(e,t){return typeof t=="function"?t(e):t}function wc(e){var t=Yt();return lo(t,jt,e)}function lo(e,t,n){var a=e.queue;if(a===null)throw Error(m(311));a.lastRenderedReducer=n;var i=e.baseQueue,c=a.pending;if(c!==null){if(i!==null){var p=i.next;i.next=c.next,c.next=p}t.baseQueue=i=c,a.pending=null}if(c=e.baseState,i===null)e.memoizedState=c;else{t=i.next;var g=p=null,S=null,J=t,le=!1;do{var ie=J.lane&-536870913;if(ie!==J.lane?(st&ie)===ie:(Ja&ie)===ie){var W=J.revertLane;if(W===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ie===si&&(le=!0);else if((Ja&W)===W){J=J.next,W===si&&(le=!0);continue}else ie={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},S===null?(g=S=ie,p=c):S=S.next=ie,Fe.lanes|=W,zl|=W;ie=J.action,Ts&&n(c,ie),c=J.hasEagerState?J.eagerState:n(c,ie)}else W={lane:ie,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},S===null?(g=S=W,p=c):S=S.next=W,Fe.lanes|=ie,zl|=ie;J=J.next}while(J!==null&&J!==t);if(S===null?p=c:S.next=g,!mn(c,e.memoizedState)&&(Qt=!0,le&&(n=ii,n!==null)))throw n;e.memoizedState=c,e.baseState=p,e.baseQueue=S,a.lastRenderedState=c}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function so(e){var t=Yt(),n=t.queue;if(n===null)throw Error(m(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,c=t.memoizedState;if(i!==null){n.pending=null;var p=i=i.next;do c=e(c,p.action),p=p.next;while(p!==i);mn(c,t.memoizedState)||(Qt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,a]}function gd(e,t,n){var a=Fe,i=Yt(),c=ct;if(c){if(n===void 0)throw Error(m(407));n=n()}else n=t();var p=!mn((jt||i).memoizedState,n);if(p&&(i.memoizedState=n,Qt=!0),i=i.queue,co(wd.bind(null,a,i,e),[e]),i.getSnapshot!==t||p||Gt!==null&&Gt.memoizedState.tag&1){if(a.flags|=2048,di(9,{destroy:void 0},bd.bind(null,a,i,n,t),null),_t===null)throw Error(m(349));c||(Ja&127)!==0||xd(a,t,n)}return n}function xd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Fe.updateQueue,t===null?(t=xc(),Fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function bd(e,t,n,a){t.value=n,t.getSnapshot=a,jd(t)&&Nd(e)}function wd(e,t,n){return n(function(){jd(t)&&Nd(e)})}function jd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mn(e,n)}catch{return!0}}function Nd(e){var t=yt(e,2);t!==null&&_n(t,e,2)}function io(e){var t=gn();if(typeof e=="function"){var n=e;if(e=n(),Ts){en(!0);try{n()}finally{en(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},t}function Sd(e,t,n,a){return e.baseState=n,lo(e,jt,typeof a=="function"?a:Ia)}function E0(e,t,n,a,i){if(Sc(e))throw Error(m(485));if(e=t.action,e!==null){var c={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){c.listeners.push(p)}};V.T!==null?n(!0):c.isTransition=!1,a(c),n=t.pending,n===null?(c.next=t.pending=c,Td(t,c)):(c.next=n.next,t.pending=n.next=c)}}function Td(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var c=V.T,p={};V.T=p;try{var g=n(i,a),S=V.S;S!==null&&S(p,g),_d(e,t,g)}catch(J){ro(e,t,J)}finally{c!==null&&p.types!==null&&(c.types=p.types),V.T=c}}else try{c=n(i,a),_d(e,t,c)}catch(J){ro(e,t,J)}}function _d(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Dd(e,t,a)},function(a){return ro(e,t,a)}):Dd(e,t,n)}function Dd(e,t,n){t.status="fulfilled",t.value=n,Cd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Td(e,n)))}function ro(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Cd(t),t=t.next;while(t!==a)}e.action=null}function Cd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ed(e,t){return t}function Ad(e,t){if(ct){var n=_t.formState;if(n!==null){e:{var a=Fe;if(ct){if(At){t:{for(var i=At,c=Zn;i.nodeType!==8;){if(!c){i=null;break t}if(i=In(i.nextSibling),i===null){i=null;break t}}c=i.data,i=c==="F!"||c==="F"?i:null}if(i){At=In(i.nextSibling),a=i.data==="F!";break e}}Tl(a)}a=!1}a&&(t=n[0])}}return n=gn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:t},n.queue=a,n=Id.bind(null,Fe,a),a.dispatch=n,a=io(!1),c=ho.bind(null,Fe,!1,a.queue),a=gn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=E0.bind(null,Fe,i,c,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Od(e){var t=Yt();return Md(t,jt,e)}function Md(e,t,n){if(t=lo(e,t,Ed)[0],e=wc(Ia)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=hr(t)}catch(p){throw p===ri?fc:p}else a=t;t=Yt();var i=t.queue,c=i.dispatch;return n!==t.memoizedState&&(Fe.flags|=2048,di(9,{destroy:void 0},A0.bind(null,i,n),null)),[a,c,e]}function A0(e,t){e.action=t}function kd(e){var t=Yt(),n=jt;if(n!==null)return Md(t,n,e);Yt(),t=t.memoizedState,n=Yt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function di(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Fe.updateQueue,t===null&&(t=xc(),Fe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function zd(){return Yt().memoizedState}function jc(e,t,n,a){var i=gn();Fe.flags|=e,i.memoizedState=di(1|t,{destroy:void 0},n,a===void 0?null:a)}function Nc(e,t,n,a){var i=Yt();a=a===void 0?null:a;var c=i.memoizedState.inst;jt!==null&&a!==null&&Fu(a,jt.memoizedState.deps)?i.memoizedState=di(t,c,n,a):(Fe.flags|=e,i.memoizedState=di(1|t,c,n,a))}function Bd(e,t){jc(8390656,8,e,t)}function co(e,t){Nc(2048,8,e,t)}function O0(e){Fe.flags|=4;var t=Fe.updateQueue;if(t===null)t=xc(),Fe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Rd(e){var t=Yt().memoizedState;return O0({ref:t,nextImpl:e}),function(){if((mt&2)!==0)throw Error(m(440));return t.impl.apply(void 0,arguments)}}function Ud(e,t){return Nc(4,2,e,t)}function qd(e,t){return Nc(4,4,e,t)}function Hd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yd(e,t,n){n=n!=null?n.concat([e]):null,Nc(4,4,Hd.bind(null,t,e),n)}function uo(){}function Ld(e,t){var n=Yt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Fu(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Kd(e,t){var n=Yt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Fu(t,a[1]))return a[0];if(a=e(),Ts){en(!0);try{e()}finally{en(!1)}}return n.memoizedState=[a,t],a}function oo(e,t,n){return n===void 0||(Ja&1073741824)!==0&&(st&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Xm(),Fe.lanes|=e,zl|=e,n)}function Xd(e,t,n,a){return mn(n,t)?n:ui.current!==null?(e=oo(e,n,a),mn(e,t)||(Qt=!0),e):(Ja&42)===0||(Ja&1073741824)!==0&&(st&261930)===0?(Qt=!0,e.memoizedState=n):(e=Xm(),Fe.lanes|=e,zl|=e,t)}function Gd(e,t,n,a,i){var c=F.p;F.p=c!==0&&8>c?c:8;var p=V.T,g={};V.T=g,ho(e,!1,t,n);try{var S=i(),J=V.S;if(J!==null&&J(g,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var le=_0(S,a);pr(e,t,le,Un(e))}else pr(e,t,a,Un(e))}catch(ie){pr(e,t,{then:function(){},status:"rejected",reason:ie},Un())}finally{F.p=c,p!==null&&g.types!==null&&(p.types=g.types),V.T=p}}function M0(){}function fo(e,t,n,a){if(e.tag!==5)throw Error(m(476));var i=Qd(e).queue;Gd(e,i,t,I,n===null?M0:function(){return Vd(e),n(a)})}function Qd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:I},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vd(e){var t=Qd(e);t.next===null&&(t=e.alternate.memoizedState),pr(e,t.next.queue,{},Un())}function mo(){return an(Mr)}function Zd(){return Yt().memoizedState}function Jd(){return Yt().memoizedState}function k0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Un();e=Cl(n);var a=El(t,e,n);a!==null&&(_n(a,t,n),or(a,t,n)),t={cache:Lu()},e.payload=t;return}t=t.return}}function z0(e,t,n){var a=Un();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Sc(e)?$d(t,n):(n=hn(e,t,n,a),n!==null&&(_n(n,e,a),Wd(n,t,a)))}function Id(e,t,n){var a=Un();pr(e,t,n,a)}function pr(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sc(e))$d(t,i);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var p=t.lastRenderedState,g=c(p,n);if(i.hasEagerState=!0,i.eagerState=g,mn(g,p))return wt(e,t,i,0),_t===null&&Ie(),!1}catch{}if(n=hn(e,t,i,a),n!==null)return _n(n,e,a),Wd(n,t,a),!0}return!1}function ho(e,t,n,a){if(a={lane:2,revertLane:Vo(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Sc(e)){if(t)throw Error(m(479))}else t=hn(e,n,a,2),t!==null&&_n(t,e,2)}function Sc(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function $d(e,t){oi=vc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wd(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Tt(e,n)}}var yr={readContext:an,use:bc,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};yr.useEffectEvent=zt;var Fd={readContext:an,use:bc,useCallback:function(e,t){return gn().memoizedState=[e,t===void 0?null:t],e},useContext:an,useEffect:Bd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,jc(4194308,4,Hd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jc(4194308,4,e,t)},useInsertionEffect:function(e,t){jc(4,2,e,t)},useMemo:function(e,t){var n=gn();t=t===void 0?null:t;var a=e();if(Ts){en(!0);try{e()}finally{en(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=gn();if(n!==void 0){var i=n(t);if(Ts){en(!0);try{n(t)}finally{en(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=z0.bind(null,Fe,e),[a.memoizedState,e]},useRef:function(e){var t=gn();return e={current:e},t.memoizedState=e},useState:function(e){e=io(e);var t=e.queue,n=Id.bind(null,Fe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:uo,useDeferredValue:function(e,t){var n=gn();return oo(n,e,t)},useTransition:function(){var e=io(!1);return e=Gd.bind(null,Fe,e.queue,!0,!1),gn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Fe,i=gn();if(ct){if(n===void 0)throw Error(m(407));n=n()}else{if(n=t(),_t===null)throw Error(m(349));(st&127)!==0||xd(a,t,n)}i.memoizedState=n;var c={value:n,getSnapshot:t};return i.queue=c,Bd(wd.bind(null,a,c,e),[e]),a.flags|=2048,di(9,{destroy:void 0},bd.bind(null,a,c,n,t),null),n},useId:function(){var e=gn(),t=_t.identifierPrefix;if(ct){var n=xa,a=ga;n=(a&~(1<<32-Ae(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=gc++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=D0++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:mo,useFormState:Ad,useActionState:Ad,useOptimistic:function(e){var t=gn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ho.bind(null,Fe,!0,n),n.dispatch=t,[e,t]},useMemoCache:ao,useCacheRefresh:function(){return gn().memoizedState=k0.bind(null,Fe)},useEffectEvent:function(e){var t=gn(),n={impl:e};return t.memoizedState=n,function(){if((mt&2)!==0)throw Error(m(440));return n.impl.apply(void 0,arguments)}}},po={readContext:an,use:bc,useCallback:Ld,useContext:an,useEffect:co,useImperativeHandle:Yd,useInsertionEffect:Ud,useLayoutEffect:qd,useMemo:Kd,useReducer:wc,useRef:zd,useState:function(){return wc(Ia)},useDebugValue:uo,useDeferredValue:function(e,t){var n=Yt();return Xd(n,jt.memoizedState,e,t)},useTransition:function(){var e=wc(Ia)[0],t=Yt().memoizedState;return[typeof e=="boolean"?e:hr(e),t]},useSyncExternalStore:gd,useId:Zd,useHostTransitionStatus:mo,useFormState:Od,useActionState:Od,useOptimistic:function(e,t){var n=Yt();return Sd(n,jt,e,t)},useMemoCache:ao,useCacheRefresh:Jd};po.useEffectEvent=Rd;var Pd={readContext:an,use:bc,useCallback:Ld,useContext:an,useEffect:co,useImperativeHandle:Yd,useInsertionEffect:Ud,useLayoutEffect:qd,useMemo:Kd,useReducer:so,useRef:zd,useState:function(){return so(Ia)},useDebugValue:uo,useDeferredValue:function(e,t){var n=Yt();return jt===null?oo(n,e,t):Xd(n,jt.memoizedState,e,t)},useTransition:function(){var e=so(Ia)[0],t=Yt().memoizedState;return[typeof e=="boolean"?e:hr(e),t]},useSyncExternalStore:gd,useId:Zd,useHostTransitionStatus:mo,useFormState:kd,useActionState:kd,useOptimistic:function(e,t){var n=Yt();return jt!==null?Sd(n,jt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ao,useCacheRefresh:Jd};Pd.useEffectEvent=Rd;function yo(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:Y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vo={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Un(),i=Cl(a);i.payload=t,n!=null&&(i.callback=n),t=El(e,i,a),t!==null&&(_n(t,e,a),or(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Un(),i=Cl(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=El(e,i,a),t!==null&&(_n(t,e,a),or(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Un(),a=Cl(n);a.tag=2,t!=null&&(a.callback=t),t=El(e,a,n),t!==null&&(_n(t,e,n),or(t,e,n))}};function em(e,t,n,a,i,c,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,p):t.prototype&&t.prototype.isPureReactComponent?!l(n,a)||!l(i,c):!0}function tm(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function _s(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=Y({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function nm(e){Me(e)}function am(e){console.error(e)}function lm(e){Me(e)}function Tc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function sm(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function go(e,t,n){return n=Cl(n),n.tag=3,n.payload={element:null},n.callback=function(){Tc(e,t)},n}function im(e){return e=Cl(e),e.tag=3,e}function rm(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var c=a.value;e.payload=function(){return i(c)},e.callback=function(){sm(t,n,a)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){sm(t,n,a),typeof i!="function"&&(Bl===null?Bl=new Set([this]):Bl.add(this));var g=a.stack;this.componentDidCatch(a.value,{componentStack:g!==null?g:""})})}function B0(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&li(t,n,i,!0),n=kn.current,n!==null){switch(n.tag){case 31:case 13:return Jn===null?Uc():n.alternate===null&&Bt===0&&(Bt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===dc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Xo(e,a,i)),!1;case 22:return n.flags|=65536,a===dc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Xo(e,a,i)),!1}throw Error(m(435,n.tag))}return Xo(e,a,i),Uc(),!1}if(ct)return t=kn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Ru&&(e=Error(m(422),{cause:a}),sr(Gn(e,n)))):(a!==Ru&&(t=Error(m(423),{cause:a}),sr(Gn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Gn(a,n),i=go(e.stateNode,a,i),Zu(e,i),Bt!==4&&(Bt=2)),!1;var c=Error(m(520),{cause:a});if(c=Gn(c,n),Sr===null?Sr=[c]:Sr.push(c),Bt!==4&&(Bt=2),t===null)return!0;a=Gn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=go(n.stateNode,a,e),Zu(n,e),!1;case 1:if(t=n.type,c=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Bl===null||!Bl.has(c))))return n.flags|=65536,i&=-i,n.lanes|=i,i=im(i),rm(i,e,n,a),Zu(n,i),!1}n=n.return}while(n!==null);return!1}var xo=Error(m(461)),Qt=!1;function ln(e,t,n,a){t.child=e===null?fd(t,null,n,a):Ss(t,e.child,n,a)}function cm(e,t,n,a,i){n=n.render;var c=t.ref;if("ref"in a){var p={};for(var g in a)g!=="ref"&&(p[g]=a[g])}else p=a;return bs(t),a=Pu(e,t,n,p,c,i),g=eo(),e!==null&&!Qt?(to(e,t,i),$a(e,t,i)):(ct&&g&&zu(t),t.flags|=1,ln(e,t,a,i),t.child)}function um(e,t,n,a,i){if(e===null){var c=n.type;return typeof c=="function"&&!Ou(c)&&c.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=c,om(e,t,c,a,i)):(e=ic(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Do(e,i)){var p=c.memoizedProps;if(n=n.compare,n=n!==null?n:l,n(p,a)&&e.ref===t.ref)return $a(e,t,i)}return t.flags|=1,e=Ga(c,a),e.ref=t.ref,e.return=t,t.child=e}function om(e,t,n,a,i){if(e!==null){var c=e.memoizedProps;if(l(c,a)&&e.ref===t.ref)if(Qt=!1,t.pendingProps=a=c,Do(e,i))(e.flags&131072)!==0&&(Qt=!0);else return t.lanes=e.lanes,$a(e,t,i)}return bo(e,t,n,a,i)}function fm(e,t,n,a){var i=a.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~c}else a=0,t.child=null;return dm(e,t,c,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&oc(t,c!==null?c.cachePool:null),c!==null?hd(t,c):Iu(),pd(t);else return a=t.lanes=536870912,dm(e,t,c!==null?c.baseLanes|n:n,n,a)}else c!==null?(oc(t,c.cachePool),hd(t,c),Ol(),t.memoizedState=null):(e!==null&&oc(t,null),Iu(),Ol());return ln(e,t,i,n),t.child}function vr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function dm(e,t,n,a,i){var c=Xu();return c=c===null?null:{parent:Xt._currentValue,pool:c},t.memoizedState={baseLanes:n,cachePool:c},e!==null&&oc(t,null),Iu(),pd(t),e!==null&&li(e,t,a,!0),t.childLanes=i,null}function _c(e,t){return t=Cc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function mm(e,t,n){return Ss(t,e.child,null,n),e=_c(t,t.pendingProps),e.flags|=2,zn(t),t.memoizedState=null,e}function R0(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ct){if(a.mode==="hidden")return e=_c(t,a),t.lanes=536870912,vr(null,e);if(Wu(t),(e=At)?(e=Th(e,Zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Nl!==null?{id:ga,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},n=$f(e),n.return=t,t.child=n,nn=t,At=null)):e=null,e===null)throw Tl(t);return t.lanes=536870912,null}return _c(t,a)}var c=e.memoizedState;if(c!==null){var p=c.dehydrated;if(Wu(t),i)if(t.flags&256)t.flags&=-257,t=mm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(m(558));else if(Qt||li(e,t,n,!1),i=(n&e.childLanes)!==0,Qt||i){if(a=_t,a!==null&&(p=Rt(a,n),p!==0&&p!==c.retryLane))throw c.retryLane=p,yt(e,p),_n(a,e,p),xo;Uc(),t=mm(e,t,n)}else e=c.treeContext,At=In(p.nextSibling),nn=t,ct=!0,Sl=null,Zn=!1,e!==null&&Pf(t,e),t=_c(t,a),t.flags|=4096;return t}return e=Ga(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Dc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(m(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function bo(e,t,n,a,i){return bs(t),n=Pu(e,t,n,a,void 0,i),a=eo(),e!==null&&!Qt?(to(e,t,i),$a(e,t,i)):(ct&&a&&zu(t),t.flags|=1,ln(e,t,n,i),t.child)}function hm(e,t,n,a,i,c){return bs(t),t.updateQueue=null,n=vd(t,a,n,i),yd(e),a=eo(),e!==null&&!Qt?(to(e,t,c),$a(e,t,c)):(ct&&a&&zu(t),t.flags|=1,ln(e,t,n,c),t.child)}function pm(e,t,n,a,i){if(bs(t),t.stateNode===null){var c=ei,p=n.contextType;typeof p=="object"&&p!==null&&(c=an(p)),c=new n(a,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=vo,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=a,c.state=t.memoizedState,c.refs={},Qu(t),p=n.contextType,c.context=typeof p=="object"&&p!==null?an(p):ei,c.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(yo(t,n,p,a),c.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(p=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),p!==c.state&&vo.enqueueReplaceState(c,c.state,null),dr(t,a,c,i),fr(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){c=t.stateNode;var g=t.memoizedProps,S=_s(n,g);c.props=S;var J=c.context,le=n.contextType;p=ei,typeof le=="object"&&le!==null&&(p=an(le));var ie=n.getDerivedStateFromProps;le=typeof ie=="function"||typeof c.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,le||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g||J!==p)&&tm(t,c,a,p),Dl=!1;var W=t.memoizedState;c.state=W,dr(t,a,c,i),fr(),J=t.memoizedState,g||W!==J||Dl?(typeof ie=="function"&&(yo(t,n,ie,a),J=t.memoizedState),(S=Dl||em(t,n,S,a,W,J,p))?(le||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=J),c.props=a,c.state=J,c.context=p,a=S):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,Vu(e,t),p=t.memoizedProps,le=_s(n,p),c.props=le,ie=t.pendingProps,W=c.context,J=n.contextType,S=ei,typeof J=="object"&&J!==null&&(S=an(J)),g=n.getDerivedStateFromProps,(J=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==ie||W!==S)&&tm(t,c,a,S),Dl=!1,W=t.memoizedState,c.state=W,dr(t,a,c,i),fr();var P=t.memoizedState;p!==ie||W!==P||Dl||e!==null&&e.dependencies!==null&&cc(e.dependencies)?(typeof g=="function"&&(yo(t,n,g,a),P=t.memoizedState),(le=Dl||em(t,n,le,a,W,P,S)||e!==null&&e.dependencies!==null&&cc(e.dependencies))?(J||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,P,S),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,P,S)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=P),c.props=a,c.state=P,c.context=S,a=le):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),a=!1)}return c=a,Dc(e,t),a=(t.flags&128)!==0,c||a?(c=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&a?(t.child=Ss(t,e.child,null,i),t.child=Ss(t,null,n,i)):ln(e,t,n,i),t.memoizedState=c.state,e=t.child):e=$a(e,t,i),e}function ym(e,t,n,a){return gs(),t.flags|=256,ln(e,t,n,a),t.child}var wo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jo(e){return{baseLanes:e,cachePool:sd()}}function No(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Rn),e}function vm(e,t,n){var a=t.pendingProps,i=!1,c=(t.flags&128)!==0,p;if((p=c)||(p=e!==null&&e.memoizedState===null?!1:(Ht.current&2)!==0),p&&(i=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(ct){if(i?Al(t):Ol(),(e=At)?(e=Th(e,Zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Nl!==null?{id:ga,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},n=$f(e),n.return=t,t.child=n,nn=t,At=null)):e=null,e===null)throw Tl(t);return sf(e)?t.lanes=32:t.lanes=536870912,null}var g=a.children;return a=a.fallback,i?(Ol(),i=t.mode,g=Cc({mode:"hidden",children:g},i),a=vs(a,i,n,null),g.return=t,a.return=t,g.sibling=a,t.child=g,a=t.child,a.memoizedState=jo(n),a.childLanes=No(e,p,n),t.memoizedState=wo,vr(null,a)):(Al(t),So(t,g))}var S=e.memoizedState;if(S!==null&&(g=S.dehydrated,g!==null)){if(c)t.flags&256?(Al(t),t.flags&=-257,t=To(e,t,n)):t.memoizedState!==null?(Ol(),t.child=e.child,t.flags|=128,t=null):(Ol(),g=a.fallback,i=t.mode,a=Cc({mode:"visible",children:a.children},i),g=vs(g,i,n,null),g.flags|=2,a.return=t,g.return=t,a.sibling=g,t.child=a,Ss(t,e.child,null,n),a=t.child,a.memoizedState=jo(n),a.childLanes=No(e,p,n),t.memoizedState=wo,t=vr(null,a));else if(Al(t),sf(g)){if(p=g.nextSibling&&g.nextSibling.dataset,p)var J=p.dgst;p=J,a=Error(m(419)),a.stack="",a.digest=p,sr({value:a,source:null,stack:null}),t=To(e,t,n)}else if(Qt||li(e,t,n,!1),p=(n&e.childLanes)!==0,Qt||p){if(p=_t,p!==null&&(a=Rt(p,n),a!==0&&a!==S.retryLane))throw S.retryLane=a,yt(e,a),_n(p,e,a),xo;lf(g)||Uc(),t=To(e,t,n)}else lf(g)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,At=In(g.nextSibling),nn=t,ct=!0,Sl=null,Zn=!1,e!==null&&Pf(t,e),t=So(t,a.children),t.flags|=4096);return t}return i?(Ol(),g=a.fallback,i=t.mode,S=e.child,J=S.sibling,a=Ga(S,{mode:"hidden",children:a.children}),a.subtreeFlags=S.subtreeFlags&65011712,J!==null?g=Ga(J,g):(g=vs(g,i,n,null),g.flags|=2),g.return=t,a.return=t,a.sibling=g,t.child=a,vr(null,a),a=t.child,g=e.child.memoizedState,g===null?g=jo(n):(i=g.cachePool,i!==null?(S=Xt._currentValue,i=i.parent!==S?{parent:S,pool:S}:i):i=sd(),g={baseLanes:g.baseLanes|n,cachePool:i}),a.memoizedState=g,a.childLanes=No(e,p,n),t.memoizedState=wo,vr(e.child,a)):(Al(t),n=e.child,e=n.sibling,n=Ga(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function So(e,t){return t=Cc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Cc(e,t){return e=Mn(22,e,null,t),e.lanes=0,e}function To(e,t,n){return Ss(t,e.child,null,n),e=So(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gm(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Hu(e.return,t,n)}function _o(e,t,n,a,i,c){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:c}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=n,p.tailMode=i,p.treeForkCount=c)}function xm(e,t,n){var a=t.pendingProps,i=a.revealOrder,c=a.tail;a=a.children;var p=Ht.current,g=(p&2)!==0;if(g?(p=p&1|2,t.flags|=128):p&=1,te(Ht,p),ln(e,t,a,n),a=ct?lr:0,!g&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gm(e,n,t);else if(e.tag===19)gm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&yc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),_o(t,!1,i,n,c,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&yc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}_o(t,!0,n,null,c,a);break;case"together":_o(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function $a(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(li(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(m(153));if(t.child!==null){for(e=t.child,n=Ga(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ga(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Do(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&cc(e)))}function U0(e,t,n){switch(t.tag){case 3:kt(t,t.stateNode.containerInfo),_l(t,Xt,e.memoizedState.cache),gs();break;case 27:case 5:Ue(t);break;case 4:kt(t,t.stateNode.containerInfo);break;case 10:_l(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Wu(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Al(t),t.flags|=128,null):(n&t.child.childLanes)!==0?vm(e,t,n):(Al(t),e=$a(e,t,n),e!==null?e.sibling:null);Al(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(li(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return xm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),te(Ht,Ht.current),a)break;return null;case 22:return t.lanes=0,fm(e,t,n,t.pendingProps);case 24:_l(t,Xt,e.memoizedState.cache)}return $a(e,t,n)}function bm(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qt=!0;else{if(!Do(e,n)&&(t.flags&128)===0)return Qt=!1,U0(e,t,n);Qt=(e.flags&131072)!==0}else Qt=!1,ct&&(t.flags&1048576)!==0&&Ff(t,lr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=js(t.elementType),t.type=e,typeof e=="function")Ou(e)?(a=_s(e,a),t.tag=1,t=pm(null,t,e,a,n)):(t.tag=0,t=bo(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===je){t.tag=11,t=cm(null,t,e,a,n);break e}else if(i===ye){t.tag=14,t=um(null,t,e,a,n);break e}}throw t=ve(e)||e,Error(m(306,t,""))}}return t;case 0:return bo(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=_s(a,t.pendingProps),pm(e,t,a,i,n);case 3:e:{if(kt(t,t.stateNode.containerInfo),e===null)throw Error(m(387));a=t.pendingProps;var c=t.memoizedState;i=c.element,Vu(e,t),dr(t,a,null,n);var p=t.memoizedState;if(a=p.cache,_l(t,Xt,a),a!==c.cache&&Yu(t,[Xt],n,!0),fr(),a=p.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=ym(e,t,a,n);break e}else if(a!==i){i=Gn(Error(m(424)),t),sr(i),t=ym(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,At=In(e.firstChild),nn=t,ct=!0,Sl=null,Zn=!0,n=fd(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gs(),a===i){t=$a(e,t,n);break e}ln(e,t,a,n)}t=t.child}return t;case 26:return Dc(e,t),e===null?(n=Oh(t.type,null,t.pendingProps,null))?t.memoizedState=n:ct||(n=t.type,e=t.pendingProps,a=Gc(qe.current).createElement(n),a[Dt]=t,a[Ut]=e,sn(a,n,e),qt(a),t.stateNode=a):t.memoizedState=Oh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ue(t),e===null&&ct&&(a=t.stateNode=Ch(t.type,t.pendingProps,qe.current),nn=t,Zn=!0,i=At,Hl(t.type)?(rf=i,At=In(a.firstChild)):At=i),ln(e,t,t.pendingProps.children,n),Dc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ct&&((i=a=At)&&(a=my(a,t.type,t.pendingProps,Zn),a!==null?(t.stateNode=a,nn=t,At=In(a.firstChild),Zn=!1,i=!0):i=!1),i||Tl(t)),Ue(t),i=t.type,c=t.pendingProps,p=e!==null?e.memoizedProps:null,a=c.children,tf(i,c)?a=null:p!==null&&tf(i,p)&&(t.flags|=32),t.memoizedState!==null&&(i=Pu(e,t,C0,null,null,n),Mr._currentValue=i),Dc(e,t),ln(e,t,a,n),t.child;case 6:return e===null&&ct&&((e=n=At)&&(n=hy(n,t.pendingProps,Zn),n!==null?(t.stateNode=n,nn=t,At=null,e=!0):e=!1),e||Tl(t)),null;case 13:return vm(e,t,n);case 4:return kt(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ss(t,null,a,n):ln(e,t,a,n),t.child;case 11:return cm(e,t,t.type,t.pendingProps,n);case 7:return ln(e,t,t.pendingProps,n),t.child;case 8:return ln(e,t,t.pendingProps.children,n),t.child;case 12:return ln(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,_l(t,t.type,a.value),ln(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,bs(t),i=an(i),a=a(i),t.flags|=1,ln(e,t,a,n),t.child;case 14:return um(e,t,t.type,t.pendingProps,n);case 15:return om(e,t,t.type,t.pendingProps,n);case 19:return xm(e,t,n);case 31:return R0(e,t,n);case 22:return fm(e,t,n,t.pendingProps);case 24:return bs(t),a=an(Xt),e===null?(i=Xu(),i===null&&(i=_t,c=Lu(),i.pooledCache=c,c.refCount++,c!==null&&(i.pooledCacheLanes|=n),i=c),t.memoizedState={parent:a,cache:i},Qu(t),_l(t,Xt,i)):((e.lanes&n)!==0&&(Vu(e,t),dr(t,null,null,n),fr()),i=e.memoizedState,c=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),_l(t,Xt,a)):(a=c.cache,_l(t,Xt,a),a!==i.cache&&Yu(t,[Xt],n,!0))),ln(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(m(156,t.tag))}function Wa(e){e.flags|=4}function Co(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Zm())e.flags|=8192;else throw Ns=dc,Gu}else e.flags&=-16777217}function wm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Rh(t))if(Zm())e.flags|=8192;else throw Ns=dc,Gu}function Ec(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Qr():536870912,e.lanes|=t,yi|=t)}function gr(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function q0(e,t,n){var a=t.pendingProps;switch(Bu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(t),null;case 1:return Ot(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Za(Xt),ht(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ai(t)?Wa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Uu())),Ot(t),null;case 26:var i=t.type,c=t.memoizedState;return e===null?(Wa(t),c!==null?(Ot(t),wm(t,c)):(Ot(t),Co(t,i,null,a,n))):c?c!==e.memoizedState?(Wa(t),Ot(t),wm(t,c)):(Ot(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Wa(t),Ot(t),Co(t,i,e,a,n)),null;case 27:if(ze(t),n=qe.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Wa(t);else{if(!a){if(t.stateNode===null)throw Error(m(166));return Ot(t),null}e=ne.current,ai(t)?ed(t):(e=Ch(i,a,n),t.stateNode=e,Wa(t))}return Ot(t),null;case 5:if(ze(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Wa(t);else{if(!a){if(t.stateNode===null)throw Error(m(166));return Ot(t),null}if(c=ne.current,ai(t))ed(t);else{var p=Gc(qe.current);switch(c){case 1:c=p.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:c=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":c=p.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":c=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":c=p.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof a.is=="string"?p.createElement("select",{is:a.is}):p.createElement("select"),a.multiple?c.multiple=!0:a.size&&(c.size=a.size);break;default:c=typeof a.is=="string"?p.createElement(i,{is:a.is}):p.createElement(i)}}c[Dt]=t,c[Ut]=a;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)c.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=c;e:switch(sn(c,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Wa(t)}}return Ot(t),Co(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Wa(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(m(166));if(e=qe.current,ai(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=nn,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Dt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||vh(e.nodeValue,n)),e||Tl(t,!0)}else e=Gc(e).createTextNode(a),e[Dt]=t,t.stateNode=e}return Ot(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=ai(t),n!==null){if(e===null){if(!a)throw Error(m(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(557));e[Dt]=t}else gs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ot(t),e=!1}else n=Uu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(zn(t),t):(zn(t),null);if((t.flags&128)!==0)throw Error(m(558))}return Ot(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=ai(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(m(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(m(317));i[Dt]=t}else gs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ot(t),i=!1}else i=Uu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(zn(t),t):(zn(t),null)}return zn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ec(t,t.updateQueue),Ot(t),null);case 4:return ht(),e===null&&$o(t.stateNode.containerInfo),Ot(t),null;case 10:return Za(t.type),Ot(t),null;case 19:if(R(Ht),a=t.memoizedState,a===null)return Ot(t),null;if(i=(t.flags&128)!==0,c=a.rendering,c===null)if(i)gr(a,!1);else{if(Bt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=yc(e),c!==null){for(t.flags|=128,gr(a,!1),e=c.updateQueue,t.updateQueue=e,Ec(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)If(n,e),n=n.sibling;return te(Ht,Ht.current&1|2),ct&&Qa(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&un()>zc&&(t.flags|=128,i=!0,gr(a,!1),t.lanes=4194304)}else{if(!i)if(e=yc(c),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Ec(t,e),gr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!ct)return Ot(t),null}else 2*un()-a.renderingStartTime>zc&&n!==536870912&&(t.flags|=128,i=!0,gr(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(e=a.last,e!==null?e.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=un(),e.sibling=null,n=Ht.current,te(Ht,i?n&1|2:n&1),ct&&Qa(t,a.treeForkCount),e):(Ot(t),null);case 22:case 23:return zn(t),$u(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Ot(t),t.subtreeFlags&6&&(t.flags|=8192)):Ot(t),n=t.updateQueue,n!==null&&Ec(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&R(ws),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Za(Xt),Ot(t),null;case 25:return null;case 30:return null}throw Error(m(156,t.tag))}function H0(e,t){switch(Bu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Za(Xt),ht(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ze(t),null;case 31:if(t.memoizedState!==null){if(zn(t),t.alternate===null)throw Error(m(340));gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(zn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(m(340));gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(Ht),null;case 4:return ht(),null;case 10:return Za(t.type),null;case 22:case 23:return zn(t),$u(),e!==null&&R(ws),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Za(Xt),null;case 25:return null;default:return null}}function jm(e,t){switch(Bu(t),t.tag){case 3:Za(Xt),ht();break;case 26:case 27:case 5:ze(t);break;case 4:ht();break;case 31:t.memoizedState!==null&&zn(t);break;case 13:zn(t);break;case 19:R(Ht);break;case 10:Za(t.type);break;case 22:case 23:zn(t),$u(),e!==null&&R(ws);break;case 24:Za(Xt)}}function xr(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var c=n.create,p=n.inst;a=c(),p.destroy=a}n=n.next}while(n!==i)}}catch(g){gt(t,t.return,g)}}function Ml(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var c=i.next;a=c;do{if((a.tag&e)===e){var p=a.inst,g=p.destroy;if(g!==void 0){p.destroy=void 0,i=t;var S=n,J=g;try{J()}catch(le){gt(i,S,le)}}}a=a.next}while(a!==c)}}catch(le){gt(t,t.return,le)}}function Nm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{md(t,n)}catch(a){gt(e,e.return,a)}}}function Sm(e,t,n){n.props=_s(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){gt(e,t,a)}}function br(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){gt(e,t,i)}}function ba(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){gt(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){gt(e,t,i)}else n.current=null}function Tm(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){gt(e,e.return,i)}}function Eo(e,t,n){try{var a=e.stateNode;ry(a,e.type,n,t),a[Ut]=t}catch(i){gt(e,e.return,i)}}function _m(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hl(e.type)||e.tag===4}function Ao(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_m(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oo(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wn));else if(a!==4&&(a===27&&Hl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Oo(e,t,n),e=e.sibling;e!==null;)Oo(e,t,n),e=e.sibling}function Ac(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Hl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ac(e,t,n),e=e.sibling;e!==null;)Ac(e,t,n),e=e.sibling}function Dm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);sn(t,a,n),t[Dt]=e,t[Ut]=n}catch(c){gt(e,e.return,c)}}var Fa=!1,Vt=!1,Mo=!1,Cm=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Y0(e,t){if(e=e.containerInfo,Po=Wc,e=y(e),v(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var p=0,g=-1,S=-1,J=0,le=0,ie=e,W=null;t:for(;;){for(var P;ie!==n||i!==0&&ie.nodeType!==3||(g=p+i),ie!==c||a!==0&&ie.nodeType!==3||(S=p+a),ie.nodeType===3&&(p+=ie.nodeValue.length),(P=ie.firstChild)!==null;)W=ie,ie=P;for(;;){if(ie===e)break t;if(W===n&&++J===i&&(g=p),W===c&&++le===a&&(S=p),(P=ie.nextSibling)!==null)break;ie=W,W=ie.parentNode}ie=P}n=g===-1||S===-1?null:{start:g,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(ef={focusedElem:e,selectionRange:n},Wc=!1,Ft=t;Ft!==null;)if(t=Ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ft=e;else for(;Ft!==null;){switch(t=Ft,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,n=t,i=c.memoizedProps,c=c.memoizedState,a=n.stateNode;try{var Re=_s(n.type,i);e=a.getSnapshotBeforeUpdate(Re,c),a.__reactInternalSnapshotBeforeUpdate=e}catch(Qe){gt(n,n.return,Qe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)af(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":af(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(m(163))}if(e=t.sibling,e!==null){e.return=t.return,Ft=e;break}Ft=t.return}}function Em(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:el(e,n),a&4&&xr(5,n);break;case 1:if(el(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){gt(n,n.return,p)}else{var i=_s(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){gt(n,n.return,p)}}a&64&&Nm(n),a&512&&br(n,n.return);break;case 3:if(el(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{md(e,t)}catch(p){gt(n,n.return,p)}}break;case 27:t===null&&a&4&&Dm(n);case 26:case 5:el(e,n),t===null&&a&4&&Tm(n),a&512&&br(n,n.return);break;case 12:el(e,n);break;case 31:el(e,n),a&4&&Mm(e,n);break;case 13:el(e,n),a&4&&km(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=I0.bind(null,n),py(e,n))));break;case 22:if(a=n.memoizedState!==null||Fa,!a){t=t!==null&&t.memoizedState!==null||Vt,i=Fa;var c=Vt;Fa=a,(Vt=t)&&!c?tl(e,n,(n.subtreeFlags&8772)!==0):el(e,n),Fa=i,Vt=c}break;case 30:break;default:el(e,n)}}function Am(e){var t=e.alternate;t!==null&&(e.alternate=null,Am(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&zs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Mt=null,jn=!1;function Pa(e,t,n){for(n=n.child;n!==null;)Om(e,t,n),n=n.sibling}function Om(e,t,n){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(ra,n)}catch{}switch(n.tag){case 26:Vt||ba(n,t),Pa(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Vt||ba(n,t);var a=Mt,i=jn;Hl(n.type)&&(Mt=n.stateNode,jn=!1),Pa(e,t,n),Er(n.stateNode),Mt=a,jn=i;break;case 5:Vt||ba(n,t);case 6:if(a=Mt,i=jn,Mt=null,Pa(e,t,n),Mt=a,jn=i,Mt!==null)if(jn)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(n.stateNode)}catch(c){gt(n,t,c)}else try{Mt.removeChild(n.stateNode)}catch(c){gt(n,t,c)}break;case 18:Mt!==null&&(jn?(e=Mt,Nh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Si(e)):Nh(Mt,n.stateNode));break;case 4:a=Mt,i=jn,Mt=n.stateNode.containerInfo,jn=!0,Pa(e,t,n),Mt=a,jn=i;break;case 0:case 11:case 14:case 15:Ml(2,n,t),Vt||Ml(4,n,t),Pa(e,t,n);break;case 1:Vt||(ba(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Sm(n,t,a)),Pa(e,t,n);break;case 21:Pa(e,t,n);break;case 22:Vt=(a=Vt)||n.memoizedState!==null,Pa(e,t,n),Vt=a;break;default:Pa(e,t,n)}}function Mm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Si(e)}catch(n){gt(t,t.return,n)}}}function km(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Si(e)}catch(n){gt(t,t.return,n)}}function L0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Cm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Cm),t;default:throw Error(m(435,e.tag))}}function Oc(e,t){var n=L0(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=$0.bind(null,e,a);a.then(i,i)}})}function Nn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],c=e,p=t,g=p;e:for(;g!==null;){switch(g.tag){case 27:if(Hl(g.type)){Mt=g.stateNode,jn=!1;break e}break;case 5:Mt=g.stateNode,jn=!1;break e;case 3:case 4:Mt=g.stateNode.containerInfo,jn=!0;break e}g=g.return}if(Mt===null)throw Error(m(160));Om(c,p,i),Mt=null,jn=!1,c=i.alternate,c!==null&&(c.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)zm(t,e),t=t.sibling}var na=null;function zm(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nn(t,e),Sn(e),a&4&&(Ml(3,e,e.return),xr(3,e),Ml(5,e,e.return));break;case 1:Nn(t,e),Sn(e),a&512&&(Vt||n===null||ba(n,n.return)),a&64&&Fa&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=na;if(Nn(t,e),Sn(e),a&512&&(Vt||n===null||ba(n,n.return)),a&4){var c=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":c=i.getElementsByTagName("title")[0],(!c||c[En]||c[Dt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=i.createElement(a),i.head.insertBefore(c,i.querySelector("head > title"))),sn(c,a,n),c[Dt]=e,qt(c),a=c;break e;case"link":var p=zh("link","href",i).get(a+(n.href||""));if(p){for(var g=0;g<p.length;g++)if(c=p[g],c.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&c.getAttribute("rel")===(n.rel==null?null:n.rel)&&c.getAttribute("title")===(n.title==null?null:n.title)&&c.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(g,1);break t}}c=i.createElement(a),sn(c,a,n),i.head.appendChild(c);break;case"meta":if(p=zh("meta","content",i).get(a+(n.content||""))){for(g=0;g<p.length;g++)if(c=p[g],c.getAttribute("content")===(n.content==null?null:""+n.content)&&c.getAttribute("name")===(n.name==null?null:n.name)&&c.getAttribute("property")===(n.property==null?null:n.property)&&c.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&c.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(g,1);break t}}c=i.createElement(a),sn(c,a,n),i.head.appendChild(c);break;default:throw Error(m(468,a))}c[Dt]=e,qt(c),a=c}e.stateNode=a}else Bh(i,e.type,e.stateNode);else e.stateNode=kh(i,a,e.memoizedProps);else c!==a?(c===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):c.count--,a===null?Bh(i,e.type,e.stateNode):kh(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Eo(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nn(t,e),Sn(e),a&512&&(Vt||n===null||ba(n,n.return)),n!==null&&a&4&&Eo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nn(t,e),Sn(e),a&512&&(Vt||n===null||ba(n,n.return)),e.flags&32){i=e.stateNode;try{za(i,"")}catch(Re){gt(e,e.return,Re)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,Eo(e,i,n!==null?n.memoizedProps:i)),a&1024&&(Mo=!0);break;case 6:if(Nn(t,e),Sn(e),a&4){if(e.stateNode===null)throw Error(m(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Re){gt(e,e.return,Re)}}break;case 3:if(Zc=null,i=na,na=Qc(t.containerInfo),Nn(t,e),na=i,Sn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Si(t.containerInfo)}catch(Re){gt(e,e.return,Re)}Mo&&(Mo=!1,Bm(e));break;case 4:a=na,na=Qc(e.stateNode.containerInfo),Nn(t,e),Sn(e),na=a;break;case 12:Nn(t,e),Sn(e);break;case 31:Nn(t,e),Sn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Oc(e,a)));break;case 13:Nn(t,e),Sn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(kc=un()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Oc(e,a)));break;case 22:i=e.memoizedState!==null;var S=n!==null&&n.memoizedState!==null,J=Fa,le=Vt;if(Fa=J||i,Vt=le||S,Nn(t,e),Vt=le,Fa=J,Sn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||S||Fa||Vt||Ds(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){S=n=t;try{if(c=S.stateNode,i)p=c.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{g=S.stateNode;var ie=S.memoizedProps.style,W=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;g.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Re){gt(S,S.return,Re)}}}else if(t.tag===6){if(n===null){S=t;try{S.stateNode.nodeValue=i?"":S.memoizedProps}catch(Re){gt(S,S.return,Re)}}}else if(t.tag===18){if(n===null){S=t;try{var P=S.stateNode;i?Sh(P,!0):Sh(S.stateNode,!1)}catch(Re){gt(S,S.return,Re)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Oc(e,n))));break;case 19:Nn(t,e),Sn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Oc(e,a)));break;case 30:break;case 21:break;default:Nn(t,e),Sn(e)}}function Sn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(_m(a)){n=a;break}a=a.return}if(n==null)throw Error(m(160));switch(n.tag){case 27:var i=n.stateNode,c=Ao(e);Ac(e,c,i);break;case 5:var p=n.stateNode;n.flags&32&&(za(p,""),n.flags&=-33);var g=Ao(e);Ac(e,g,p);break;case 3:case 4:var S=n.stateNode.containerInfo,J=Ao(e);Oo(e,J,S);break;default:throw Error(m(161))}}catch(le){gt(e,e.return,le)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Bm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function el(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Em(e,t.alternate,t),t=t.sibling}function Ds(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ml(4,t,t.return),Ds(t);break;case 1:ba(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Sm(t,t.return,n),Ds(t);break;case 27:Er(t.stateNode);case 26:case 5:ba(t,t.return),Ds(t);break;case 22:t.memoizedState===null&&Ds(t);break;case 30:Ds(t);break;default:Ds(t)}e=e.sibling}}function tl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,c=t,p=c.flags;switch(c.tag){case 0:case 11:case 15:tl(i,c,n),xr(4,c);break;case 1:if(tl(i,c,n),a=c,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(J){gt(a,a.return,J)}if(a=c,i=a.updateQueue,i!==null){var g=a.stateNode;try{var S=i.shared.hiddenCallbacks;if(S!==null)for(i.shared.hiddenCallbacks=null,i=0;i<S.length;i++)dd(S[i],g)}catch(J){gt(a,a.return,J)}}n&&p&64&&Nm(c),br(c,c.return);break;case 27:Dm(c);case 26:case 5:tl(i,c,n),n&&a===null&&p&4&&Tm(c),br(c,c.return);break;case 12:tl(i,c,n);break;case 31:tl(i,c,n),n&&p&4&&Mm(i,c);break;case 13:tl(i,c,n),n&&p&4&&km(i,c);break;case 22:c.memoizedState===null&&tl(i,c,n),br(c,c.return);break;case 30:break;default:tl(i,c,n)}t=t.sibling}}function ko(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ir(n))}function zo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ir(e))}function aa(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rm(e,t,n,a),t=t.sibling}function Rm(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:aa(e,t,n,a),i&2048&&xr(9,t);break;case 1:aa(e,t,n,a);break;case 3:aa(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ir(e)));break;case 12:if(i&2048){aa(e,t,n,a),e=t.stateNode;try{var c=t.memoizedProps,p=c.id,g=c.onPostCommit;typeof g=="function"&&g(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){gt(t,t.return,S)}}else aa(e,t,n,a);break;case 31:aa(e,t,n,a);break;case 13:aa(e,t,n,a);break;case 23:break;case 22:c=t.stateNode,p=t.alternate,t.memoizedState!==null?c._visibility&2?aa(e,t,n,a):wr(e,t):c._visibility&2?aa(e,t,n,a):(c._visibility|=2,mi(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&ko(p,t);break;case 24:aa(e,t,n,a),i&2048&&zo(t.alternate,t);break;default:aa(e,t,n,a)}}function mi(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,p=t,g=n,S=a,J=p.flags;switch(p.tag){case 0:case 11:case 15:mi(c,p,g,S,i),xr(8,p);break;case 23:break;case 22:var le=p.stateNode;p.memoizedState!==null?le._visibility&2?mi(c,p,g,S,i):wr(c,p):(le._visibility|=2,mi(c,p,g,S,i)),i&&J&2048&&ko(p.alternate,p);break;case 24:mi(c,p,g,S,i),i&&J&2048&&zo(p.alternate,p);break;default:mi(c,p,g,S,i)}t=t.sibling}}function wr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:wr(n,a),i&2048&&ko(a.alternate,a);break;case 24:wr(n,a),i&2048&&zo(a.alternate,a);break;default:wr(n,a)}t=t.sibling}}var jr=8192;function hi(e,t,n){if(e.subtreeFlags&jr)for(e=e.child;e!==null;)Um(e,t,n),e=e.sibling}function Um(e,t,n){switch(e.tag){case 26:hi(e,t,n),e.flags&jr&&e.memoizedState!==null&&Dy(n,na,e.memoizedState,e.memoizedProps);break;case 5:hi(e,t,n);break;case 3:case 4:var a=na;na=Qc(e.stateNode.containerInfo),hi(e,t,n),na=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=jr,jr=16777216,hi(e,t,n),jr=a):hi(e,t,n));break;default:hi(e,t,n)}}function qm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Nr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ft=a,Ym(a,e)}qm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hm(e),e=e.sibling}function Hm(e){switch(e.tag){case 0:case 11:case 15:Nr(e),e.flags&2048&&Ml(9,e,e.return);break;case 3:Nr(e);break;case 12:Nr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Mc(e)):Nr(e);break;default:Nr(e)}}function Mc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ft=a,Ym(a,e)}qm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ml(8,t,t.return),Mc(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Mc(t));break;default:Mc(t)}e=e.sibling}}function Ym(e,t){for(;Ft!==null;){var n=Ft;switch(n.tag){case 0:case 11:case 15:Ml(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ir(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Ft=a;else e:for(n=e;Ft!==null;){a=Ft;var i=a.sibling,c=a.return;if(Am(a),a===n){Ft=null;break e}if(i!==null){i.return=c,Ft=i;break e}Ft=c}}}var K0={getCacheForType:function(e){var t=an(Xt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return an(Xt).controller.signal}},X0=typeof WeakMap=="function"?WeakMap:Map,mt=0,_t=null,at=null,st=0,vt=0,Bn=null,kl=!1,pi=!1,Bo=!1,nl=0,Bt=0,zl=0,Cs=0,Ro=0,Rn=0,yi=0,Sr=null,Tn=null,Uo=!1,kc=0,Lm=0,zc=1/0,Bc=null,Bl=null,Zt=0,Rl=null,vi=null,al=0,qo=0,Ho=null,Km=null,Tr=0,Yo=null;function Un(){return(mt&2)!==0&&st!==0?st&-st:V.T!==null?Vo():ns()}function Xm(){if(Rn===0)if((st&536870912)===0||ct){var e=ul;ul<<=1,(ul&3932160)===0&&(ul=262144),Rn=e}else Rn=536870912;return e=kn.current,e!==null&&(e.flags|=32),Rn}function _n(e,t,n){(e===_t&&(vt===2||vt===9)||e.cancelPendingCommit!==null)&&(gi(e,0),Ul(e,st,Rn,!1)),Hn(e,n),((mt&2)===0||e!==_t)&&(e===_t&&((mt&2)===0&&(Cs|=n),Bt===4&&Ul(e,st,Rn,!1)),wa(e))}function Gm(e,t,n){if((mt&6)!==0)throw Error(m(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Oa(e,t),i=a?V0(e,t):Ko(e,t,!0),c=a;do{if(i===0){pi&&!a&&Ul(e,t,0,!1);break}else{if(n=e.current.alternate,c&&!G0(n)){i=Ko(e,t,!1),c=!1;continue}if(i===2){if(c=t,e.errorRecoveryDisabledLanes&c)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var g=e;i=Sr;var S=g.current.memoizedState.isDehydrated;if(S&&(gi(g,p).flags|=256),p=Ko(g,p,!1),p!==2){if(Bo&&!S){g.errorRecoveryDisabledLanes|=c,Cs|=c,i=4;break e}c=Tn,Tn=i,c!==null&&(Tn===null?Tn=c:Tn.push.apply(Tn,c))}i=p}if(c=!1,i!==2)continue}}if(i===1){gi(e,0),Ul(e,t,0,!0);break}e:{switch(a=e,c=i,c){case 0:case 1:throw Error(m(345));case 4:if((t&4194048)!==t)break;case 6:Ul(a,t,Rn,!kl);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(m(329))}if((t&62914560)===t&&(i=kc+300-un(),10<i)){if(Ul(a,t,Rn,!kl),es(a,0,!0)!==0)break e;al=t,a.timeoutHandle=wh(Qm.bind(null,a,n,Tn,Bc,Uo,t,Rn,Cs,yi,kl,c,"Throttled",-0,0),i);break e}Qm(a,n,Tn,Bc,Uo,t,Rn,Cs,yi,kl,c,null,-0,0)}}break}while(!0);wa(e)}function Qm(e,t,n,a,i,c,p,g,S,J,le,ie,W,P){if(e.timeoutHandle=-1,ie=t.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wn},Um(t,c,ie);var Re=(c&62914560)===c?kc-un():(c&4194048)===c?Lm-un():0;if(Re=Cy(ie,Re),Re!==null){al=c,e.cancelPendingCommit=Re(Pm.bind(null,e,t,c,n,a,i,p,g,S,le,ie,null,W,P)),Ul(e,c,p,!J);return}}Pm(e,t,c,n,a,i,p,g,S)}function G0(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],c=i.getSnapshot;i=i.value;try{if(!mn(c(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ul(e,t,n,a){t&=~Ro,t&=~Cs,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var c=31-Ae(i),p=1<<c;a[c]=-1,i&=~p}n!==0&&ts(e,n,t)}function Rc(){return(mt&6)===0?(_r(0),!1):!0}function Lo(){if(at!==null){if(vt===0)var e=at.return;else e=at,Va=xs=null,no(e),ci=null,cr=0,e=at;for(;e!==null;)jm(e.alternate,e),e=e.return;at=null}}function gi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,oy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),al=0,Lo(),_t=e,at=n=Ga(e.current,null),st=t,vt=0,Bn=null,kl=!1,pi=Oa(e,t),Bo=!1,yi=Rn=Ro=Cs=zl=Bt=0,Tn=Sr=null,Uo=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Ae(a),c=1<<i;t|=e[i],a&=~c}return nl=t,Ie(),n}function Vm(e,t){Fe=null,V.H=yr,t===ri||t===fc?(t=cd(),vt=3):t===Gu?(t=cd(),vt=4):vt=t===xo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bn=t,at===null&&(Bt=1,Tc(e,Gn(t,e.current)))}function Zm(){var e=kn.current;return e===null?!0:(st&4194048)===st?Jn===null:(st&62914560)===st||(st&536870912)!==0?e===Jn:!1}function Jm(){var e=V.H;return V.H=yr,e===null?yr:e}function Im(){var e=V.A;return V.A=K0,e}function Uc(){Bt=4,kl||(st&4194048)!==st&&kn.current!==null||(pi=!0),(zl&134217727)===0&&(Cs&134217727)===0||_t===null||Ul(_t,st,Rn,!1)}function Ko(e,t,n){var a=mt;mt|=2;var i=Jm(),c=Im();(_t!==e||st!==t)&&(Bc=null,gi(e,t)),t=!1;var p=Bt;e:do try{if(vt!==0&&at!==null){var g=at,S=Bn;switch(vt){case 8:Lo(),p=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(t=!0);var J=vt;if(vt=0,Bn=null,xi(e,g,S,J),n&&pi){p=0;break e}break;default:J=vt,vt=0,Bn=null,xi(e,g,S,J)}}Q0(),p=Bt;break}catch(le){Vm(e,le)}while(!0);return t&&e.shellSuspendCounter++,Va=xs=null,mt=a,V.H=i,V.A=c,at===null&&(_t=null,st=0,Ie()),p}function Q0(){for(;at!==null;)$m(at)}function V0(e,t){var n=mt;mt|=2;var a=Jm(),i=Im();_t!==e||st!==t?(Bc=null,zc=un()+500,gi(e,t)):pi=Oa(e,t);e:do try{if(vt!==0&&at!==null){t=at;var c=Bn;t:switch(vt){case 1:vt=0,Bn=null,xi(e,t,c,1);break;case 2:case 9:if(id(c)){vt=0,Bn=null,Wm(t);break}t=function(){vt!==2&&vt!==9||_t!==e||(vt=7),wa(e)},c.then(t,t);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:id(c)?(vt=0,Bn=null,Wm(t)):(vt=0,Bn=null,xi(e,t,c,7));break;case 5:var p=null;switch(at.tag){case 26:p=at.memoizedState;case 5:case 27:var g=at;if(p?Rh(p):g.stateNode.complete){vt=0,Bn=null;var S=g.sibling;if(S!==null)at=S;else{var J=g.return;J!==null?(at=J,qc(J)):at=null}break t}}vt=0,Bn=null,xi(e,t,c,5);break;case 6:vt=0,Bn=null,xi(e,t,c,6);break;case 8:Lo(),Bt=6;break e;default:throw Error(m(462))}}Z0();break}catch(le){Vm(e,le)}while(!0);return Va=xs=null,V.H=a,V.A=i,mt=n,at!==null?0:(_t=null,st=0,Ie(),Bt)}function Z0(){for(;at!==null&&!Gr();)$m(at)}function $m(e){var t=bm(e.alternate,e,nl);e.memoizedProps=e.pendingProps,t===null?qc(e):at=t}function Wm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=hm(n,t,t.pendingProps,t.type,void 0,st);break;case 11:t=hm(n,t,t.pendingProps,t.type.render,t.ref,st);break;case 5:no(t);default:jm(n,t),t=at=If(t,nl),t=bm(n,t,nl)}e.memoizedProps=e.pendingProps,t===null?qc(e):at=t}function xi(e,t,n,a){Va=xs=null,no(t),ci=null,cr=0;var i=t.return;try{if(B0(e,i,t,n,st)){Bt=1,Tc(e,Gn(n,e.current)),at=null;return}}catch(c){if(i!==null)throw at=i,c;Bt=1,Tc(e,Gn(n,e.current)),at=null;return}t.flags&32768?(ct||a===1?e=!0:pi||(st&536870912)!==0?e=!1:(kl=e=!0,(a===2||a===9||a===3||a===6)&&(a=kn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Fm(t,e)):qc(t)}function qc(e){var t=e;do{if((t.flags&32768)!==0){Fm(t,kl);return}e=t.return;var n=q0(t.alternate,t,nl);if(n!==null){at=n;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);Bt===0&&(Bt=5)}function Fm(e,t){do{var n=H0(e.alternate,e);if(n!==null){n.flags&=32767,at=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){at=e;return}at=e=n}while(e!==null);Bt=6,at=null}function Pm(e,t,n,a,i,c,p,g,S){e.cancelPendingCommit=null;do Hc();while(Zt!==0);if((mt&6)!==0)throw Error(m(327));if(t!==null){if(t===e.current)throw Error(m(177));if(c=t.lanes|t.childLanes,c|=Ke,Ri(e,n,c,p,g,S),e===_t&&(at=_t=null,st=0),vi=t,Rl=e,al=n,qo=c,Ho=i,Km=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,W0(cl,function(){return lh(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=V.T,V.T=null,i=F.p,F.p=2,p=mt,mt|=4;try{Y0(e,t,n)}finally{mt=p,F.p=i,V.T=a}}Zt=1,eh(),th(),nh()}}function eh(){if(Zt===1){Zt=0;var e=Rl,t=vi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=V.T,V.T=null;var a=F.p;F.p=2;var i=mt;mt|=4;try{zm(t,e);var c=ef,p=y(e.containerInfo),g=c.focusedElem,S=c.selectionRange;if(p!==g&&g&&g.ownerDocument&&h(g.ownerDocument.documentElement,g)){if(S!==null&&v(g)){var J=S.start,le=S.end;if(le===void 0&&(le=J),"selectionStart"in g)g.selectionStart=J,g.selectionEnd=Math.min(le,g.value.length);else{var ie=g.ownerDocument||document,W=ie&&ie.defaultView||window;if(W.getSelection){var P=W.getSelection(),Re=g.textContent.length,Qe=Math.min(S.start,Re),St=S.end===void 0?Qe:Math.min(S.end,Re);!P.extend&&Qe>St&&(p=St,St=Qe,Qe=p);var H=f(g,Qe),z=f(g,St);if(H&&z&&(P.rangeCount!==1||P.anchorNode!==H.node||P.anchorOffset!==H.offset||P.focusNode!==z.node||P.focusOffset!==z.offset)){var Z=ie.createRange();Z.setStart(H.node,H.offset),P.removeAllRanges(),Qe>St?(P.addRange(Z),P.extend(z.node,z.offset)):(Z.setEnd(z.node,z.offset),P.addRange(Z))}}}}for(ie=[],P=g;P=P.parentNode;)P.nodeType===1&&ie.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<ie.length;g++){var se=ie[g];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Wc=!!Po,ef=Po=null}finally{mt=i,F.p=a,V.T=n}}e.current=t,Zt=2}}function th(){if(Zt===2){Zt=0;var e=Rl,t=vi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=V.T,V.T=null;var a=F.p;F.p=2;var i=mt;mt|=4;try{Em(e,t.alternate,t)}finally{mt=i,F.p=a,V.T=n}}Zt=3}}function nh(){if(Zt===4||Zt===3){Zt=0,Il();var e=Rl,t=vi,n=al,a=Km;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Zt=5:(Zt=0,vi=Rl=null,ah(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Bl=null),ol(n),t=t.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(ra,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=V.T,i=F.p,F.p=2,V.T=null;try{for(var c=e.onRecoverableError,p=0;p<a.length;p++){var g=a[p];c(g.value,{componentStack:g.stack})}}finally{V.T=t,F.p=i}}(al&3)!==0&&Hc(),wa(e),i=e.pendingLanes,(n&261930)!==0&&(i&42)!==0?e===Yo?Tr++:(Tr=0,Yo=e):Tr=0,_r(0)}}function ah(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ir(t)))}function Hc(){return eh(),th(),nh(),lh()}function lh(){if(Zt!==5)return!1;var e=Rl,t=qo;qo=0;var n=ol(al),a=V.T,i=F.p;try{F.p=32>n?32:n,V.T=null,n=Ho,Ho=null;var c=Rl,p=al;if(Zt=0,vi=Rl=null,al=0,(mt&6)!==0)throw Error(m(331));var g=mt;if(mt|=4,Hm(c.current),Rm(c,c.current,p,n),mt=g,_r(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(ra,c)}catch{}return!0}finally{F.p=i,V.T=a,ah(e,t)}}function sh(e,t,n){t=Gn(n,t),t=go(e.stateNode,t,2),e=El(e,t,2),e!==null&&(Hn(e,2),wa(e))}function gt(e,t,n){if(e.tag===3)sh(e,e,n);else for(;t!==null;){if(t.tag===3){sh(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Bl===null||!Bl.has(a))){e=Gn(n,e),n=im(2),a=El(t,n,2),a!==null&&(rm(n,a,t,e),Hn(a,2),wa(a));break}}t=t.return}}function Xo(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new X0;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Bo=!0,i.add(n),e=J0.bind(null,e,t,n),t.then(e,e))}function J0(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,_t===e&&(st&n)===n&&(Bt===4||Bt===3&&(st&62914560)===st&&300>un()-kc?(mt&2)===0&&gi(e,0):Ro|=n,yi===st&&(yi=0)),wa(e)}function ih(e,t){t===0&&(t=Qr()),e=yt(e,t),e!==null&&(Hn(e,t),wa(e))}function I0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ih(e,n)}function $0(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(m(314))}a!==null&&a.delete(t),ih(e,n)}function W0(e,t){return Ca(e,t)}var Yc=null,bi=null,Go=!1,Lc=!1,Qo=!1,ql=0;function wa(e){e!==bi&&e.next===null&&(bi===null?Yc=bi=e:bi=bi.next=e),Lc=!0,Go||(Go=!0,P0())}function _r(e,t){if(!Qo&&Lc){Qo=!0;do for(var n=!1,a=Yc;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var c=0;else{var p=a.suspendedLanes,g=a.pingedLanes;c=(1<<31-Ae(42|e)+1)-1,c&=i&~(p&~g),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(n=!0,oh(a,c))}else c=st,c=es(a,a===_t?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(c&3)===0||Oa(a,c)||(n=!0,oh(a,c));a=a.next}while(n);Qo=!1}}function F0(){rh()}function rh(){Lc=Go=!1;var e=0;ql!==0&&uy()&&(e=ql);for(var t=un(),n=null,a=Yc;a!==null;){var i=a.next,c=ch(a,t);c===0?(a.next=null,n===null?Yc=i:n.next=i,i===null&&(bi=n)):(n=a,(e!==0||(c&3)!==0)&&(Lc=!0)),a=i}Zt!==0&&Zt!==5||_r(e),ql!==0&&(ql=0)}function ch(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var p=31-Ae(c),g=1<<p,S=i[p];S===-1?((g&n)===0||(g&a)!==0)&&(i[p]=ju(g,t)):S<=t&&(e.expiredLanes|=g),c&=~g}if(t=_t,n=st,n=es(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(vt===2||vt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&bn(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Oa(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&bn(a),ol(n)){case 2:case 8:n=ia;break;case 32:n=cl;break;case 268435456:n=Os;break;default:n=cl}return a=uh.bind(null,e),n=Ca(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&bn(a),e.callbackPriority=2,e.callbackNode=null,2}function uh(e,t){if(Zt!==0&&Zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Hc()&&e.callbackNode!==n)return null;var a=st;return a=es(e,e===_t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Gm(e,a,t),ch(e,un()),e.callbackNode!=null&&e.callbackNode===n?uh.bind(null,e):null)}function oh(e,t){if(Hc())return null;Gm(e,t,!0)}function P0(){fy(function(){(mt&6)!==0?Ca(on,F0):rh()})}function Vo(){if(ql===0){var e=si;e===0&&(e=_e,_e<<=1,(_e&261888)===0&&(_e=256)),ql=e}return ql}function fh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ta(""+e)}function dh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function ey(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var c=fh((i[Ut]||null).action),p=a.submitter;p&&(t=(t=p[Ut]||null)?fh(t.formAction):p.getAttribute("formAction"),t!==null&&(c=t,p=null));var g=new Hs("action","action",null,a,i);e.push({event:g,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ql!==0){var S=p?dh(i,p):new FormData(i);fo(n,{pending:!0,data:S,method:i.method,action:c},null,S)}}else typeof c=="function"&&(g.preventDefault(),S=p?dh(i,p):new FormData(i),fo(n,{pending:!0,data:S,method:i.method,action:c},c,S))},currentTarget:i}]})}}for(var Zo=0;Zo<De.length;Zo++){var Jo=De[Zo],ty=Jo.toLowerCase(),ny=Jo[0].toUpperCase()+Jo.slice(1);de(ty,"on"+ny)}de($,"onAnimationEnd"),de(X,"onAnimationIteration"),de(ae,"onAnimationStart"),de("dblclick","onDoubleClick"),de("focusin","onFocus"),de("focusout","onBlur"),de(oe,"onTransitionRun"),de(Se,"onTransitionStart"),de(Te,"onTransitionCancel"),de(fe,"onTransitionEnd"),da("onMouseEnter",["mouseout","mouseover"]),da("onMouseLeave",["mouseout","mouseover"]),da("onPointerEnter",["pointerout","pointerover"]),da("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ay=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dr));function mh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var p=a.length-1;0<=p;p--){var g=a[p],S=g.instance,J=g.currentTarget;if(g=g.listener,S!==c&&i.isPropagationStopped())break e;c=g,i.currentTarget=J;try{c(i)}catch(le){Me(le)}i.currentTarget=null,c=S}else for(p=0;p<a.length;p++){if(g=a[p],S=g.instance,J=g.currentTarget,g=g.listener,S!==c&&i.isPropagationStopped())break e;c=g,i.currentTarget=J;try{c(i)}catch(le){Me(le)}i.currentTarget=null,c=S}}}}function lt(e,t){var n=t[fl];n===void 0&&(n=t[fl]=new Set);var a=e+"__bubble";n.has(a)||(hh(t,e,2,!1),n.add(a))}function Io(e,t,n){var a=0;t&&(a|=4),hh(n,e,a,t)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function $o(e){if(!e[Kc]){e[Kc]=!0,Ma.forEach(function(n){n!=="selectionchange"&&(ay.has(n)||Io(n,!1,e),Io(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kc]||(t[Kc]=!0,Io("selectionchange",!1,t))}}function hh(e,t,n,a){switch(Xh(t)){case 2:var i=Oy;break;case 8:i=My;break;default:i=df}n=i.bind(null,t,n,e),i=void 0,!Gi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wo(e,t,n,a,i){var c=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var g=a.stateNode.containerInfo;if(g===i)break;if(p===4)for(p=a.return;p!==null;){var S=p.tag;if((S===3||S===4)&&p.stateNode.containerInfo===i)return;p=p.return}for(;g!==null;){if(p=fa(g),p===null)return;if(S=p.tag,S===5||S===6||S===26||S===27){a=c=p;continue e}g=g.parentNode}}a=a.return}ml(function(){var J=c,le=Us(n),ie=[];e:{var W=Oe.get(e);if(W!==void 0){var P=Hs,Re=e;switch(e){case"keypress":if(yl(n)===0)break e;case"keydown":case"keyup":P=Vs;break;case"focusin":Re="focus",P=vl;break;case"focusout":Re="blur",P=vl;break;case"beforeblur":case"afterblur":P=vl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Ks;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Ir;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=Wi;break;case $:case X:case ae:P=$r;break;case fe:P=Fi;break;case"scroll":case"scrollend":P=Ys;break;case"wheel":P=Js;break;case"copy":case"cut":case"paste":P=gl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=$i;break;case"toggle":case"beforetoggle":P=Pr}var Qe=(t&4)!==0,St=!Qe&&(e==="scroll"||e==="scrollend"),H=Qe?W!==null?W+"Capture":null:W;Qe=[];for(var z=J,Z;z!==null;){var se=z;if(Z=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Z===null||H===null||(se=Ua(z,H),se!=null&&Qe.push(Cr(z,se,Z))),St)break;z=z.return}0<Qe.length&&(W=new P(W,Re,null,n,le),ie.push({event:W,listeners:Qe}))}}if((t&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",W&&n!==Ln&&(Re=n.relatedTarget||n.fromElement)&&(fa(Re)||Re[yn]))break e;if((P||W)&&(W=le.window===le?le:(W=le.ownerDocument)?W.defaultView||W.parentWindow:window,P?(Re=n.relatedTarget||n.toElement,P=J,Re=Re?fa(Re):null,Re!==null&&(St=_(Re),Qe=Re.tag,Re!==St||Qe!==5&&Qe!==27&&Qe!==6)&&(Re=null)):(P=null,Re=J),P!==Re)){if(Qe=Ks,se="onMouseLeave",H="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(Qe=$i,se="onPointerLeave",H="onPointerEnter",z="pointer"),St=P==null?W:An(P),Z=Re==null?W:An(Re),W=new Qe(se,z+"leave",P,n,le),W.target=St,W.relatedTarget=Z,se=null,fa(le)===J&&(Qe=new Qe(H,z+"enter",Re,n,le),Qe.target=Z,Qe.relatedTarget=St,se=Qe),St=se,P&&Re)t:{for(Qe=ly,H=P,z=Re,Z=0,se=H;se;se=Qe(se))Z++;se=0;for(var Xe=z;Xe;Xe=Qe(Xe))se++;for(;0<Z-se;)H=Qe(H),Z--;for(;0<se-Z;)z=Qe(z),se--;for(;Z--;){if(H===z||z!==null&&H===z.alternate){Qe=H;break t}H=Qe(H),z=Qe(z)}Qe=null}else Qe=null;P!==null&&ph(ie,W,P,Qe,!1),Re!==null&&St!==null&&ph(ie,St,Re,Qe,!0)}}e:{if(W=J?An(J):window,P=W.nodeName&&W.nodeName.toLowerCase(),P==="select"||P==="input"&&W.type==="file")var ut=ys;else if(Ws(W))if(Xn)ut=wl;else{ut=Xa;var He=sc}else P=W.nodeName,!P||P.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?J&&Xi(J.elementType)&&(ut=ys):ut=ar;if(ut&&(ut=ut(e,J))){nr(ie,ut,n,le);break e}He&&He(e,W,J),e==="focusout"&&J&&W.type==="number"&&J.memoizedProps.value!=null&&cs(W,"number",W.value)}switch(He=J?An(J):window,e){case"focusin":(Ws(He)||He.contentEditable==="true")&&(w=He,E=J,K=null);break;case"focusout":K=E=w=null;break;case"mousedown":A=!0;break;case"contextmenu":case"mouseup":case"dragend":A=!1,D(ie,n,le);break;case"selectionchange":if(x)break;case"keydown":case"keyup":D(ie,n,le)}var Pe;if(hs)e:{switch(e){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else La?tr(e,n)&&(it="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(it="onCompositionStart");it&&(Is&&n.locale!=="ko"&&(La||it!=="onCompositionStart"?it==="onCompositionEnd"&&La&&(Pe=pl()):(Kn=le,qs="value"in Kn?Kn.value:Kn.textContent,La=!0)),He=Xc(J,it),0<He.length&&(it=new Qs(it,e,null,n,le),ie.push({event:it,listeners:He}),Pe?it.data=Pe:(Pe=tc(n),Pe!==null&&(it.data=Pe)))),(Pe=Cu?nc(e,n):Eu(e,n))&&(it=Xc(J,"onBeforeInput"),0<it.length&&(He=new Qs("onBeforeInput","beforeinput",null,n,le),ie.push({event:He,listeners:it}),He.data=Pe)),ey(ie,e,J,n,le)}mh(ie,t)})}function Cr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xc(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,c=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||c===null||(i=Ua(e,n),i!=null&&a.unshift(Cr(e,i,c)),i=Ua(e,t),i!=null&&a.push(Cr(e,i,c))),e.tag===3)return a;e=e.return}return[]}function ly(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ph(e,t,n,a,i){for(var c=t._reactName,p=[];n!==null&&n!==a;){var g=n,S=g.alternate,J=g.stateNode;if(g=g.tag,S!==null&&S===a)break;g!==5&&g!==26&&g!==27||J===null||(S=J,i?(J=Ua(n,c),J!=null&&p.unshift(Cr(n,J,S))):i||(J=Ua(n,c),J!=null&&p.push(Cr(n,J,S)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var sy=/\r\n?/g,iy=/\u0000|\uFFFD/g;function yh(e){return(typeof e=="string"?e:""+e).replace(sy,`
`).replace(iy,"")}function vh(e,t){return t=yh(t),yh(e)===t}function Nt(e,t,n,a,i,c){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||za(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&za(e,""+a);break;case"className":is(e,"class",a);break;case"tabIndex":is(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":is(e,n,a);break;case"style":Ki(e,a,c);break;case"data":if(t!=="object"){is(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ta(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(n==="formAction"?(t!=="input"&&Nt(e,t,"name",i.name,i,null),Nt(e,t,"formEncType",i.formEncType,i,null),Nt(e,t,"formMethod",i.formMethod,i,null),Nt(e,t,"formTarget",i.formTarget,i,null)):(Nt(e,t,"encType",i.encType,i,null),Nt(e,t,"method",i.method,i,null),Nt(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ta(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=wn);break;case"onScroll":a!=null&&lt("scroll",e);break;case"onScrollEnd":a!=null&&lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(m(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(m(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=ta(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":lt("beforetoggle",e),lt("toggle",e),tt(e,"popover",a);break;case"xlinkActuate":Yn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Yn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Yn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Yn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Yn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Yn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Yn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Yn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Yn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":tt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Tu.get(n)||n,tt(e,n,a))}}function Fo(e,t,n,a,i,c){switch(n){case"style":Ki(e,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(m(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(m(60));e.innerHTML=n}}break;case"children":typeof a=="string"?za(e,a):(typeof a=="number"||typeof a=="bigint")&&za(e,""+a);break;case"onScroll":a!=null&&lt("scroll",e);break;case"onScrollEnd":a!=null&&lt("scrollend",e);break;case"onClick":a!=null&&(e.onclick=wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ls.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),c=e[Ut]||null,c=c!=null?c[n]:null,typeof c=="function"&&e.removeEventListener(t,c,i),typeof a=="function")){typeof c!="function"&&c!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):tt(e,n,a)}}}function sn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",e),lt("load",e);var a=!1,i=!1,c;for(c in n)if(n.hasOwnProperty(c)){var p=n[c];if(p!=null)switch(c){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(m(137,t));default:Nt(e,t,c,p,n,null)}}i&&Nt(e,t,"srcSet",n.srcSet,n,null),a&&Nt(e,t,"src",n.src,n,null);return;case"input":lt("invalid",e);var g=c=p=i=null,S=null,J=null;for(a in n)if(n.hasOwnProperty(a)){var le=n[a];if(le!=null)switch(a){case"name":i=le;break;case"type":p=le;break;case"checked":S=le;break;case"defaultChecked":J=le;break;case"value":c=le;break;case"defaultValue":g=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(m(137,t));break;default:Nt(e,t,a,le,n,null)}}Rs(e,c,g,S,J,p,i,!1);return;case"select":lt("invalid",e),a=p=c=null;for(i in n)if(n.hasOwnProperty(i)&&(g=n[i],g!=null))switch(i){case"value":c=g;break;case"defaultValue":p=g;break;case"multiple":a=g;default:Nt(e,t,i,g,n,null)}t=c,n=p,e.multiple=!!a,t!=null?ea(e,!!a,t,!1):n!=null&&ea(e,!!a,n,!0);return;case"textarea":lt("invalid",e),c=i=a=null;for(p in n)if(n.hasOwnProperty(p)&&(g=n[p],g!=null))switch(p){case"value":a=g;break;case"defaultValue":i=g;break;case"children":c=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(m(91));break;default:Nt(e,t,p,g,n,null)}us(e,a,i,c);return;case"option":for(S in n)n.hasOwnProperty(S)&&(a=n[S],a!=null)&&(S==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Nt(e,t,S,a,n,null));return;case"dialog":lt("beforetoggle",e),lt("toggle",e),lt("cancel",e),lt("close",e);break;case"iframe":case"object":lt("load",e);break;case"video":case"audio":for(a=0;a<Dr.length;a++)lt(Dr[a],e);break;case"image":lt("error",e),lt("load",e);break;case"details":lt("toggle",e);break;case"embed":case"source":case"link":lt("error",e),lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in n)if(n.hasOwnProperty(J)&&(a=n[J],a!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(m(137,t));default:Nt(e,t,J,a,n,null)}return;default:if(Xi(t)){for(le in n)n.hasOwnProperty(le)&&(a=n[le],a!==void 0&&Fo(e,t,le,a,n,void 0));return}}for(g in n)n.hasOwnProperty(g)&&(a=n[g],a!=null&&Nt(e,t,g,a,n,null))}function ry(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,c=null,p=null,g=null,S=null,J=null,le=null;for(P in n){var ie=n[P];if(n.hasOwnProperty(P)&&ie!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":S=ie;default:a.hasOwnProperty(P)||Nt(e,t,P,null,a,ie)}}for(var W in a){var P=a[W];if(ie=n[W],a.hasOwnProperty(W)&&(P!=null||ie!=null))switch(W){case"type":c=P;break;case"name":i=P;break;case"checked":J=P;break;case"defaultChecked":le=P;break;case"value":p=P;break;case"defaultValue":g=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(m(137,t));break;default:P!==ie&&Nt(e,t,W,P,a,ie)}}ma(e,p,g,S,J,le,c,i);return;case"select":P=p=g=W=null;for(c in n)if(S=n[c],n.hasOwnProperty(c)&&S!=null)switch(c){case"value":break;case"multiple":P=S;default:a.hasOwnProperty(c)||Nt(e,t,c,null,a,S)}for(i in a)if(c=a[i],S=n[i],a.hasOwnProperty(i)&&(c!=null||S!=null))switch(i){case"value":W=c;break;case"defaultValue":g=c;break;case"multiple":p=c;default:c!==S&&Nt(e,t,i,c,a,S)}t=g,n=p,a=P,W!=null?ea(e,!!n,W,!1):!!a!=!!n&&(t!=null?ea(e,!!n,t,!0):ea(e,!!n,n?[]:"",!1));return;case"textarea":P=W=null;for(g in n)if(i=n[g],n.hasOwnProperty(g)&&i!=null&&!a.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:Nt(e,t,g,null,a,i)}for(p in a)if(i=a[p],c=n[p],a.hasOwnProperty(p)&&(i!=null||c!=null))switch(p){case"value":W=i;break;case"defaultValue":P=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(m(91));break;default:i!==c&&Nt(e,t,p,i,a,c)}Li(e,W,P);return;case"option":for(var Re in n)W=n[Re],n.hasOwnProperty(Re)&&W!=null&&!a.hasOwnProperty(Re)&&(Re==="selected"?e.selected=!1:Nt(e,t,Re,null,a,W));for(S in a)W=a[S],P=n[S],a.hasOwnProperty(S)&&W!==P&&(W!=null||P!=null)&&(S==="selected"?e.selected=W&&typeof W!="function"&&typeof W!="symbol":Nt(e,t,S,W,a,P));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in n)W=n[Qe],n.hasOwnProperty(Qe)&&W!=null&&!a.hasOwnProperty(Qe)&&Nt(e,t,Qe,null,a,W);for(J in a)if(W=a[J],P=n[J],a.hasOwnProperty(J)&&W!==P&&(W!=null||P!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(m(137,t));break;default:Nt(e,t,J,W,a,P)}return;default:if(Xi(t)){for(var St in n)W=n[St],n.hasOwnProperty(St)&&W!==void 0&&!a.hasOwnProperty(St)&&Fo(e,t,St,void 0,a,W);for(le in a)W=a[le],P=n[le],!a.hasOwnProperty(le)||W===P||W===void 0&&P===void 0||Fo(e,t,le,W,a,P);return}}for(var H in n)W=n[H],n.hasOwnProperty(H)&&W!=null&&!a.hasOwnProperty(H)&&Nt(e,t,H,null,a,W);for(ie in a)W=a[ie],P=n[ie],!a.hasOwnProperty(ie)||W===P||W==null&&P==null||Nt(e,t,ie,W,a,P)}function gh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],c=i.transferSize,p=i.initiatorType,g=i.duration;if(c&&g&&gh(p)){for(p=0,g=i.responseEnd,a+=1;a<n.length;a++){var S=n[a],J=S.startTime;if(J>g)break;var le=S.transferSize,ie=S.initiatorType;le&&gh(ie)&&(S=S.responseEnd,p+=le*(S<g?1:(g-J)/(S-J)))}if(--a,t+=8*(c+p)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Po=null,ef=null;function Gc(e){return e.nodeType===9?e:e.ownerDocument}function xh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function tf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nf=null;function uy(){var e=window.event;return e&&e.type==="popstate"?e===nf?!1:(nf=e,!0):(nf=null,!1)}var wh=typeof setTimeout=="function"?setTimeout:void 0,oy=typeof clearTimeout=="function"?clearTimeout:void 0,jh=typeof Promise=="function"?Promise:void 0,fy=typeof queueMicrotask=="function"?queueMicrotask:typeof jh<"u"?function(e){return jh.resolve(null).then(e).catch(dy)}:wh;function dy(e){setTimeout(function(){throw e})}function Hl(e){return e==="head"}function Nh(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Si(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Er(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Er(n);for(var c=n.firstChild;c;){var p=c.nextSibling,g=c.nodeName;c[En]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&c.rel.toLowerCase()==="stylesheet"||n.removeChild(c),c=p}}else n==="body"&&Er(e.ownerDocument.body);n=i}while(n);Si(t)}function Sh(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function af(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":af(n),zs(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function my(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[En])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=In(e.nextSibling),e===null)break}return null}function hy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=In(e.nextSibling),e===null))return null;return e}function Th(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=In(e.nextSibling),e===null))return null;return e}function lf(e){return e.data==="$?"||e.data==="$~"}function sf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function py(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function In(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var rf=null;function _h(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return In(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Dh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Ch(e,t,n){switch(t=Gc(n),e){case"html":if(e=t.documentElement,!e)throw Error(m(452));return e;case"head":if(e=t.head,!e)throw Error(m(453));return e;case"body":if(e=t.body,!e)throw Error(m(454));return e;default:throw Error(m(451))}}function Er(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);zs(e)}var $n=new Map,Eh=new Set;function Qc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ll=F.d;F.d={f:yy,r:vy,D:gy,C:xy,L:by,m:wy,X:Ny,S:jy,M:Sy};function yy(){var e=ll.f(),t=Rc();return e||t}function vy(e){var t=bt(e);t!==null&&t.tag===5&&t.type==="form"?Vd(t):ll.r(e)}var wi=typeof document>"u"?null:document;function Ah(e,t,n){var a=wi;if(a&&typeof t=="string"&&t){var i=It(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Eh.has(i)||(Eh.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),sn(t,"link",e),qt(t),a.head.appendChild(t)))}}function gy(e){ll.D(e),Ah("dns-prefetch",e,null)}function xy(e,t){ll.C(e,t),Ah("preconnect",e,t)}function by(e,t,n){ll.L(e,t,n);var a=wi;if(a&&e&&t){var i='link[rel="preload"][as="'+It(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+It(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+It(n.imageSizes)+'"]')):i+='[href="'+It(e)+'"]';var c=i;switch(t){case"style":c=ji(e);break;case"script":c=Ni(e)}$n.has(c)||(e=Y({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),$n.set(c,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(Ar(c))||t==="script"&&a.querySelector(Or(c))||(t=a.createElement("link"),sn(t,"link",e),qt(t),a.head.appendChild(t)))}}function wy(e,t){ll.m(e,t);var n=wi;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+It(a)+'"][href="'+It(e)+'"]',c=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Ni(e)}if(!$n.has(c)&&(e=Y({rel:"modulepreload",href:e},t),$n.set(c,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Or(c)))return}a=n.createElement("link"),sn(a,"link",e),qt(a),n.head.appendChild(a)}}}function jy(e,t,n){ll.S(e,t,n);var a=wi;if(a&&e){var i=fn(a).hoistableStyles,c=ji(e);t=t||"default";var p=i.get(c);if(!p){var g={loading:0,preload:null};if(p=a.querySelector(Ar(c)))g.loading=5;else{e=Y({rel:"stylesheet",href:e,"data-precedence":t},n),(n=$n.get(c))&&cf(e,n);var S=p=a.createElement("link");qt(S),sn(S,"link",e),S._p=new Promise(function(J,le){S.onload=J,S.onerror=le}),S.addEventListener("load",function(){g.loading|=1}),S.addEventListener("error",function(){g.loading|=2}),g.loading|=4,Vc(p,t,a)}p={type:"stylesheet",instance:p,count:1,state:g},i.set(c,p)}}}function Ny(e,t){ll.X(e,t);var n=wi;if(n&&e){var a=fn(n).hoistableScripts,i=Ni(e),c=a.get(i);c||(c=n.querySelector(Or(i)),c||(e=Y({src:e,async:!0},t),(t=$n.get(i))&&uf(e,t),c=n.createElement("script"),qt(c),sn(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(i,c))}}function Sy(e,t){ll.M(e,t);var n=wi;if(n&&e){var a=fn(n).hoistableScripts,i=Ni(e),c=a.get(i);c||(c=n.querySelector(Or(i)),c||(e=Y({src:e,async:!0,type:"module"},t),(t=$n.get(i))&&uf(e,t),c=n.createElement("script"),qt(c),sn(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(i,c))}}function Oh(e,t,n,a){var i=(i=qe.current)?Qc(i):null;if(!i)throw Error(m(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ji(n.href),n=fn(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ji(n.href);var c=fn(i).hoistableStyles,p=c.get(e);if(p||(i=i.ownerDocument||i,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,p),(c=i.querySelector(Ar(e)))&&!c._p&&(p.instance=c,p.state.loading=5),$n.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},$n.set(e,n),c||Ty(i,e,n,p.state))),t&&a===null)throw Error(m(528,""));return p}if(t&&a!==null)throw Error(m(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ni(n),n=fn(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(m(444,e))}}function ji(e){return'href="'+It(e)+'"'}function Ar(e){return'link[rel="stylesheet"]['+e+"]"}function Mh(e){return Y({},e,{"data-precedence":e.precedence,precedence:null})}function Ty(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),sn(t,"link",n),qt(t),e.head.appendChild(t))}function Ni(e){return'[src="'+It(e)+'"]'}function Or(e){return"script[async]"+e}function kh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+It(n.href)+'"]');if(a)return t.instance=a,qt(a),a;var i=Y({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),qt(a),sn(a,"style",i),Vc(a,n.precedence,e),t.instance=a;case"stylesheet":i=ji(n.href);var c=e.querySelector(Ar(i));if(c)return t.state.loading|=4,t.instance=c,qt(c),c;a=Mh(n),(i=$n.get(i))&&cf(a,i),c=(e.ownerDocument||e).createElement("link"),qt(c);var p=c;return p._p=new Promise(function(g,S){p.onload=g,p.onerror=S}),sn(c,"link",a),t.state.loading|=4,Vc(c,n.precedence,e),t.instance=c;case"script":return c=Ni(n.src),(i=e.querySelector(Or(c)))?(t.instance=i,qt(i),i):(a=n,(i=$n.get(c))&&(a=Y({},n),uf(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),qt(i),sn(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(m(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Vc(a,n.precedence,e));return t.instance}function Vc(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,c=i,p=0;p<a.length;p++){var g=a[p];if(g.dataset.precedence===t)c=g;else if(c!==i)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function cf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function uf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Zc=null;function zh(e,t,n){if(Zc===null){var a=new Map,i=Zc=new Map;i.set(n,a)}else i=Zc,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var c=n[i];if(!(c[En]||c[Dt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var p=c.getAttribute(t)||"";p=e+p;var g=a.get(p);g?g.push(c):a.set(p,[c])}}return a}function Bh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function _y(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Rh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Dy(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var i=ji(a.href),c=t.querySelector(Ar(i));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Jc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=c,qt(c);return}c=t.ownerDocument||t,a=Mh(a),(i=$n.get(i))&&cf(a,i),c=c.createElement("link"),qt(c);var p=c;p._p=new Promise(function(g,S){p.onload=g,p.onerror=S}),sn(c,"link",a),n.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Jc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var of=0;function Cy(e,t){return e.stylesheets&&e.count===0&&$c(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&$c(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&of===0&&(of=62500*cy());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&$c(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>of?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ic=null;function $c(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ic=new Map,t.forEach(Ey,e),Ic=null,Jc.call(e))}function Ey(e,t){if(!(t.state.loading&4)){var n=Ic.get(e);if(n)var a=n.get(null);else{n=new Map,Ic.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<i.length;c++){var p=i[c];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),a=p)}a&&n.set(null,a)}i=t.instance,p=i.getAttribute("data-precedence"),c=n.get(p)||a,c===a&&n.set(null,i),n.set(p,i),this.count++,a=Jc.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),c?c.parentNode.insertBefore(i,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Mr={$$typeof:N,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Ay(e,t,n,a,i,c,p,g,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ca(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ca(0),this.hiddenUpdates=ca(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=c,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Uh(e,t,n,a,i,c,p,g,S,J,le,ie){return e=new Ay(e,t,n,p,S,J,le,ie,g),t=1,c===!0&&(t|=24),c=Mn(3,null,null,t),e.current=c,c.stateNode=e,t=Lu(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:a,isDehydrated:n,cache:t},Qu(c),e}function qh(e){return e?(e=ei,e):ei}function Hh(e,t,n,a,i,c){i=qh(i),a.context===null?a.context=i:a.pendingContext=i,a=Cl(t),a.payload={element:n},c=c===void 0?null:c,c!==null&&(a.callback=c),n=El(e,a,t),n!==null&&(_n(n,e,t),or(n,e,t))}function Yh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ff(e,t){Yh(e,t),(e=e.alternate)&&Yh(e,t)}function Lh(e){if(e.tag===13||e.tag===31){var t=yt(e,67108864);t!==null&&_n(t,e,67108864),ff(e,67108864)}}function Kh(e){if(e.tag===13||e.tag===31){var t=Un();t=Ui(t);var n=yt(e,t);n!==null&&_n(n,e,t),ff(e,t)}}var Wc=!0;function Oy(e,t,n,a){var i=V.T;V.T=null;var c=F.p;try{F.p=2,df(e,t,n,a)}finally{F.p=c,V.T=i}}function My(e,t,n,a){var i=V.T;V.T=null;var c=F.p;try{F.p=8,df(e,t,n,a)}finally{F.p=c,V.T=i}}function df(e,t,n,a){if(Wc){var i=mf(a);if(i===null)Wo(e,t,a,Fc,n),Gh(e,a);else if(zy(i,e,t,n,a))a.stopPropagation();else if(Gh(e,a),t&4&&-1<ky.indexOf(e)){for(;i!==null;){var c=bt(i);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var p=Fn(c.pendingLanes);if(p!==0){var g=c;for(g.pendingLanes|=2,g.entangledLanes|=2;p;){var S=1<<31-Ae(p);g.entanglements[1]|=S,p&=~S}wa(c),(mt&6)===0&&(zc=un()+500,_r(0))}}break;case 31:case 13:g=yt(c,2),g!==null&&_n(g,c,2),Rc(),ff(c,2)}if(c=mf(a),c===null&&Wo(e,t,a,Fc,n),c===i)break;i=c}i!==null&&a.stopPropagation()}else Wo(e,t,a,null,n)}}function mf(e){return e=Us(e),hf(e)}var Fc=null;function hf(e){if(Fc=null,e=fa(e),e!==null){var t=_(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=G(t),e!==null)return e;e=null}else if(n===31){if(e=L(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Fc=e,null}function Xh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($l()){case on:return 2;case ia:return 8;case cl:case Wl:return 32;case Os:return 268435456;default:return 32}default:return 32}}var pf=!1,Yl=null,Ll=null,Kl=null,kr=new Map,zr=new Map,Xl=[],ky="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gh(e,t){switch(e){case"focusin":case"focusout":Yl=null;break;case"dragenter":case"dragleave":Ll=null;break;case"mouseover":case"mouseout":Kl=null;break;case"pointerover":case"pointerout":kr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zr.delete(t.pointerId)}}function Br(e,t,n,a,i,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:c,targetContainers:[i]},t!==null&&(t=bt(t),t!==null&&Lh(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function zy(e,t,n,a,i){switch(t){case"focusin":return Yl=Br(Yl,e,t,n,a,i),!0;case"dragenter":return Ll=Br(Ll,e,t,n,a,i),!0;case"mouseover":return Kl=Br(Kl,e,t,n,a,i),!0;case"pointerover":var c=i.pointerId;return kr.set(c,Br(kr.get(c)||null,e,t,n,a,i)),!0;case"gotpointercapture":return c=i.pointerId,zr.set(c,Br(zr.get(c)||null,e,t,n,a,i)),!0}return!1}function Qh(e){var t=fa(e.target);if(t!==null){var n=_(t);if(n!==null){if(t=n.tag,t===13){if(t=G(n),t!==null){e.blockedOn=t,as(e.priority,function(){Kh(n)});return}}else if(t===31){if(t=L(n),t!==null){e.blockedOn=t,as(e.priority,function(){Kh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Ln=a,n.target.dispatchEvent(a),Ln=null}else return t=bt(n),t!==null&&Lh(t),e.blockedOn=n,!1;t.shift()}return!0}function Vh(e,t,n){Pc(e)&&n.delete(t)}function By(){pf=!1,Yl!==null&&Pc(Yl)&&(Yl=null),Ll!==null&&Pc(Ll)&&(Ll=null),Kl!==null&&Pc(Kl)&&(Kl=null),kr.forEach(Vh),zr.forEach(Vh)}function eu(e,t){e.blockedOn===t&&(e.blockedOn=null,pf||(pf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,By)))}var tu=null;function Zh(e){tu!==e&&(tu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){tu===e&&(tu=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(hf(a||n)===null)continue;break}var c=bt(n);c!==null&&(e.splice(t,3),t-=3,fo(c,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Si(e){function t(S){return eu(S,e)}Yl!==null&&eu(Yl,e),Ll!==null&&eu(Ll,e),Kl!==null&&eu(Kl,e),kr.forEach(t),zr.forEach(t);for(var n=0;n<Xl.length;n++){var a=Xl[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Xl.length&&(n=Xl[0],n.blockedOn===null);)Qh(n),n.blockedOn===null&&Xl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],c=n[a+1],p=i[Ut]||null;if(typeof c=="function")p||Zh(n);else if(p){var g=null;if(c&&c.hasAttribute("formAction")){if(i=c,p=c[Ut]||null)g=p.formAction;else if(hf(i)!==null)continue}else g=p.action;typeof g=="function"?n[a+1]=g:(n.splice(a,3),a-=3),Zh(n)}}}function Jh(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(p){return i=p})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function yf(e){this._internalRoot=e}nu.prototype.render=yf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(m(409));var n=t.current,a=Un();Hh(n,a,e,t,null,null)},nu.prototype.unmount=yf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hh(e.current,2,null,e,null,null),Rc(),t[yn]=null}};function nu(e){this._internalRoot=e}nu.prototype.unstable_scheduleHydration=function(e){if(e){var t=ns();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xl.length&&t!==0&&t<Xl[n].priority;n++);Xl.splice(n,0,e),n===0&&Qh(e)}};var Ih=o.version;if(Ih!=="19.2.4")throw Error(m(527,Ih,"19.2.4"));F.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(m(188)):(e=Object.keys(e).join(","),Error(m(268,e)));return e=T(t),e=e!==null?ee(e):null,e=e===null?null:e.stateNode,e};var Ry={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{ra=au.inject(Ry),Pt=au}catch{}}return Ur.createRoot=function(e,t){if(!j(e))throw Error(m(299));var n=!1,a="",i=nm,c=am,p=lm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Uh(e,1,!1,null,null,n,a,null,i,c,p,Jh),e[yn]=t.current,$o(e),new yf(t)},Ur.hydrateRoot=function(e,t,n){if(!j(e))throw Error(m(299));var a=!1,i="",c=nm,p=am,g=lm,S=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.formState!==void 0&&(S=n.formState)),t=Uh(e,1,!0,t,n??null,a,i,S,c,p,g,Jh),t.context=qh(null),n=t.current,a=Un(),a=Ui(a),i=Cl(a),i.callback=null,El(n,i,a),n=a,t.current.lanes=n,Hn(t,n),wa(t),e[yn]=t.current,$o(e),new nu(t)},Ur.version="19.2.4",Ur}var sp;function Zy(){if(sp)return xf.exports;sp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),xf.exports=Vy(),xf.exports}var Jy=Zy(),cu={exports:{}},Iy=cu.exports,ip;function $y(){return ip||(ip=1,(function(r,o){((d,m)=>{r.exports=m()})(Iy,function(){var d=function(l,u){return(d=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(f,h){f.__proto__=h}:function(f,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(f[y]=h[y])}))(l,u)},m=function(){return(m=Object.assign||function(l){for(var u,f=1,h=arguments.length;f<h;f++)for(var y in u=arguments[f])Object.prototype.hasOwnProperty.call(u,y)&&(l[y]=u[y]);return l}).apply(this,arguments)};function j(l,u,f){for(var h,y=0,v=u.length;y<v;y++)!h&&y in u||((h=h||Array.prototype.slice.call(u,0,y))[y]=u[y]);return l.concat(h||Array.prototype.slice.call(u))}var _=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:qy,G=Object.keys,L=Array.isArray;function C(l,u){return typeof u=="object"&&G(u).forEach(function(f){l[f]=u[f]}),l}typeof Promise>"u"||_.Promise||(_.Promise=Promise);var T=Object.getPrototypeOf,ee={}.hasOwnProperty;function Y(l,u){return ee.call(l,u)}function re(l,u){typeof u=="function"&&(u=u(T(l))),(typeof Reflect>"u"?G:Reflect.ownKeys)(u).forEach(function(f){ce(l,f,u[f])})}var me=Object.defineProperty;function ce(l,u,f,h){me(l,u,C(f&&Y(f,"get")&&typeof f.get=="function"?{get:f.get,set:f.set,configurable:!0}:{value:f,configurable:!0,writable:!0},h))}function pe(l){return{from:function(u){return l.prototype=Object.create(u.prototype),ce(l.prototype,"constructor",l),{extend:re.bind(null,l.prototype)}}}}var Ce=Object.getOwnPropertyDescriptor,be=[].slice;function Ee(l,u,f){return be.call(l,u,f)}function N(l,u){return u(l)}function je(l){if(!l)throw new Error("Assertion Failed")}function ue(l){_.setImmediate?setImmediate(l):setTimeout(l,0)}function he(l,u){if(typeof u=="string"&&Y(l,u))return l[u];if(!u)return l;if(typeof u!="string"){for(var f=[],h=0,y=u.length;h<y;++h){var v=he(l,u[h]);f.push(v)}return f}var x,w=u.indexOf(".");return w===-1||(x=l[u.substr(0,w)])==null?void 0:he(x,u.substr(w+1))}function ye(l,u,f){if(l&&u!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof u!="string"&&"length"in u){je(typeof f!="string"&&"length"in f);for(var h=0,y=u.length;h<y;++h)ye(l,u[h],f[h])}else{var v,x,w=u.indexOf(".");w!==-1?(v=u.substr(0,w),(w=u.substr(w+1))===""?f===void 0?L(l)&&!isNaN(parseInt(v))?l.splice(v,1):delete l[v]:l[v]=f:ye(x=(x=l[v])&&Y(l,v)?x:l[v]={},w,f)):f===void 0?L(l)&&!isNaN(parseInt(u))?l.splice(u,1):delete l[u]:l[u]=f}}function Ye(l){var u,f={};for(u in l)Y(l,u)&&(f[u]=l[u]);return f}var Ve=[].concat;function ft(l){return Ve.apply([],l)}var R="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ft([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(u){return u+l+"Array"})}))).filter(function(l){return _[l]}),We=new Set(R.map(function(l){return _[l]})),xe=null;function Ge(l){return xe=new WeakMap,l=(function u(f){if(!f||typeof f!="object")return f;var h=xe.get(f);if(h)return h;if(L(f)){h=[],xe.set(f,h);for(var y=0,v=f.length;y<v;++y)h.push(u(f[y]))}else if(We.has(f.constructor))h=f;else{var x,w=T(f);for(x in h=w===Object.prototype?{}:Object.create(w),xe.set(f,h),f)Y(f,x)&&(h[x]=u(f[x]))}return h})(l),xe=null,l}var ve={}.toString;function ke(l){return ve.call(l).slice(8,-1)}var V=typeof Symbol<"u"?Symbol.iterator:"@@iterator",F=typeof V=="symbol"?function(l){var u;return l!=null&&(u=l[V])&&u.apply(l)}:function(){return null};function I(l,u){u=l.indexOf(u),0<=u&&l.splice(u,1)}var ge={};function Ne(l){var u,f,h,y;if(arguments.length===1){if(L(l))return l.slice();if(this===ge&&typeof l=="string")return[l];if(y=F(l))for(f=[];!(h=y.next()).done;)f.push(h.value);else{if(l==null)return[l];if(typeof(u=l.length)!="number")return[l];for(f=new Array(u);u--;)f[u]=l[u]}}else for(u=arguments.length,f=new Array(u);u--;)f[u]=arguments[u];return f}var b=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},R=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],on=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(R),te={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ne(l,u){this.name=l,this.message=u}function Be(l,u){return l+". Errors: "+Object.keys(u).map(function(f){return u[f].toString()}).filter(function(f,h,y){return y.indexOf(f)===h}).join(`
`)}function qe(l,u,f,h){this.failures=u,this.failedKeys=h,this.successCount=f,this.message=Be(l,u)}function Ze(l,u){this.name="BulkError",this.failures=Object.keys(u).map(function(f){return u[f]}),this.failuresByPos=u,this.message=Be(l,this.failures)}pe(ne).from(Error).extend({toString:function(){return this.name+": "+this.message}}),pe(qe).from(ne),pe(Ze).from(ne);var kt=on.reduce(function(l,u){return l[u]=u+"Error",l},{}),ht=ne,Ue=on.reduce(function(l,u){var f=u+"Error";function h(y,v){this.name=f,y?typeof y=="string"?(this.message="".concat(y).concat(v?`
 `+v:""),this.inner=v||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=te[u]||f,this.inner=null)}return pe(h).from(ht),l[u]=h,l},{}),ze=(Ue.Syntax=SyntaxError,Ue.Type=TypeError,Ue.Range=RangeError,R.reduce(function(l,u){return l[u+"Error"]=Ue[u],l},{}));R=on.reduce(function(l,u){return["Syntax","Type","Range"].indexOf(u)===-1&&(l[u+"Error"]=Ue[u]),l},{});function Le(){}function pt(l){return l}function Cn(l,u){return l==null||l===pt?u:function(f){return u(l(f))}}function cn(l,u){return function(){l.apply(this,arguments),u.apply(this,arguments)}}function rl(l,u){return l===Le?u:function(){var f=l.apply(this,arguments),h=(f!==void 0&&(arguments[0]=f),this.onsuccess),y=this.onerror,v=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return h&&(this.onsuccess=this.onsuccess?cn(h,this.onsuccess):h),y&&(this.onerror=this.onerror?cn(y,this.onerror):y),v!==void 0?v:f}}function Xr(l,u){return l===Le?u:function(){l.apply(this,arguments);var f=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,u.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?cn(f,this.onsuccess):f),h&&(this.onerror=this.onerror?cn(h,this.onerror):h)}}function Jl(l,u){return l===Le?u:function(y){var h=l.apply(this,arguments),y=(C(y,h),this.onsuccess),v=this.onerror,x=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return y&&(this.onsuccess=this.onsuccess?cn(y,this.onsuccess):y),v&&(this.onerror=this.onerror?cn(v,this.onerror):v),h===void 0?x===void 0?void 0:x:C(h,x)}}function sa(l,u){return l===Le?u:function(){return u.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function Ca(l,u){return l===Le?u:function(){var f=l.apply(this,arguments);if(f&&typeof f.then=="function"){for(var h=this,y=arguments.length,v=new Array(y);y--;)v[y]=arguments[y];return f.then(function(){return u.apply(h,v)})}return u.apply(this,arguments)}}R.ModifyError=qe,R.DexieError=ne,R.BulkError=Ze;var bn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Gr(l){bn=l}var Il={},un=100,$l=typeof Promise>"u"?[]:(on=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[$l=crypto.subtle.digest("SHA-512",new Uint8Array([0])),T($l),on]:[on,T(on),on]),on=$l[0],Ka=$l[1],Ka=Ka&&Ka.then,ia=on&&on.constructor,cl=!!$l[2],Wl=function(l,u){Fl.push([l,u]),Ms&&(queueMicrotask(Qr),Ms=!1)},Os=!0,Ms=!0,Ea=[],ra=[],Pt=pt,en={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Le,pgp:!1,env:{},finalize:Le},Ae=en,Fl=[],Aa=0,ks=[];function _e(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var u=this._PSD=Ae;if(typeof l!="function"){if(l!==Il)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Fn(this,this._value)}else this._state=null,this._value=null,++u.ref,(function f(h,y){try{y(function(v){if(h._state===null){if(v===h)throw new TypeError("A promise cannot be resolved with itself.");var x=h._lib&&ca();v&&typeof v.then=="function"?f(h,function(w,E){v instanceof _e?v._then(w,E):v.then(w,E)}):(h._state=!0,h._value=v,es(h)),x&&Hn()}},Fn.bind(null,h))}catch(v){Fn(h,v)}})(this,l)}var ul={get:function(){var l=Ae,u=as;function f(h,y){var v=this,x=!l.global&&(l!==Ae||u!==as),w=x&&!yn(),E=new _e(function(K,A){Oa(v,new Pl(zs(h,l,x,w),zs(y,l,x,w),K,A,l))});return this._consoleTask&&(E._consoleTask=this._consoleTask),E}return f.prototype=Il,f},set:function(l){ce(this,"then",l&&l.prototype===Il?ul:{get:function(){return l},set:ul.set})}};function Pl(l,u,f,h,y){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof u=="function"?u:null,this.resolve=f,this.reject=h,this.psd=y}function Fn(l,u){var f,h;ra.push(u),l._state===null&&(f=l._lib&&ca(),u=Pt(u),l._state=!1,l._value=u,h=l,Ea.some(function(y){return y._value===h._value})||Ea.push(h),es(l),f)&&Hn()}function es(l){var u=l._listeners;l._listeners=[];for(var f=0,h=u.length;f<h;++f)Oa(l,u[f]);var y=l._PSD;--y.ref||y.finalize(),Aa===0&&(++Aa,Wl(function(){--Aa==0&&Ri()},[]))}function Oa(l,u){if(l._state===null)l._listeners.push(u);else{var f=l._state?u.onFulfilled:u.onRejected;if(f===null)return(l._state?u.resolve:u.reject)(l._value);++u.psd.ref,++Aa,Wl(ju,[f,l,u])}}function ju(l,u,f){try{var h,y=u._value;!u._state&&ra.length&&(ra=[]),h=bn&&u._consoleTask?u._consoleTask.run(function(){return l(y)}):l(y),u._state||ra.indexOf(y)!==-1||(v=>{for(var x=Ea.length;x;)if(Ea[--x]._value===v._value)return Ea.splice(x,1)})(u),f.resolve(h)}catch(v){f.reject(v)}finally{--Aa==0&&Ri(),--f.psd.ref||f.psd.finalize()}}function Qr(){En(en,function(){ca()&&Hn()})}function ca(){var l=Os;return Ms=Os=!1,l}function Hn(){var l,u,f;do for(;0<Fl.length;)for(l=Fl,Fl=[],f=l.length,u=0;u<f;++u){var h=l[u];h[0].apply(null,h[1])}while(0<Fl.length);Ms=Os=!0}function Ri(){for(var l=Ea,u=(Ea=[],l.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)}),ks.slice(0)),f=u.length;f;)u[--f]()}function ts(l){return new _e(Il,!1,l)}function Tt(l,u){var f=Ae;return function(){var h=ca(),y=Ae;try{return oa(f,!0),l.apply(this,arguments)}catch(v){u&&u(v)}finally{oa(y,!1),h&&Hn()}}}re(_e.prototype,{then:ul,_then:function(l,u){Oa(this,new Pl(null,null,l,u,Ae))},catch:function(l){var u,f;return arguments.length===1?this.then(null,l):(u=l,f=arguments[1],typeof u=="function"?this.then(null,function(h){return(h instanceof u?f:ts)(h)}):this.then(null,function(h){return(h&&h.name===u?f:ts)(h)}))},finally:function(l){return this.then(function(u){return _e.resolve(l()).then(function(){return u})},function(u){return _e.resolve(l()).then(function(){return ts(u)})})},timeout:function(l,u){var f=this;return l<1/0?new _e(function(h,y){var v=setTimeout(function(){return y(new Ue.Timeout(u))},l);f.then(h,y).finally(clearTimeout.bind(null,v))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ce(_e.prototype,Symbol.toStringTag,"Dexie.Promise"),en.env=qi(),re(_e,{all:function(){var l=Ne.apply(null,arguments).map(fl);return new _e(function(u,f){l.length===0&&u([]);var h=l.length;l.forEach(function(y,v){return _e.resolve(y).then(function(x){l[v]=x,--h||u(l)},f)})})},resolve:function(l){return l instanceof _e?l:l&&typeof l.then=="function"?new _e(function(u,f){l.then(u,f)}):new _e(Il,!0,l)},reject:ts,race:function(){var l=Ne.apply(null,arguments).map(fl);return new _e(function(u,f){l.map(function(h){return _e.resolve(h).then(u,f)})})},PSD:{get:function(){return Ae},set:function(l){return Ae=l}},totalEchoes:{get:function(){return as}},newPSD:Dt,usePSD:En,scheduler:{get:function(){return Wl},set:function(l){Wl=l}},rejectionMapper:{get:function(){return Pt},set:function(l){Pt=l}},follow:function(l,u){return new _e(function(f,h){return Dt(function(y,v){var x=Ae;x.unhandleds=[],x.onunhandled=v,x.finalize=cn(function(){var w,E=this;w=function(){E.unhandleds.length===0?y():v(E.unhandleds[0])},ks.push(function K(){w(),ks.splice(ks.indexOf(K),1)}),++Aa,Wl(function(){--Aa==0&&Ri()},[])},x.finalize),l()},u,f,h)})}}),ia&&(ia.allSettled&&ce(_e,"allSettled",function(){var l=Ne.apply(null,arguments).map(fl);return new _e(function(u){l.length===0&&u([]);var f=l.length,h=new Array(f);l.forEach(function(y,v){return _e.resolve(y).then(function(x){return h[v]={status:"fulfilled",value:x}},function(x){return h[v]={status:"rejected",reason:x}}).then(function(){return--f||u(h)})})})}),ia.any&&typeof AggregateError<"u"&&ce(_e,"any",function(){var l=Ne.apply(null,arguments).map(fl);return new _e(function(u,f){l.length===0&&f(new AggregateError([]));var h=l.length,y=new Array(h);l.forEach(function(v,x){return _e.resolve(v).then(function(w){return u(w)},function(w){y[x]=w,--h||f(new AggregateError(y))})})})}),ia.withResolvers)&&(_e.withResolvers=ia.withResolvers);var Rt={awaits:0,echoes:0,id:0},Ui=0,ol=[],ns=0,as=0,ua=0;function Dt(l,x,f,h){var y=Ae,v=Object.create(y),x=(v.parent=y,v.ref=0,v.global=!1,v.id=++ua,en.env,v.env=cl?{Promise:_e,PromiseProp:{value:_e,configurable:!0,writable:!0},all:_e.all,race:_e.race,allSettled:_e.allSettled,any:_e.any,resolve:_e.resolve,reject:_e.reject}:{},x&&C(v,x),++y.ref,v.finalize=function(){--this.parent.ref||this.parent.finalize()},En(v,l,f,h));return v.ref===0&&v.finalize(),x}function Ut(){return Rt.id||(Rt.id=++Ui),++Rt.awaits,Rt.echoes+=un,Rt.id}function yn(){return!!Rt.awaits&&(--Rt.awaits==0&&(Rt.id=0),Rt.echoes=Rt.awaits*un,!0)}function fl(l){return Rt.echoes&&l&&l.constructor===ia?(Ut(),l.then(function(u){return yn(),u},function(u){return yn(),bt(u)})):l}function Nu(){var l=ol[ol.length-1];ol.pop(),oa(l,!1)}function oa(l,u){var f,h,y=Ae;(u?!Rt.echoes||ns++&&l===Ae:!ns||--ns&&l===Ae)||queueMicrotask(u?(function(v){++as,Rt.echoes&&--Rt.echoes!=0||(Rt.echoes=Rt.awaits=Rt.id=0),ol.push(Ae),oa(v,!0)}).bind(null,l):Nu),l!==Ae&&(Ae=l,y===en&&(en.env=qi()),cl)&&(f=en.env.Promise,h=l.env,y.global||l.global)&&(Object.defineProperty(_,"Promise",h.PromiseProp),f.all=h.all,f.race=h.race,f.resolve=h.resolve,f.reject=h.reject,h.allSettled&&(f.allSettled=h.allSettled),h.any)&&(f.any=h.any)}function qi(){var l=_.Promise;return cl?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(_,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function En(l,u,f,h,y){var v=Ae;try{return oa(l,!0),u(f,h,y)}finally{oa(v,!1)}}function zs(l,u,f,h){return typeof l!="function"?l:function(){var y=Ae;f&&Ut(),oa(u,!0);try{return l.apply(this,arguments)}finally{oa(y,!1),h&&queueMicrotask(yn)}}}function fa(l){Promise===ia&&Rt.echoes===0?ns===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+Ka).indexOf("[native code]")===-1&&(Ut=yn=Le);var bt=_e.reject,An="",fn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",qt="String expected.",Ma=[],ls="__dbnames",Pn="readonly",da="readwrite";function ka(l,u){return l?u?function(){return l.apply(this,arguments)&&u.apply(this,arguments)}:l:u}var Hi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ss(l){return typeof l!="string"||/\./.test(l)?function(u){return u}:function(u){return u[l]===void 0&&l in u&&delete(u=Ge(u))[l],u}}function Vr(){throw Ue.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function tt(l,u){try{var f=is(l),h=is(u);if(f!==h)return f==="Array"?1:h==="Array"?-1:f==="binary"?1:h==="binary"?-1:f==="string"?1:h==="string"?-1:f==="Date"?1:h!=="Date"?NaN:-1;switch(f){case"number":case"Date":case"string":return u<l?1:l<u?-1:0;case"binary":for(var y=Yn(l),v=Yn(u),x=y.length,w=v.length,E=x<w?x:w,K=0;K<E;++K)if(y[K]!==v[K])return y[K]<v[K]?-1:1;return x===w?0:x<w?-1:1;case"Array":for(var A=l,D=u,k=A.length,B=D.length,O=k<B?k:B,M=0;M<O;++M){var Q=tt(A[M],D[M]);if(Q!==0)return Q}return k===B?0:k<B?-1:1}}catch{}return NaN}function is(l){var u=typeof l;return u=="object"&&(ArrayBuffer.isView(l)||(u=ke(l))==="ArrayBuffer")?"binary":u}function Yn(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function tn(l,u,f){var h=l.schema.yProps;return h?(u&&0<f.numFailures&&(u=u.filter(function(y,v){return!f.failures[v]})),Promise.all(h.map(function(y){return y=y.updatesTable,u?l.db.table(y).where("k").anyOf(u).delete():l.db.table(y).clear()})).then(function(){return f})):f}Zr.prototype.execute=function(l){var u=this["@@propmod"];if(u.add!==void 0){var f=u.add;if(L(f))return j(j([],L(l)?l:[],!0),f).sort();if(typeof f=="number")return(Number(l)||0)+f;if(typeof f=="bigint")try{return BigInt(l)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(u.remove!==void 0){var h=u.remove;if(L(h))return L(l)?l.filter(function(y){return!h.includes(y)}).sort():[];if(typeof h=="number")return Number(l)-h;if(typeof h=="bigint")try{return BigInt(l)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}return f=(f=u.replacePrefix)==null?void 0:f[0],f&&typeof l=="string"&&l.startsWith(f)?u.replacePrefix[1]+l.substring(f.length):l};var dl=Zr;function Zr(l){this["@@propmod"]=l}function Bs(l,u){for(var f=G(u),h=f.length,y=!1,v=0;v<h;++v){var x=f[v],w=u[x],E=he(l,x);w instanceof dl?(ye(l,x,w.execute(E)),y=!0):E!==w&&(ye(l,x,w),y=!0)}return y}dt.prototype._trans=function(l,u,f){var h=this._tx||Ae.trans,y=this.name,v=bn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function x(K,A,D){if(D.schema[y])return u(D.idbtrans,D);throw new Ue.NotFound("Table "+y+" not part of transaction")}var w=ca();try{var E=h&&h.db._novip===this.db._novip?h===Ae.trans?h._promise(l,x,f):Dt(function(){return h._promise(l,x,f)},{trans:h,transless:Ae.transless||Ae}):(function K(A,D,k,B){if(A.idbdb&&(A._state.openComplete||Ae.letThrough||A._vip)){var O=A._createTransaction(D,k,A._dbSchema);try{O.create(),A._state.PR1398_maxLoop=3}catch(M){return M.name===kt.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return K(A,D,k,B)})):bt(M)}return O._promise(D,function(M,Q){return Dt(function(){return Ae.trans=O,B(M,Q,O)})}).then(function(M){if(D==="readwrite")try{O.idbtrans.commit()}catch{}return D==="readonly"?M:O._completion.then(function(){return M})})}if(A._state.openComplete)return bt(new Ue.DatabaseClosed(A._state.dbOpenError));if(!A._state.isBeingOpened){if(!A._state.autoOpen)return bt(new Ue.DatabaseClosed);A.open().catch(Le)}return A._state.dbReadyPromise.then(function(){return K(A,D,k,B)})})(this.db,l,[this.name],x);return v&&(E._consoleTask=v,E=E.catch(function(K){return console.trace(K),bt(K)})),E}finally{w&&Hn()}},dt.prototype.get=function(l,u){var f=this;return l&&l.constructor===Object?this.where(l).first(u):l==null?bt(new Ue.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return f.core.get({trans:h,key:l}).then(function(y){return f.hook.reading.fire(y)})}).then(u)},dt.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(L(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var u=G(l);if(u.length===1)return this.where(u[0]).equals(l[u[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(w){if(w.compound&&u.every(function(K){return 0<=w.keyPath.indexOf(K)})){for(var E=0;E<u.length;++E)if(u.indexOf(w.keyPath[E])===-1)return!1;return!0}return!1}).sort(function(w,E){return w.keyPath.length-E.keyPath.length})[0];if(f&&this.db._maxKey!==An)return x=f.keyPath.slice(0,u.length),this.where(x).equals(x.map(function(w){return l[w]}));!f&&bn&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var h=this.schema.idxByName;function y(w,E){return tt(w,E)===0}var x=u.reduce(function(A,E){var K=A[0],A=A[1],D=h[E],k=l[E];return[K||D,K||!D?ka(A,D&&D.multi?function(B){return B=he(B,E),L(B)&&B.some(function(O){return y(k,O)})}:function(B){return y(k,he(B,E))}):A]},[null,null]),v=x[0],x=x[1];return v?this.where(v.name).equals(l[v.keyPath]).filter(x):f?this.filter(x):this.where(u).equals("")},dt.prototype.filter=function(l){return this.toCollection().and(l)},dt.prototype.count=function(l){return this.toCollection().count(l)},dt.prototype.offset=function(l){return this.toCollection().offset(l)},dt.prototype.limit=function(l){return this.toCollection().limit(l)},dt.prototype.each=function(l){return this.toCollection().each(l)},dt.prototype.toArray=function(l){return this.toCollection().toArray(l)},dt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},dt.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,L(l)?"[".concat(l.join("+"),"]"):l))},dt.prototype.reverse=function(){return this.toCollection().reverse()},dt.prototype.mapToClass=function(l){for(var u=this.db,f=this.name,h=((this.schema.mappedClass=l).prototype instanceof Vr&&(l=(x=>{var w=A,E=x;if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function K(){this.constructor=w}function A(){return x!==null&&x.apply(this,arguments)||this}return d(w,E),w.prototype=E===null?Object.create(E):(K.prototype=E.prototype,new K),Object.defineProperty(A.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),A.prototype.table=function(){return f},A})(l)),new Set),y=l.prototype;y;y=T(y))Object.getOwnPropertyNames(y).forEach(function(x){return h.add(x)});function v(x){if(!x)return x;var w,E=Object.create(l.prototype);for(w in x)if(!h.has(w))try{E[w]=x[w]}catch{}return E}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=v,this.hook("reading",v),l},dt.prototype.defineClass=function(){return this.mapToClass(function(l){C(this,l)})},dt.prototype.add=function(l,u){var f=this,h=this.schema.primKey,y=h.auto,v=h.keyPath,x=l;return v&&y&&(x=ss(v)(l)),this._trans("readwrite",function(w){return f.core.mutate({trans:w,type:"add",keys:u!=null?[u]:null,values:[x]})}).then(function(w){return w.numFailures?_e.reject(w.failures[0]):w.lastResult}).then(function(w){if(v)try{ye(l,v,w)}catch{}return w})},dt.prototype.upsert=function(l,u){var f=this,h=this.schema.primKey.keyPath;return this._trans("readwrite",function(y){return f.core.get({trans:y,key:l}).then(function(v){var x=v??{};return Bs(x,u),h&&ye(x,h,l),f.core.mutate({trans:y,type:"put",values:[x],keys:[l],upsert:!0,updates:{keys:[l],changeSpecs:[u]}}).then(function(w){return w.numFailures?_e.reject(w.failures[0]):!!v})})})},dt.prototype.update=function(l,u){return typeof l!="object"||L(l)?this.where(":id").equals(l).modify(u):(l=he(l,this.schema.primKey.keyPath))===void 0?bt(new Ue.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(u)},dt.prototype.put=function(l,u){var f=this,h=this.schema.primKey,y=h.auto,v=h.keyPath,x=l;return v&&y&&(x=ss(v)(l)),this._trans("readwrite",function(w){return f.core.mutate({trans:w,type:"put",values:[x],keys:u!=null?[u]:null})}).then(function(w){return w.numFailures?_e.reject(w.failures[0]):w.lastResult}).then(function(w){if(v)try{ye(l,v,w)}catch{}return w})},dt.prototype.delete=function(l){var u=this;return this._trans("readwrite",function(f){return u.core.mutate({trans:f,type:"delete",keys:[l]}).then(function(h){return tn(u,[l],h)}).then(function(h){return h.numFailures?_e.reject(h.failures[0]):void 0})})},dt.prototype.clear=function(){var l=this;return this._trans("readwrite",function(u){return l.core.mutate({trans:u,type:"deleteRange",range:Hi}).then(function(f){return tn(l,null,f)})}).then(function(u){return u.numFailures?_e.reject(u.failures[0]):void 0})},dt.prototype.bulkGet=function(l){var u=this;return this._trans("readonly",function(f){return u.core.getMany({keys:l,trans:f}).then(function(h){return h.map(function(y){return u.hook.reading.fire(y)})})})},dt.prototype.bulkAdd=function(l,u,f){var h=this,y=Array.isArray(u)?u:void 0,v=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(x){var w=h.schema.primKey,K=w.auto,w=w.keyPath;if(w&&y)throw new Ue.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new Ue.InvalidArgument("Arguments objects and keys must have the same length");var E=l.length,K=w&&K?l.map(ss(w)):l;return h.core.mutate({trans:x,type:"add",keys:y,values:K,wantResults:v}).then(function(A){var D=A.numFailures,k=A.failures;if(D===0)return v?A.results:A.lastResult;throw new Ze("".concat(h.name,".bulkAdd(): ").concat(D," of ").concat(E," operations failed"),k)})})},dt.prototype.bulkPut=function(l,u,f){var h=this,y=Array.isArray(u)?u:void 0,v=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(x){var w=h.schema.primKey,K=w.auto,w=w.keyPath;if(w&&y)throw new Ue.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new Ue.InvalidArgument("Arguments objects and keys must have the same length");var E=l.length,K=w&&K?l.map(ss(w)):l;return h.core.mutate({trans:x,type:"put",keys:y,values:K,wantResults:v}).then(function(A){var D=A.numFailures,k=A.failures;if(D===0)return v?A.results:A.lastResult;throw new Ze("".concat(h.name,".bulkPut(): ").concat(D," of ").concat(E," operations failed"),k)})})},dt.prototype.bulkUpdate=function(l){var u=this,f=this.core,h=l.map(function(x){return x.key}),y=l.map(function(x){return x.changes}),v=[];return this._trans("readwrite",function(x){return f.getMany({trans:x,keys:h,cache:"clone"}).then(function(w){var E=[],K=[],A=(l.forEach(function(D,k){var B=D.key,O=D.changes,M=w[k];if(M){for(var Q=0,$=Object.keys(O);Q<$.length;Q++){var X=$[Q],ae=O[X];if(X===u.schema.primKey.keyPath){if(tt(ae,B)!==0)throw new Ue.Constraint("Cannot update primary key in bulkUpdate()")}else ye(M,X,ae)}v.push(k),E.push(B),K.push(M)}}),E.length);return f.mutate({trans:x,type:"put",keys:E,values:K,updates:{keys:h,changeSpecs:y}}).then(function(D){var k=D.numFailures,B=D.failures;if(k===0)return A;for(var O=0,M=Object.keys(B);O<M.length;O++){var Q,$=M[O],X=v[Number($)];X!=null&&(Q=B[$],delete B[$],B[X]=Q)}throw new Ze("".concat(u.name,".bulkUpdate(): ").concat(k," of ").concat(A," operations failed"),B)})})})},dt.prototype.bulkDelete=function(l){var u=this,f=l.length;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"delete",keys:l}).then(function(y){return tn(u,l,y)})}).then(function(h){var y=h.numFailures,v=h.failures;if(y===0)return h.lastResult;throw new Ze("".concat(u.name,".bulkDelete(): ").concat(y," of ").concat(f," operations failed"),v)})};var Yi=dt;function dt(){}function rs(l){function u(x,w){if(w){for(var E=arguments.length,K=new Array(E-1);--E;)K[E-1]=arguments[E];return f[x].subscribe.apply(null,K),l}if(typeof x=="string")return f[x]}var f={};u.addEventType=v;for(var h=1,y=arguments.length;h<y;++h)v(arguments[h]);return u;function v(x,w,E){var K,A;if(typeof x!="object")return w=w||sa,A={subscribers:[],fire:E=E||Le,subscribe:function(D){A.subscribers.indexOf(D)===-1&&(A.subscribers.push(D),A.fire=w(A.fire,D))},unsubscribe:function(D){A.subscribers=A.subscribers.filter(function(k){return k!==D}),A.fire=A.subscribers.reduce(w,E)}},f[x]=u[x]=A;G(K=x).forEach(function(D){var k=K[D];if(L(k))v(D,K[D][0],K[D][1]);else{if(k!=="asap")throw new Ue.InvalidArgument("Invalid event config");var B=v(D,pt,function(){for(var O=arguments.length,M=new Array(O);O--;)M[O]=arguments[O];B.subscribers.forEach(function(Q){ue(function(){Q.apply(null,M)})})})}})}}function It(l,u){return pe(u).from({prototype:l}),u}function ma(l,u){return!(l.filter||l.algorithm||l.or)&&(u?l.justLimit:!l.replayFilter)}function Rs(l,u){l.filter=ka(l.filter,u)}function cs(l,u,f){var h=l.replayFilter;l.replayFilter=h?function(){return ka(h(),u())}:u,l.justLimit=f&&!h}function ea(l,u){if(l.isPrimKey)return u.primaryKey;var f=u.getIndexByKeyPath(l.index);if(f)return f;throw new Ue.Schema("KeyPath "+l.index+" on object store "+u.name+" is not indexed")}function Li(l,u,f){var h=ea(l,u.schema);return u.openCursor({trans:f,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:h,range:l.range}})}function us(l,u,f,h){var y,v,x=l.replayFilter?ka(l.filter,l.replayFilter()):l.filter;return l.or?(y={},v=function(w,E,K){var A,D;x&&!x(E,K,function(k){return E.stop(k)},function(k){return E.fail(k)})||((D=""+(A=E.primaryKey))=="[object ArrayBuffer]"&&(D=""+new Uint8Array(A)),Y(y,D))||(y[D]=!0,u(w,E,K))},Promise.all([l.or._iterate(v,f),za(Li(l,h,f),l.algorithm,v,!l.keysOnly&&l.valueMapper)])):za(Li(l,h,f),ka(l.algorithm,x),u,!l.keysOnly&&l.valueMapper)}function za(l,u,f,h){var y=Tt(h?function(v,x,w){return f(h(v),x,w)}:f);return l.then(function(v){if(v)return v.start(function(){var x=function(){return v.continue()};u&&!u(v,function(w){return x=w},function(w){v.stop(w),x=Le},function(w){v.fail(w),x=Le})||y(v.value,v,function(w){return x=w}),x()})})}rt.prototype._read=function(l,u){var f=this._ctx;return f.error?f.table._trans(null,bt.bind(null,f.error)):f.table._trans("readonly",l).then(u)},rt.prototype._write=function(l){var u=this._ctx;return u.error?u.table._trans(null,bt.bind(null,u.error)):u.table._trans("readwrite",l,"locked")},rt.prototype._addAlgorithm=function(l){var u=this._ctx;u.algorithm=ka(u.algorithm,l)},rt.prototype._iterate=function(l,u){return us(this._ctx,l,u,this._ctx.table.core)},rt.prototype.clone=function(l){var u=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return l&&C(f,l),u._ctx=f,u},rt.prototype.raw=function(){return this._ctx.valueMapper=null,this},rt.prototype.each=function(l){var u=this._ctx;return this._read(function(f){return us(u,l,f,u.table.core)})},rt.prototype.count=function(l){var u=this;return this._read(function(f){var h,y=u._ctx,v=y.table.core;return ma(y,!0)?v.count({trans:f,query:{index:ea(y,v.schema),range:y.range}}).then(function(x){return Math.min(x,y.limit)}):(h=0,us(y,function(){return++h,!1},f,v).then(function(){return h}))}).then(l)},rt.prototype.sortBy=function(l,u){var f=l.split(".").reverse(),h=f[0],y=f.length-1;function v(E,K){return K?v(E[f[K]],K-1):E[h]}var x=this._ctx.dir==="next"?1:-1;function w(E,K){return tt(v(E,y),v(K,y))*x}return this.toArray(function(E){return E.sort(w)}).then(u)},rt.prototype.toArray=function(l){var u=this;return this._read(function(f){var h,y,v,x=u._ctx;return x.dir==="next"&&ma(x,!0)&&0<x.limit?(h=x.valueMapper,y=ea(x,x.table.core.schema),x.table.core.query({trans:f,limit:x.limit,values:!0,query:{index:y,range:x.range}}).then(function(w){return w=w.result,h?w.map(h):w})):(v=[],us(x,function(w){return v.push(w)},f,x.table.core).then(function(){return v}))},l)},rt.prototype.offset=function(l){var u=this._ctx;return l<=0||(u.offset+=l,ma(u)?cs(u,function(){var f=l;return function(h,y){return f===0||(f===1?--f:y(function(){h.advance(f),f=0}),!1)}}):cs(u,function(){var f=l;return function(){return--f<0}})),this},rt.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),cs(this._ctx,function(){var u=l;return function(f,h,y){return--u<=0&&h(y),0<=u}},!0),this},rt.prototype.until=function(l,u){return Rs(this._ctx,function(f,h,y){return!l(f.value)||(h(y),u)}),this},rt.prototype.first=function(l){return this.limit(1).toArray(function(u){return u[0]}).then(l)},rt.prototype.last=function(l){return this.reverse().first(l)},rt.prototype.filter=function(l){var u;return Rs(this._ctx,function(f){return l(f.value)}),(u=this._ctx).isMatch=ka(u.isMatch,l),this},rt.prototype.and=function(l){return this.filter(l)},rt.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},rt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},rt.prototype.desc=function(){return this.reverse()},rt.prototype.eachKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){l(h.key,h)})},rt.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},rt.prototype.eachPrimaryKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){l(h.primaryKey,h)})},rt.prototype.keys=function(l){var u=this._ctx,f=(u.keysOnly=!u.isMatch,[]);return this.each(function(h,y){f.push(y.key)}).then(function(){return f}).then(l)},rt.prototype.primaryKeys=function(l){var u=this._ctx;if(u.dir==="next"&&ma(u,!0)&&0<u.limit)return this._read(function(h){var y=ea(u,u.table.core.schema);return u.table.core.query({trans:h,values:!1,limit:u.limit,query:{index:y,range:u.range}})}).then(function(h){return h.result}).then(l);u.keysOnly=!u.isMatch;var f=[];return this.each(function(h,y){f.push(y.primaryKey)}).then(function(){return f}).then(l)},rt.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},rt.prototype.firstKey=function(l){return this.limit(1).keys(function(u){return u[0]}).then(l)},rt.prototype.lastKey=function(l){return this.reverse().firstKey(l)},rt.prototype.distinct=function(){var l,u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];return u&&u.multi&&(l={},Rs(this._ctx,function(h){var h=h.primaryKey.toString(),y=Y(l,h);return l[h]=!0,!y})),this},rt.prototype.modify=function(l){var u=this,f=this._ctx;return this._write(function(h){function y(M,Q){var $=Q.failures;k+=M-Q.numFailures;for(var X=0,ae=G($);X<ae.length;X++){var oe=ae[X];D.push($[oe])}}var v=typeof l=="function"?l:function(M){return Bs(M,l)},x=f.table.core,A=x.schema.primaryKey,w=A.outbound,E=A.extractKey,K=200,A=u.db._options.modifyChunkSize,D=(A&&(K=typeof A=="object"?A[x.name]||A["*"]||200:A),[]),k=0,B=[],O=l===Ki;return u.clone().primaryKeys().then(function(M){function Q(X){var ae=Math.min(K,M.length-X),oe=M.slice(X,X+ae);return(O?Promise.resolve([]):x.getMany({trans:h,keys:oe,cache:"immutable"})).then(function(Se){var Te=[],fe=[],Oe=w?[]:null,De=O?oe:[];if(!O)for(var de=0;de<ae;++de){var Me=Se[de],Je={value:Ge(Me),primKey:M[X+de]};v.call(Je,Je.value,Je)!==!1&&(Je.value==null?De.push(M[X+de]):w||tt(E(Me),E(Je.value))===0?(fe.push(Je.value),w&&Oe.push(M[X+de])):(De.push(M[X+de]),Te.push(Je.value)))}return Promise.resolve(0<Te.length&&x.mutate({trans:h,type:"add",values:Te}).then(function(nt){for(var Ke in nt.failures)De.splice(parseInt(Ke),1);y(Te.length,nt)})).then(function(){return(0<fe.length||$&&typeof l=="object")&&x.mutate({trans:h,type:"put",keys:Oe,values:fe,criteria:$,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<X}).then(function(nt){return y(fe.length,nt)})}).then(function(){return(0<De.length||$&&O)&&x.mutate({trans:h,type:"delete",keys:De,criteria:$,isAdditionalChunk:0<X}).then(function(nt){return tn(f.table,De,nt)}).then(function(nt){return y(De.length,nt)})}).then(function(){return M.length>X+ae&&Q(X+K)})})}var $=ma(f)&&f.limit===1/0&&(typeof l!="function"||O)&&{index:f.index,range:f.range};return Q(0).then(function(){if(0<D.length)throw new qe("Error modifying one or more objects",D,k,B);return M.length})})})},rt.prototype.delete=function(){var l=this._ctx,u=l.range;return!ma(l)||l.table.schema.yProps||!l.isPrimKey&&u.type!==3?this.modify(Ki):this._write(function(f){var h=l.table.core.schema.primaryKey,y=u;return l.table.core.count({trans:f,query:{index:h,range:y}}).then(function(v){return l.table.core.mutate({trans:f,type:"deleteRange",range:y}).then(function(E){var w=E.failures,E=E.numFailures;if(E)throw new qe("Could not delete some values",Object.keys(w).map(function(K){return w[K]}),v-E);return v-E})})})};var Su=rt;function rt(){}var Ki=function(l,u){return u.value=null};function Xi(l,u){return l<u?-1:l===u?0:1}function Tu(l,u){return u<l?-1:l===u?0:1}function vn(l,u,f){return l=l instanceof Ba?new l.Collection(l):l,l._ctx.error=new(f||TypeError)(u),l}function ta(l){return new l.Collection(l,function(){return Us("")}).limit(0)}function wn(B,u,f,h){var y,v,x,w,E,K,A,D=f.length;if(!f.every(function(M){return typeof M=="string"}))return vn(B,qt);function k(M){y=M==="next"?function($){return $.toUpperCase()}:function($){return $.toLowerCase()},v=M==="next"?function($){return $.toLowerCase()}:function($){return $.toUpperCase()},x=M==="next"?Xi:Tu;var Q=f.map(function($){return{lower:v($),upper:y($)}}).sort(function($,X){return x($.lower,X.lower)});w=Q.map(function($){return $.upper}),E=Q.map(function($){return $.lower}),A=(K=M)==="next"?"":h}k("next");var B=new B.Collection(B,function(){return Ln(w[0],E[D-1]+h)}),O=(B._ondirectionchange=function(M){k(M)},0);return B._addAlgorithm(function(M,Q,$){var X=M.key;if(typeof X=="string"){var ae=v(X);if(u(ae,E,O))return!0;for(var oe=null,Se=O;Se<D;++Se){var Te=((fe,Oe,De,de,Me,Je)=>{for(var nt=Math.min(fe.length,de.length),Ke=-1,Ie=0;Ie<nt;++Ie){var wt=Oe[Ie];if(wt!==de[Ie])return Me(fe[Ie],De[Ie])<0?fe.substr(0,Ie)+De[Ie]+De.substr(Ie+1):Me(fe[Ie],de[Ie])<0?fe.substr(0,Ie)+de[Ie]+De.substr(Ie+1):0<=Ke?fe.substr(0,Ke)+Oe[Ke]+De.substr(Ke+1):null;Me(fe[Ie],wt)<0&&(Ke=Ie)}return nt<de.length&&Je==="next"?fe+De.substr(fe.length):nt<fe.length&&Je==="prev"?fe.substr(0,De.length):Ke<0?null:fe.substr(0,Ke)+de[Ke]+De.substr(Ke+1)})(X,ae,w[Se],E[Se],x,K);Te===null&&oe===null?O=Se+1:(oe===null||0<x(oe,Te))&&(oe=Te)}Q(oe!==null?function(){M.continue(oe+A)}:$)}return!1}),B}function Ln(l,u,f,h){return{type:2,lower:l,upper:u,lowerOpen:f,upperOpen:h}}function Us(l){return{type:1,lower:l,upper:l}}Object.defineProperty(Ct.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ct.prototype.between=function(l,u,f,h){f=f!==!1,h=h===!0;try{return 0<this._cmp(l,u)||this._cmp(l,u)===0&&(f||h)&&(!f||!h)?ta(this):new this.Collection(this,function(){return Ln(l,u,!f,!h)})}catch{return vn(this,fn)}},Ct.prototype.equals=function(l){return l==null?vn(this,fn):new this.Collection(this,function(){return Us(l)})},Ct.prototype.above=function(l){return l==null?vn(this,fn):new this.Collection(this,function(){return Ln(l,void 0,!0)})},Ct.prototype.aboveOrEqual=function(l){return l==null?vn(this,fn):new this.Collection(this,function(){return Ln(l,void 0,!1)})},Ct.prototype.below=function(l){return l==null?vn(this,fn):new this.Collection(this,function(){return Ln(void 0,l,!1,!0)})},Ct.prototype.belowOrEqual=function(l){return l==null?vn(this,fn):new this.Collection(this,function(){return Ln(void 0,l)})},Ct.prototype.startsWith=function(l){return typeof l!="string"?vn(this,qt):this.between(l,l+An,!0,!0)},Ct.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):wn(this,function(u,f){return u.indexOf(f[0])===0},[l],An)},Ct.prototype.equalsIgnoreCase=function(l){return wn(this,function(u,f){return u===f[0]},[l],"")},Ct.prototype.anyOfIgnoreCase=function(){var l=Ne.apply(ge,arguments);return l.length===0?ta(this):wn(this,function(u,f){return f.indexOf(u)!==-1},l,"")},Ct.prototype.startsWithAnyOfIgnoreCase=function(){var l=Ne.apply(ge,arguments);return l.length===0?ta(this):wn(this,function(u,f){return f.some(function(h){return u.indexOf(h)===0})},l,An)},Ct.prototype.anyOf=function(){var l,u,f=this,h=Ne.apply(ge,arguments),y=this._cmp;try{h.sort(y)}catch{return vn(this,fn)}return h.length===0?ta(this):((l=new this.Collection(this,function(){return Ln(h[0],h[h.length-1])}))._ondirectionchange=function(v){y=v==="next"?f._ascending:f._descending,h.sort(y)},u=0,l._addAlgorithm(function(v,x,w){for(var E=v.key;0<y(E,h[u]);)if(++u===h.length)return x(w),!1;return y(E,h[u])===0||(x(function(){v.continue(h[u])}),!1)}),l)},Ct.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ct.prototype.noneOf=function(){var l=Ne.apply(ge,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return vn(this,fn)}var u=l.reduce(function(f,h){return f?f.concat([[f[f.length-1][1],h]]):[[-1/0,h]]},null);return u.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},Ct.prototype.inAnyRange=function(l,$){var f=this,h=this._cmp,y=this._ascending,v=this._descending,x=this._min,w=this._max;if(l.length===0)return ta(this);if(!l.every(function(X){return X[0]!==void 0&&X[1]!==void 0&&y(X[0],X[1])<=0}))return vn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ue.InvalidArgument);var E=!$||$.includeLowers!==!1,K=$&&$.includeUppers===!0,A,D=y;function k(X,ae){return D(X[0],ae[0])}try{(A=l.reduce(function(X,ae){for(var oe=0,Se=X.length;oe<Se;++oe){var Te=X[oe];if(h(ae[0],Te[1])<0&&0<h(ae[1],Te[0])){Te[0]=x(Te[0],ae[0]),Te[1]=w(Te[1],ae[1]);break}}return oe===Se&&X.push(ae),X},[])).sort(k)}catch{return vn(this,fn)}var B=0,O=K?function(X){return 0<y(X,A[B][1])}:function(X){return 0<=y(X,A[B][1])},M=E?function(X){return 0<v(X,A[B][0])}:function(X){return 0<=v(X,A[B][0])},Q=O,$=new this.Collection(this,function(){return Ln(A[0][0],A[A.length-1][1],!E,!K)});return $._ondirectionchange=function(X){D=X==="next"?(Q=O,y):(Q=M,v),A.sort(k)},$._addAlgorithm(function(X,ae,oe){for(var Se,Te=X.key;Q(Te);)if(++B===A.length)return ae(oe),!1;return!O(Se=Te)&&!M(Se)||(f._cmp(Te,A[B][1])===0||f._cmp(Te,A[B][0])===0||ae(function(){D===y?X.continue(A[B][0]):X.continue(A[B][1])}),!1)}),$},Ct.prototype.startsWithAnyOf=function(){var l=Ne.apply(ge,arguments);return l.every(function(u){return typeof u=="string"})?l.length===0?ta(this):this.inAnyRange(l.map(function(u){return[u,u+An]})):vn(this,"startsWithAnyOf() only works with strings")};var Ba=Ct;function Ct(){}function On(l){return Tt(function(u){return Ra(u),l(u.target.error),!1})}function Ra(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var ml="storagemutated",Ua="x-storagemutated-1",$t=rs(null,ml),Gi=(dn.prototype._lock=function(){return je(!Ae.global),++this._reculock,this._reculock!==1||Ae.global||(Ae.lockOwnerFor=this),this},dn.prototype._unlock=function(){if(je(!Ae.global),--this._reculock==0)for(Ae.global||(Ae.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{En(l[1],l[0])}catch{}}return this},dn.prototype._locked=function(){return this._reculock&&Ae.lockOwnerFor!==this},dn.prototype.create=function(l){var u=this;if(this.mode){var f=this.db.idbdb,h=this.db._state.dbOpenError;if(je(!this.idbtrans),!l&&!f)switch(h&&h.name){case"DatabaseClosedError":throw new Ue.DatabaseClosed(h);case"MissingAPIError":throw new Ue.MissingAPI(h.message,h);default:throw new Ue.OpenFailed(h)}if(!this.active)throw new Ue.TransactionInactive;je(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||f).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Tt(function(y){Ra(y),u._reject(l.error)}),l.onabort=Tt(function(y){Ra(y),u.active&&u._reject(new Ue.Abort(l.error)),u.active=!1,u.on("abort").fire(y)}),l.oncomplete=Tt(function(){u.active=!1,u._resolve(),"mutatedParts"in l&&$t.storagemutated.fire(l.mutatedParts)})}return this},dn.prototype._promise=function(l,u,f){var h,y=this;return l==="readwrite"&&this.mode!=="readwrite"?bt(new Ue.ReadOnly("Transaction is readonly")):this.active?this._locked()?new _e(function(v,x){y._blockedFuncs.push([function(){y._promise(l,u,f).then(v,x)},Ae])}):f?Dt(function(){var v=new _e(function(x,w){y._lock();var E=u(x,w,y);E&&E.then&&E.then(x,w)});return v.finally(function(){return y._unlock()}),v._lib=!0,v}):((h=new _e(function(v,x){var w=u(v,x,y);w&&w.then&&w.then(v,x)}))._lib=!0,h):bt(new Ue.TransactionInactive)},dn.prototype._root=function(){return this.parent?this.parent._root():this},dn.prototype.waitFor=function(l){var u,f=this._root(),h=_e.resolve(l),y=(f._waitingFor?f._waitingFor=f._waitingFor.then(function(){return h}):(f._waitingFor=h,f._waitingQueue=[],u=f.idbtrans.objectStore(f.storeNames[0]),(function v(){for(++f._spinCount;f._waitingQueue.length;)f._waitingQueue.shift()();f._waitingFor&&(u.get(-1/0).onsuccess=v)})()),f._waitingFor);return new _e(function(v,x){h.then(function(w){return f._waitingQueue.push(Tt(v.bind(null,w)))},function(w){return f._waitingQueue.push(Tt(x.bind(null,w)))}).finally(function(){f._waitingFor===y&&(f._waitingFor=null)})})},dn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ue.Abort))},dn.prototype.table=function(l){var u=this._memoizedTables||(this._memoizedTables={});if(Y(u,l))return u[l];var f=this.schema[l];if(f)return(f=new this.db.Table(l,f,this)).core=this.db.core.table(l),u[l]=f;throw new Ue.NotFound("Table "+l+" not part of transaction")},dn);function dn(){}function Kn(l,u,f,h,y,v,x,w){return{name:l,keyPath:u,unique:f,multi:h,auto:y,compound:v,src:(f&&!x?"&":"")+(h?"*":"")+(y?"++":"")+qs(u),type:w}}function qs(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function hl(l,u,f){return{name:l,primKey:u,indexes:f,mappedClass:null,idxByName:(h=function(y){return[y.name,y]},f.reduce(function(y,v,x){return v=h(v,x),v&&(y[v[0]]=v[1]),y},{}))};var h}var pl=function(l){try{return l.only([[]]),pl=function(){return[[]]},[[]]}catch{return pl=function(){return An},An}};function yl(l){return l==null?function(){}:typeof l=="string"?(u=l).split(".").length===1?function(f){return f[u]}:function(f){return he(f,u)}:function(f){return he(f,l)};var u}function os(l){return[].slice.call(l)}var Jr=0;function Kt(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function qa(l,u,E){function h(O){if(O.type===3)return null;if(O.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var D=O.lower,k=O.upper,B=O.lowerOpen,O=O.upperOpen;return D===void 0?k===void 0?null:u.upperBound(k,!!O):k===void 0?u.lowerBound(D,!!B):u.bound(D,k,!!B,!!O)}function y(A){var D,k=A.name;return{name:k,schema:A,mutate:function(B){var O=B.trans,M=B.type,Q=B.keys,$=B.values,X=B.range;return new Promise(function(ae,oe){ae=Tt(ae);var Se=O.objectStore(k),Te=Se.keyPath==null,fe=M==="put"||M==="add";if(!fe&&M!=="delete"&&M!=="deleteRange")throw new Error("Invalid operation type: "+M);var Oe,De=(Q||$||{length:1}).length;if(Q&&$&&Q.length!==$.length)throw new Error("Given keys array must have same length as given values array.");if(De===0)return ae({numFailures:0,failures:{},results:[],lastResult:void 0});function de(yt){++nt,Ra(yt)}var Me=[],Je=[],nt=0;if(M==="deleteRange"){if(X.type===4)return ae({numFailures:nt,failures:Je,results:[],lastResult:void 0});X.type===3?Me.push(Oe=Se.clear()):Me.push(Oe=Se.delete(h(X)))}else{var Te=fe?Te?[$,Q]:[$,null]:[Q,null],Ke=Te[0],Ie=Te[1];if(fe)for(var wt=0;wt<De;++wt)Me.push(Oe=Ie&&Ie[wt]!==void 0?Se[M](Ke[wt],Ie[wt]):Se[M](Ke[wt])),Oe.onerror=de;else for(wt=0;wt<De;++wt)Me.push(Oe=Se[M](Ke[wt])),Oe.onerror=de}function hn(yt){yt=yt.target.result,Me.forEach(function(va,jl){return va.error!=null&&(Je[jl]=va.error)}),ae({numFailures:nt,failures:Je,results:M==="delete"?Q:Me.map(function(va){return va.result}),lastResult:yt})}Oe.onerror=function(yt){de(yt),hn(yt)},Oe.onsuccess=hn})},getMany:function(B){var O=B.trans,M=B.keys;return new Promise(function(Q,$){Q=Tt(Q);for(var X,ae=O.objectStore(k),oe=M.length,Se=new Array(oe),Te=0,fe=0,Oe=function(Me){Me=Me.target,Se[Me._pos]=Me.result,++fe===Te&&Q(Se)},De=On($),de=0;de<oe;++de)M[de]!=null&&((X=ae.get(M[de]))._pos=de,X.onsuccess=Oe,X.onerror=De,++Te);Te===0&&Q(Se)})},get:function(B){var O=B.trans,M=B.key;return new Promise(function(Q,$){Q=Tt(Q);var X=O.objectStore(k).get(M);X.onsuccess=function(ae){return Q(ae.target.result)},X.onerror=On($)})},query:(D=w,function(B){return new Promise(function(O,M){O=Tt(O);var Q,$,X,fe=B.trans,ae=B.values,oe=B.limit,Te=B.query,Se=oe===1/0?void 0:oe,Oe=Te.index,Te=Te.range,fe=fe.objectStore(k),fe=Oe.isPrimaryKey?fe:fe.index(Oe.name),Oe=h(Te);if(oe===0)return O({result:[]});D?((Te=ae?fe.getAll(Oe,Se):fe.getAllKeys(Oe,Se)).onsuccess=function(De){return O({result:De.target.result})},Te.onerror=On(M)):(Q=0,$=!ae&&"openKeyCursor"in fe?fe.openKeyCursor(Oe):fe.openCursor(Oe),X=[],$.onsuccess=function(De){var de=$.result;return!de||(X.push(ae?de.value:de.primaryKey),++Q===oe)?O({result:X}):void de.continue()},$.onerror=On(M))})}),openCursor:function(B){var O=B.trans,M=B.values,Q=B.query,$=B.reverse,X=B.unique;return new Promise(function(ae,oe){ae=Tt(ae);var fe=Q.index,Se=Q.range,Te=O.objectStore(k),Te=fe.isPrimaryKey?Te:Te.index(fe.name),fe=$?X?"prevunique":"prev":X?"nextunique":"next",Oe=!M&&"openKeyCursor"in Te?Te.openKeyCursor(h(Se),fe):Te.openCursor(h(Se),fe);Oe.onerror=On(oe),Oe.onsuccess=Tt(function(De){var de,Me,Je,nt,Ke=Oe.result;Ke?(Ke.___id=++Jr,Ke.done=!1,de=Ke.continue.bind(Ke),Me=(Me=Ke.continuePrimaryKey)&&Me.bind(Ke),Je=Ke.advance.bind(Ke),nt=function(){throw new Error("Cursor not stopped")},Ke.trans=O,Ke.stop=Ke.continue=Ke.continuePrimaryKey=Ke.advance=function(){throw new Error("Cursor not started")},Ke.fail=Tt(oe),Ke.next=function(){var Ie=this,wt=1;return this.start(function(){return wt--?Ie.continue():Ie.stop()}).then(function(){return Ie})},Ke.start=function(Ie){function wt(){if(Oe.result)try{Ie()}catch(yt){Ke.fail(yt)}else Ke.done=!0,Ke.start=function(){throw new Error("Cursor behind last entry")},Ke.stop()}var hn=new Promise(function(yt,va){yt=Tt(yt),Oe.onerror=On(va),Ke.fail=va,Ke.stop=function(jl){Ke.stop=Ke.continue=Ke.continuePrimaryKey=Ke.advance=nt,yt(jl)}});return Oe.onsuccess=Tt(function(yt){Oe.onsuccess=wt,wt()}),Ke.continue=de,Ke.continuePrimaryKey=Me,Ke.advance=Je,wt(),hn},ae(Ke)):ae(null)},oe)})},count:function(B){var O=B.query,M=B.trans,Q=O.index,$=O.range;return new Promise(function(X,ae){var oe=M.objectStore(k),oe=Q.isPrimaryKey?oe:oe.index(Q.name),Se=h($),Se=Se?oe.count(Se):oe.count();Se.onsuccess=Tt(function(Te){return X(Te.target.result)}),Se.onerror=On(ae)})}}}v=E,x=os((E=l).objectStoreNames);var v,E={schema:{name:E.name,tables:x.map(function(A){return v.objectStore(A)}).map(function(A){var D=A.keyPath,k=A.autoIncrement,O=L(D),B={},O={name:A.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:D==null,compound:O,keyPath:D,autoIncrement:k,unique:!0,extractKey:yl(D)},indexes:os(A.indexNames).map(function(M){return A.index(M)}).map(function(X){var ae=X.name,Q=X.unique,$=X.multiEntry,X=X.keyPath,ae={name:ae,compound:L(X),keyPath:X,unique:Q,multiEntry:$,extractKey:yl(X)};return B[Kt(X)]=ae}),getIndexByKeyPath:function(M){return B[Kt(M)]}};return B[":id"]=O.primaryKey,D!=null&&(B[Kt(D)]=O.primaryKey),O})},hasGetAll:0<x.length&&"getAll"in v.objectStore(x[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},x=E.schema,w=E.hasGetAll,E=x.tables.map(y),K={};return E.forEach(function(A){return K[A.name]=A}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(A){if(K[A])return K[A];throw new Error("Table '".concat(A,"' not found"))},MIN_KEY:-1/0,MAX_KEY:pl(u),schema:x}}function Hs(l,u,f,h){return f=f.IDBKeyRange,u=qa(u,f,h),{dbcore:l.dbcore.reduce(function(y,v){return v=v.create,m(m({},y),v(y))},u)}}function ha(l,u){var f=u.db,f=Hs(l._middlewares,f,l._deps,u);l.core=f.dbcore,l.tables.forEach(function(h){var y=h.name;l.core.schema.tables.some(function(v){return v.name===y})&&(h.core=l.core.table(y),l[y]instanceof l.Table)&&(l[y].core=h.core)})}function Ys(l,u,f,h){f.forEach(function(y){var v=h[y];u.forEach(function(x){var w=(function E(K,A){return Ce(K,A)||(K=T(K))&&E(K,A)})(x,y);(!w||"value"in w&&w.value===void 0)&&(x===l.Transaction.prototype||x instanceof l.Transaction?ce(x,y,{get:function(){return this.table(y)},set:function(E){me(this,y,{value:E,writable:!0,configurable:!0,enumerable:!0})}}):x[y]=new l.Table(y,v))})})}function fs(l,u){u.forEach(function(f){for(var h in f)f[h]instanceof l.Table&&delete f[h]})}function Qi(l,u){return l._cfg.version-u._cfg.version}function ds(l,u,f,h){var y=l._dbSchema,v=(f.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=hl("$meta",$r("")[0],[]),l._storeNames.push("$meta")),l._createTransaction("readwrite",l._storeNames,y)),x=(v.create(f),v._completion.catch(h),v._reject.bind(v)),w=Ae.transless||Ae;Dt(function(){if(Ae.trans=v,Ae.transless=w,u!==0)return ha(l,f),K=u,((E=v).storeNames.includes("$meta")?E.table("$meta").get("version").then(function(A){return A??K}):_e.resolve(K)).then(function(Q){var D=l,k=Q,B=v,O=f,M=[],Q=D._versions,$=D._dbSchema=vl(0,D.idbdb,O);return(Q=Q.filter(function(X){return X._cfg.version>=k})).length===0?_e.resolve():(Q.forEach(function(X){M.push(function(){var ae,oe,Se,Te=$,fe=X._cfg.dbschema,Oe=(Gs(D,Te,O),Gs(D,fe,O),$=D._dbSchema=fe,Ks(Te,fe)),De=(Oe.add.forEach(function(de){Vi(O,de[0],de[1].primKey,de[1].indexes)}),Oe.change.forEach(function(de){if(de.recreate)throw new Ue.Upgrade("Not yet support for changing primary key");var Me=O.objectStore(de.name);de.add.forEach(function(Je){return Xs(Me,Je)}),de.change.forEach(function(Je){Me.deleteIndex(Je.name),Xs(Me,Je)}),de.del.forEach(function(Je){return Me.deleteIndex(Je)})}),X._cfg.contentUpgrade);if(De&&X._cfg.version>k)return ha(D,O),B._memoizedTables={},ae=Ye(fe),Oe.del.forEach(function(de){ae[de]=Te[de]}),fs(D,[D.Transaction.prototype]),Ys(D,[D.Transaction.prototype],G(ae),ae),B.schema=ae,(oe=b(De))&&Ut(),fe=_e.follow(function(){var de;(Se=De(B))&&oe&&(de=yn.bind(null,null),Se.then(de,de))}),Se&&typeof Se.then=="function"?_e.resolve(Se):fe.then(function(){return Se})}),M.push(function(ae){var oe,Se,Te=X._cfg.dbschema;oe=Te,Se=ae,[].slice.call(Se.db.objectStoreNames).forEach(function(fe){return oe[fe]==null&&Se.db.deleteObjectStore(fe)}),fs(D,[D.Transaction.prototype]),Ys(D,[D.Transaction.prototype],D._storeNames,D._dbSchema),B.schema=D._dbSchema}),M.push(function(ae){D.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(D.idbdb.version/10)===X._cfg.version?(D.idbdb.deleteObjectStore("$meta"),delete D._dbSchema.$meta,D._storeNames=D._storeNames.filter(function(oe){return oe!=="$meta"})):ae.objectStore("$meta").put(X._cfg.version,"version"))})}),(function X(){return M.length?_e.resolve(M.shift()(B.idbtrans)).then(X):_e.resolve()})().then(function(){Ir($,O)}))}).catch(x);var E,K;G(y).forEach(function(A){Vi(f,A,y[A].primKey,y[A].indexes)}),ha(l,f),_e.follow(function(){return l.on.populate.fire(v)}).catch(x)})}function Ls(l,u){Ir(l._dbSchema,u),u.db.version%10!=0||u.objectStoreNames.contains("$meta")||u.db.createObjectStore("$meta").add(Math.ceil(u.db.version/10-1),"version");var f=vl(0,l.idbdb,u);Gs(l,l._dbSchema,u);for(var h=0,y=Ks(f,l._dbSchema).change;h<y.length;h++){var v=(x=>{if(x.change.length||x.recreate)return console.warn("Unable to patch indexes of table ".concat(x.name," because it has changes on the type of index or primary key.")),{value:void 0};var w=u.objectStore(x.name);x.add.forEach(function(E){bn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(x.name,".").concat(E.src)),Xs(w,E)})})(y[h]);if(typeof v=="object")return v.value}}function Ks(l,u){var f,h={del:[],add:[],change:[]};for(f in l)u[f]||h.del.push(f);for(f in u){var y=l[f],v=u[f];if(y){var x={name:f,def:v,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(v.primKey.keyPath||"")||y.primKey.auto!==v.primKey.auto)x.recreate=!0,h.change.push(x);else{var w=y.idxByName,E=v.idxByName,K=void 0;for(K in w)E[K]||x.del.push(K);for(K in E){var A=w[K],D=E[K];A?A.src!==D.src&&x.change.push(D):x.add.push(D)}(0<x.del.length||0<x.add.length||0<x.change.length)&&h.change.push(x)}}else h.add.push([f,v])}return h}function Vi(l,u,f,h){var y=l.db.createObjectStore(u,f.keyPath?{keyPath:f.keyPath,autoIncrement:f.auto}:{autoIncrement:f.auto});h.forEach(function(v){return Xs(y,v)})}function Ir(l,u){G(l).forEach(function(f){u.db.objectStoreNames.contains(f)||(bn&&console.debug("Dexie: Creating missing table",f),Vi(u,f,l[f].primKey,l[f].indexes))})}function Xs(l,u){l.createIndex(u.name,u.keyPath,{unique:u.unique,multiEntry:u.multi})}function vl(l,u,f){var h={};return Ee(u.objectStoreNames,0).forEach(function(y){for(var v=f.objectStore(y),x=Kn(qs(K=v.keyPath),K||"",!0,!1,!!v.autoIncrement,K&&typeof K!="string",!0),w=[],E=0;E<v.indexNames.length;++E){var A=v.index(v.indexNames[E]),K=A.keyPath,A=Kn(A.name,K,!!A.unique,!!A.multiEntry,!1,K&&typeof K!="string",!1);w.push(A)}h[y]=hl(y,x,w)}),h}function Gs(l,u,f){for(var h=f.db.objectStoreNames,y=0;y<h.length;++y){var v=h[y],x=f.objectStore(v);l._hasGetAll="getAll"in x;for(var w=0;w<x.indexNames.length;++w){var E,K=x.indexNames[w],A=x.index(K).keyPath,A=typeof A=="string"?A:"["+Ee(A).join("+")+"]";u[v]&&(E=u[v].idxByName[A])&&(E.name=K,delete u[v].idxByName[A],u[v].idxByName[K]=E)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&_.WorkerGlobalScope&&_ instanceof _.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function $r(l){return l.split(",").map(function(u,f){var y=u.split(":"),h=(h=y[1])==null?void 0:h.trim(),y=(u=y[0].trim()).replace(/([&*]|\+\+)/g,""),v=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return Kn(y,v||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),L(v),f===0,h)})}gl.prototype._createTableSchema=hl,gl.prototype._parseIndexSyntax=$r,gl.prototype._parseStoresSpec=function(l,u){var f=this;G(l).forEach(function(h){if(l[h]!==null){var y=f._parseIndexSyntax(l[h]),v=y.shift();if(!v)throw new Ue.Schema("Invalid schema for table "+h+": "+l[h]);if(v.unique=!0,v.multi)throw new Ue.Schema("Primary key cannot be multiEntry*");y.forEach(function(x){if(x.auto)throw new Ue.Schema("Only primary key can be marked as autoIncrement (++)");if(!x.keyPath)throw new Ue.Schema("Index must have a name and cannot be an empty string")}),v=f._createTableSchema(h,v,y),u[h]=v}})},gl.prototype.stores=function(f){var u=this.db,f=(this._cfg.storesSource=this._cfg.storesSource?C(this._cfg.storesSource,f):f,u._versions),h={},y={};return f.forEach(function(v){C(h,v._cfg.storesSource),y=v._cfg.dbschema={},v._parseStoresSpec(h,y)}),u._dbSchema=y,fs(u,[u._allTables,u,u.Transaction.prototype]),Ys(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],G(y),y),u._storeNames=G(y),this},gl.prototype.upgrade=function(l){return this._cfg.contentUpgrade=Ca(this._cfg.contentUpgrade||Le,l),this};var _u=gl;function gl(){}function Zi(l,u){var f=l._dbNamesDB;return f||(f=l._dbNamesDB=new Xn(ls,{addons:[],indexedDB:l,IDBKeyRange:u})).version(1).stores({dbnames:"name"}),f.table("dbnames")}function Qs(l){return l&&typeof l.databases=="function"}function Ji(l){return Dt(function(){return Ae.letThrough=!0,l()})}function Ii(l){return!("from"in l)}var Wt=function(l,u){var f;if(!this)return f=new Wt,l&&"d"in l&&C(f,l),f;C(this,arguments.length?{d:1,from:l,to:1<arguments.length?u:l}:{d:0})};function ms(l,u,f){var h=tt(u,f);if(!isNaN(h)){if(0<h)throw RangeError();if(Ii(l))return C(l,{from:u,to:f,d:1});var h=l.l,y=l.r;if(tt(f,l.from)<0)return h?ms(h,u,f):l.l={from:u,to:f,d:1,l:null,r:null},Fr(l);if(0<tt(u,l.to))return y?ms(y,u,f):l.r={from:u,to:f,d:1,l:null,r:null},Fr(l);tt(u,l.from)<0&&(l.from=u,l.l=null,l.d=y?y.d+1:1),0<tt(f,l.to)&&(l.to=f,l.r=null,l.d=l.l?l.l.d+1:1),u=!l.r,h&&!l.l&&Ha(l,h),y&&u&&Ha(l,y)}}function Ha(l,u){Ii(u)||(function f(h,y){var v=y.from,x=y.l,w=y.r;ms(h,v,y.to),x&&f(h,x),w&&f(h,w)})(l,u)}function Wr(l,u){var f=Vs(u),h=f.next();if(!h.done)for(var y=h.value,v=Vs(l),x=v.next(y.from),w=x.value;!h.done&&!x.done;){if(tt(w.from,y.to)<=0&&0<=tt(w.to,y.from))return!0;tt(y.from,w.from)<0?y=(h=f.next(w.from)).value:w=(x=v.next(y.from)).value}return!1}function Vs(l){var u=Ii(l)?null:{s:0,n:l};return{next:function(f){for(var h=0<arguments.length;u;)switch(u.s){case 0:if(u.s=1,h)for(;u.n.l&&tt(f,u.n.from)<0;)u={up:u,n:u.n.l,s:1};else for(;u.n.l;)u={up:u,n:u.n.l,s:1};case 1:if(u.s=2,!h||tt(f,u.n.to)<=0)return{value:u.n,done:!1};case 2:if(u.n.r){u.s=3,u={up:u,n:u.n.r,s:0};continue}case 3:u=u.up}return{done:!0}}}}function Fr(l){var u,f,h,y=(((y=l.r)==null?void 0:y.d)||0)-(((y=l.l)==null?void 0:y.d)||0),y=1<y?"r":y<-1?"l":"";y&&(u=y=="r"?"l":"r",f=m({},l),h=l[y],l.from=h.from,l.to=h.to,l[y]=h[y],f[y]=h[u],(l[u]=f).d=$i(f)),l.d=$i(l)}function $i(f){var u=f.r,f=f.l;return(u?f?Math.max(u.d,f.d):u.d:f?f.d:0)+1}function Zs(l,u){return G(u).forEach(function(f){l[f]?Ha(l[f],u[f]):l[f]=(function h(y){var v,x,w={};for(v in y)Y(y,v)&&(x=y[v],w[v]=!x||typeof x!="object"||We.has(x.constructor)?x:h(x));return w})(u[f])}),l}function Wi(l,u){return l.all||u.all||Object.keys(l).some(function(f){return u[f]&&Wr(u[f],l[f])})}re(Wt.prototype,((on={add:function(l){return Ha(this,l),this},addKey:function(l){return ms(this,l,l),this},addKeys:function(l){var u=this;return l.forEach(function(f){return ms(u,f,f)}),this},hasKey:function(l){var u=Vs(this).next(l).value;return u&&tt(u.from,l)<=0&&0<=tt(u.to,l)}})[V]=function(){return Vs(this)},on));var Ya={},Fi={},Pi=!1;function Js(l){Zs(Fi,l),Pi||(Pi=!0,setTimeout(function(){Pi=!1,er(Fi,!(Fi={}))},0))}function er(l,u){u===void 0&&(u=!1);var f=new Set;if(l.all)for(var h=0,y=Object.values(Ya);h<y.length;h++)Pr(w=y[h],l,f,u);else for(var v in l){var x,w,v=/^idb\:\/\/(.*)\/(.*)\//.exec(v);v&&(x=v[1],v=v[2],w=Ya["idb://".concat(x,"/").concat(v)])&&Pr(w,l,f,u)}f.forEach(function(E){return E()})}function Pr(l,u,f,h){for(var y=[],v=0,x=Object.entries(l.queries.query);v<x.length;v++){for(var w=x[v],E=w[0],K=[],A=0,D=w[1];A<D.length;A++){var k=D[A];Wi(u,k.obsSet)?k.subscribers.forEach(function(Q){return f.add(Q)}):h&&K.push(k)}h&&y.push([E,K])}if(h)for(var B=0,O=y;B<O.length;B++){var M=O[B],E=M[0],K=M[1];l.queries.query[E]=K}}function Du(l){var u=l._state,f=l._deps.indexedDB;if(u.isBeingOpened||l.idbdb)return u.dbReadyPromise.then(function(){return u.dbOpenError?bt(u.dbOpenError):l});u.isBeingOpened=!0,u.dbOpenError=null,u.openComplete=!1;var h=u.openCanceller,y=Math.round(10*l.verno),v=!1;function x(){if(u.openCanceller!==h)throw new Ue.DatabaseClosed("db.open() was cancelled")}function w(){return new _e(function(k,B){if(x(),!f)throw new Ue.MissingAPI;var O=l.name,M=u.autoSchema||!y?f.open(O):f.open(O,y);if(!M)throw new Ue.MissingAPI;M.onerror=On(B),M.onblocked=Tt(l._fireOnBlocked),M.onupgradeneeded=Tt(function(Q){var $;A=M.transaction,u.autoSchema&&!l._options.allowEmptyDB?(M.onerror=Ra,A.abort(),M.result.close(),($=f.deleteDatabase(O)).onsuccess=$.onerror=Tt(function(){B(new Ue.NoSuchDatabase("Database ".concat(O," doesnt exist")))})):(A.onerror=On(B),$=Q.oldVersion>Math.pow(2,62)?0:Q.oldVersion,D=$<1,l.idbdb=M.result,v&&Ls(l,A),ds(l,$/10,A,B))},B),M.onsuccess=Tt(function(){A=null;var Q,$,X,ae,oe,Se,Te=l.idbdb=M.result,fe=Ee(Te.objectStoreNames);if(0<fe.length)try{var Oe=Te.transaction((oe=fe).length===1?oe[0]:oe,"readonly");if(u.autoSchema)Se=Te,ae=Oe,(X=l).verno=Se.version/10,ae=X._dbSchema=vl(0,Se,ae),X._storeNames=Ee(Se.objectStoreNames,0),Ys(X,[X._allTables],G(ae),ae);else if(Gs(l,l._dbSchema,Oe),$=Oe,(($=Ks(vl(0,(Q=l).idbdb,$),Q._dbSchema)).add.length||$.change.some(function(De){return De.add.length||De.change.length}))&&!v)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Te.close(),y=Te.version+1,v=!0,k(w());ha(l,Oe)}catch{}Ma.push(l),Te.onversionchange=Tt(function(De){u.vcFired=!0,l.on("versionchange").fire(De)}),Te.onclose=Tt(function(){l.close({disableAutoOpen:!1})}),D&&(fe=l._deps,oe=O,Qs(Se=fe.indexedDB)||oe===ls||Zi(Se,fe.IDBKeyRange).put({name:oe}).catch(Le)),k()},B)}).catch(function(k){switch(k?.name){case"UnknownError":if(0<u.PR1398_maxLoop)return u.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),w();break;case"VersionError":if(0<y)return y=0,w()}return _e.reject(k)})}var E,K=u.dbReadyResolve,A=null,D=!1;return _e.race([h,(typeof navigator>"u"?_e.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(k){function B(){return indexedDB.databases().finally(k)}E=setInterval(B,100),B()}).finally(function(){return clearInterval(E)}):Promise.resolve()).then(w)]).then(function(){return x(),u.onReadyBeingFired=[],_e.resolve(Ji(function(){return l.on.ready.fire(l.vip)})).then(function k(){var B;if(0<u.onReadyBeingFired.length)return B=u.onReadyBeingFired.reduce(Ca,Le),u.onReadyBeingFired=[],_e.resolve(Ji(function(){return B(l.vip)})).then(k)})}).finally(function(){u.openCanceller===h&&(u.onReadyBeingFired=null,u.isBeingOpened=!1)}).catch(function(k){u.dbOpenError=k;try{A&&A.abort()}catch{}return h===u.openCanceller&&l._close(),bt(k)}).finally(function(){u.openComplete=!0,K()}).then(function(){var k;return D&&(k={},l.tables.forEach(function(B){B.schema.indexes.forEach(function(O){O.name&&(k["idb://".concat(l.name,"/").concat(B.name,"/").concat(O.name)]=new Wt(-1/0,[[[]]]))}),k["idb://".concat(l.name,"/").concat(B.name,"/")]=k["idb://".concat(l.name,"/").concat(B.name,"/:dels")]=new Wt(-1/0,[[[]]])}),$t(ml).fire(k),er(k,!0)),l})}function hs(l){function u(v){return l.next(v)}var f=y(u),h=y(function(v){return l.throw(v)});function y(v){return function(w){var w=v(w),E=w.value;return w.done?E:E&&typeof E.then=="function"?E.then(f,h):L(E)?Promise.all(E).then(f,h):f(E)}}return y(u)()}function pa(l,u,f){for(var h=L(l)?l.slice():[l],y=0;y<f;++y)h.push(u);return h}var Cu={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return m(m({},l),{table:function(h){var f=l.table(h),h=f.schema,y={},v=[];function x(k,B,O){var X=Kt(k),M=y[X]=y[X]||[],Q=k==null?0:typeof k=="string"?1:k.length,$=0<B,X=m(m({},O),{name:$?"".concat(X,"(virtual-from:").concat(O.name,")"):O.name,lowLevelIndex:O,isVirtual:$,keyTail:B,keyLength:Q,extractKey:yl(k),unique:!$&&O.unique});return M.push(X),X.isPrimaryKey||v.push(X),1<Q&&x(Q===2?k[0]:k.slice(0,Q-1),B+1,O),M.sort(function(ae,oe){return ae.keyTail-oe.keyTail}),X}var w=x(h.primaryKey.keyPath,0,h.primaryKey);y[":id"]=[w];for(var E=0,K=h.indexes;E<K.length;E++){var A=K[E];x(A.keyPath,0,A)}function D(k){var B,O=k.query.index;return O.isVirtual?m(m({},k),{query:{index:O.lowLevelIndex,range:(B=k.query.range,O=O.keyTail,{type:B.type===1?2:B.type,lower:pa(B.lower,B.lowerOpen?l.MAX_KEY:l.MIN_KEY,O),lowerOpen:!0,upper:pa(B.upper,B.upperOpen?l.MIN_KEY:l.MAX_KEY,O),upperOpen:!0})}}):k}return m(m({},f),{schema:m(m({},h),{primaryKey:w,indexes:v,getIndexByKeyPath:function(k){return(k=y[Kt(k)])&&k[0]}}),count:function(k){return f.count(D(k))},query:function(k){return f.query(D(k))},openCursor:function(k){var B=k.query.index,O=B.keyTail,M=B.keyLength;return B.isVirtual?f.openCursor(D(k)).then(function($){return $&&Q($)}):f.openCursor(k);function Q($){return Object.create($,{continue:{value:function(X){X!=null?$.continue(pa(X,k.reverse?l.MAX_KEY:l.MIN_KEY,O)):k.unique?$.continue($.key.slice(0,M).concat(k.reverse?l.MIN_KEY:l.MAX_KEY,O)):$.continue()}},continuePrimaryKey:{value:function(X,ae){$.continuePrimaryKey(pa(X,l.MAX_KEY,O),ae)}},primaryKey:{get:function(){return $.primaryKey}},key:{get:function(){var X=$.key;return M===1?X[0]:X.slice(0,M)}},value:{get:function(){return $.value}}})}}})}})}};function Is(l,u,f,h){return f=f||{},h=h||"",G(l).forEach(function(y){var v,x,w;Y(u,y)?(v=l[y],x=u[y],typeof v=="object"&&typeof x=="object"&&v&&x?(w=ke(v))!==ke(x)?f[h+y]=u[y]:w==="Object"?Is(v,x,f,h+y+"."):v!==x&&(f[h+y]=u[y]):v!==x&&(f[h+y]=u[y])):f[h+y]=void 0}),G(u).forEach(function(y){Y(l,y)||(f[h+y]=u[y])}),f}function $s(l,u){return u.type==="delete"?u.keys:u.keys||u.values.map(l.extractKey)}var ec={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return m(m({},l),{table:function(u){var f=l.table(u),h=f.schema.primaryKey;return m(m({},f),{mutate:function(y){var v=Ae.trans,x=v.table(u).hook,w=x.deleting,E=x.creating,K=x.updating;switch(y.type){case"add":if(E.fire===Le)break;return v._promise("readwrite",function(){return A(y)},!0);case"put":if(E.fire===Le&&K.fire===Le)break;return v._promise("readwrite",function(){return A(y)},!0);case"delete":if(w.fire===Le)break;return v._promise("readwrite",function(){return A(y)},!0);case"deleteRange":if(w.fire===Le)break;return v._promise("readwrite",function(){return(function D(k,B,O){return f.query({trans:k,values:!1,query:{index:h,range:B},limit:O}).then(function(M){var Q=M.result;return A({type:"delete",keys:Q,trans:k}).then(function($){return 0<$.numFailures?Promise.reject($.failures[0]):Q.length<O?{failures:[],numFailures:0,lastResult:void 0}:D(k,m(m({},B),{lower:Q[Q.length-1],lowerOpen:!0}),O)})})})(y.trans,y.range,1e4)},!0)}return f.mutate(y);function A(D){var k,B,O,M=Ae.trans,Q=D.keys||$s(h,D);if(Q)return(D=D.type==="add"||D.type==="put"?m(m({},D),{keys:Q}):m({},D)).type!=="delete"&&(D.values=j([],D.values)),D.keys&&(D.keys=j([],D.keys)),k=f,O=Q,((B=D).type==="add"?Promise.resolve([]):k.getMany({trans:B.trans,keys:O,cache:"immutable"})).then(function($){var X=Q.map(function(ae,oe){var Se,Te,fe,Oe=$[oe],De={onerror:null,onsuccess:null};return D.type==="delete"?w.fire.call(De,ae,Oe,M):D.type==="add"||Oe===void 0?(Se=E.fire.call(De,ae,D.values[oe],M),ae==null&&Se!=null&&(D.keys[oe]=ae=Se,h.outbound||ye(D.values[oe],h.keyPath,ae))):(Se=Is(Oe,D.values[oe]),(Te=K.fire.call(De,Se,ae,Oe,M))&&(fe=D.values[oe],Object.keys(Te).forEach(function(de){Y(fe,de)?fe[de]=Te[de]:ye(fe,de,Te[de])}))),De});return f.mutate(D).then(function(ae){for(var oe=ae.failures,Se=ae.results,Te=ae.numFailures,ae=ae.lastResult,fe=0;fe<Q.length;++fe){var Oe=(Se||Q)[fe],De=X[fe];Oe==null?De.onerror&&De.onerror(oe[fe]):De.onsuccess&&De.onsuccess(D.type==="put"&&$[fe]?D.values[fe]:Oe)}return{failures:oe,results:Se,numFailures:Te,lastResult:ae}}).catch(function(ae){return X.forEach(function(oe){return oe.onerror&&oe.onerror(ae)}),Promise.reject(ae)})});throw new Error("Keys missing")}}})}})}};function tr(l,u,f){try{if(!u||u.keys.length<l.length)return null;for(var h=[],y=0,v=0;y<u.keys.length&&v<l.length;++y)tt(u.keys[y],l[v])===0&&(h.push(f?Ge(u.values[y]):u.values[y]),++v);return h.length===l.length?h:null}catch{return null}}var tc={stack:"dbcore",level:-1,create:function(l){return{table:function(u){var f=l.table(u);return m(m({},f),{getMany:function(h){var y;return h.cache?(y=tr(h.keys,h.trans._cache,h.cache==="clone"))?_e.resolve(y):f.getMany(h).then(function(v){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?Ge(v):v},v}):f.getMany(h)},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),f.mutate(h)}})}}}};function La(l,u){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!u.schema.primaryKey.outbound}function nc(l,u){switch(l){case"query":return u.values&&!u.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Eu={stack:"dbcore",level:0,name:"Observability",create:function(l){var u=l.schema.name,f=new Wt(l.MIN_KEY,l.MAX_KEY);return m(m({},l),{transaction:function(h,y,v){if(Ae.subscr&&y!=="readonly")throw new Ue.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ae.querier));return l.transaction(h,y,v)},table:function(h){function y(Q){var M,Q=Q.query;return[M=Q.index,new Wt((M=(Q=Q.range).lower)!=null?M:l.MIN_KEY,(M=Q.upper)!=null?M:l.MAX_KEY)]}var v=l.table(h),x=v.schema,w=x.primaryKey,E=x.indexes,K=w.extractKey,A=w.outbound,D=w.autoIncrement&&E.filter(function(O){return O.compound&&O.keyPath.includes(w.keyPath)}),k=m(m({},v),{mutate:function(O){function M(Me){return Me="idb://".concat(u,"/").concat(h,"/").concat(Me),oe[Me]||(oe[Me]=new Wt)}var Q,$,X,ae=O.trans,oe=O.mutatedParts||(O.mutatedParts={}),Se=M(""),Te=M(":dels"),fe=O.type,De=O.type==="deleteRange"?[O.range]:O.type==="delete"?[O.keys]:O.values.length<50?[$s(w,O).filter(function(Me){return Me}),O.values]:[],Oe=De[0],De=De[1],de=O.trans._cache;return L(Oe)?(Se.addKeys(Oe),(fe=fe==="delete"||Oe.length===De.length?tr(Oe,de):null)||Te.addKeys(Oe),(fe||De)&&(Q=M,$=fe,X=De,x.indexes.forEach(function(Me){var Je=Q(Me.name||"");function nt(Ie){return Ie!=null?Me.extractKey(Ie):null}function Ke(Ie){Me.multiEntry&&L(Ie)?Ie.forEach(function(wt){return Je.addKey(wt)}):Je.addKey(Ie)}($||X).forEach(function(Ie,yt){var hn=$&&nt($[yt]),yt=X&&nt(X[yt]);tt(hn,yt)!==0&&(hn!=null&&Ke(hn),yt!=null)&&Ke(yt)})}))):Oe?(De={from:(de=Oe.lower)!=null?de:l.MIN_KEY,to:(fe=Oe.upper)!=null?fe:l.MAX_KEY},Te.add(De),Se.add(De)):(Se.add(f),Te.add(f),x.indexes.forEach(function(Me){return M(Me.name).add(f)})),v.mutate(O).then(function(Me){return!Oe||O.type!=="add"&&O.type!=="put"||(Se.addKeys(Me.results),D&&D.forEach(function(Je){for(var nt=O.values.map(function(hn){return Je.extractKey(hn)}),Ke=Je.keyPath.findIndex(function(hn){return hn===w.keyPath}),Ie=0,wt=Me.results.length;Ie<wt;++Ie)nt[Ie][Ke]=Me.results[Ie];M(Je.name).addKeys(nt)})),ae.mutatedParts=Zs(ae.mutatedParts||{},oe),Me})}}),B={get:function(O){return[w,new Wt(O.key)]},getMany:function(O){return[w,new Wt().addKeys(O.keys)]},count:y,query:y,openCursor:y};return G(B).forEach(function(O){k[O]=function(M){var Q=Ae.subscr,$=!!Q,X=La(Ae,v)&&nc(O,M)?M.obsSet={}:Q;if($){var ae,Q=function(De){return De="idb://".concat(u,"/").concat(h,"/").concat(De),X[De]||(X[De]=new Wt)},oe=Q(""),Se=Q(":dels"),$=B[O](M),Te=$[0],$=$[1];if((O==="query"&&Te.isPrimaryKey&&!M.values?Se:Q(Te.name||"")).add($),!Te.isPrimaryKey){if(O!=="count")return ae=O==="query"&&A&&M.values&&v.query(m(m({},M),{values:!1})),v[O].apply(this,arguments).then(function(De){if(O==="query"){if(A&&M.values)return ae.then(function(nt){return nt=nt.result,oe.addKeys(nt),De});var de=M.values?De.result.map(K):De.result;(M.values?oe:Se).addKeys(de)}else{var Me,Je;if(O==="openCursor")return Je=M.values,(Me=De)&&Object.create(Me,{key:{get:function(){return Se.addKey(Me.primaryKey),Me.key}},primaryKey:{get:function(){var nt=Me.primaryKey;return Se.addKey(nt),nt}},value:{get:function(){return Je&&oe.addKey(Me.primaryKey),Me.value}}})}return De});Se.add(f)}}return v[O].apply(this,arguments)}}),k}})}};function ac(l,u,f){var h;return f.numFailures===0?u:u.type==="deleteRange"||(h=u.keys?u.keys.length:"values"in u&&u.values?u.values.length:1,f.numFailures===h)?null:(h=m({},u),L(h.keys)&&(h.keys=h.keys.filter(function(y,v){return!(v in f.failures)})),"values"in h&&L(h.values)&&(h.values=h.values.filter(function(y,v){return!(v in f.failures)})),h)}function Ws(l,u){return f=l,((h=u).lower===void 0||(h.lowerOpen?0<tt(f,h.lower):0<=tt(f,h.lower)))&&(f=l,(h=u).upper===void 0||(h.upperOpen?tt(f,h.upper)<0:tt(f,h.upper)<=0));var f,h}function nr(l,u,f,h,y,v){var x,w,E,K,A,D;return!f||f.length===0||(x=u.query.index,w=x.multiEntry,E=u.query.range,K=h.schema.primaryKey.extractKey,A=x.extractKey,D=(x.lowLevelIndex||x).extractKey,(h=f.reduce(function(k,B){var O=k,M=[];if(B.type==="add"||B.type==="put")for(var Q=new Wt,$=B.values.length-1;0<=$;--$){var X,ae=B.values[$],oe=K(ae);!Q.hasKey(oe)&&(X=A(ae),w&&L(X)?X.some(function(De){return Ws(De,E)}):Ws(X,E))&&(Q.addKey(oe),M.push(ae))}switch(B.type){case"add":var Se=new Wt().addKeys(u.values?k.map(function(de){return K(de)}):k),O=k.concat(u.values?M.filter(function(de){return de=K(de),!Se.hasKey(de)&&(Se.addKey(de),!0)}):M.map(function(de){return K(de)}).filter(function(de){return!Se.hasKey(de)&&(Se.addKey(de),!0)}));break;case"put":var Te=new Wt().addKeys(B.values.map(function(de){return K(de)}));O=k.filter(function(de){return!Te.hasKey(u.values?K(de):de)}).concat(u.values?M:M.map(function(de){return K(de)}));break;case"delete":var fe=new Wt().addKeys(B.keys);O=k.filter(function(de){return!fe.hasKey(u.values?K(de):de)});break;case"deleteRange":var Oe=B.range;O=k.filter(function(de){return!Ws(K(de),Oe)})}return O},l))===l)?l:(h.sort(function(k,B){return tt(D(k),D(B))||tt(K(k),K(B))}),u.limit&&u.limit<1/0&&(h.length>u.limit?h.length=u.limit:l.length===u.limit&&h.length<u.limit&&(y.dirty=!0)),v?Object.freeze(h):h)}function xl(l,u){return tt(l.lower,u.lower)===0&&tt(l.upper,u.upper)===0&&!!l.lowerOpen==!!u.lowerOpen&&!!l.upperOpen==!!u.upperOpen}function ps(l,u){return((f,h,y,v)=>{if(f===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((f=tt(f,h))===0){if(y&&v)return 0;if(y)return 1;if(v)return-1}return f})(l.lower,u.lower,l.lowerOpen,u.lowerOpen)<=0&&0<=((f,h,y,v)=>{if(f===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((f=tt(f,h))===0){if(y&&v)return 0;if(y)return-1;if(v)return 1}return f})(l.upper,u.upper,l.upperOpen,u.upperOpen)}function Au(l,u,f,h){l.subscribers.add(f),h.addEventListener("abort",function(){var y,v;l.subscribers.delete(f),l.subscribers.size===0&&(y=l,v=u,setTimeout(function(){y.subscribers.size===0&&I(v,y)},3e3))})}var Fs={stack:"dbcore",level:0,name:"Cache",create:function(l){var u=l.schema.name;return m(m({},l),{transaction:function(f,h,y){var v,x,w=l.transaction(f,h,y);return h==="readwrite"&&(y=(v=new AbortController).signal,w.addEventListener("abort",(x=function(E){return function(){if(v.abort(),h==="readwrite"){for(var K=new Set,A=0,D=f;A<D.length;A++){var k=D[A],B=Ya["idb://".concat(u,"/").concat(k)];if(B){var O=l.table(k),M=B.optimisticOps.filter(function(Me){return Me.trans===w});if(w._explicit&&E&&w.mutatedParts)for(var Q=0,$=Object.values(B.queries.query);Q<$.length;Q++)for(var X=0,ae=(Te=$[Q]).slice();X<ae.length;X++)Wi((fe=ae[X]).obsSet,w.mutatedParts)&&(I(Te,fe),fe.subscribers.forEach(function(Me){return K.add(Me)}));else if(0<M.length){B.optimisticOps=B.optimisticOps.filter(function(Me){return Me.trans!==w});for(var oe=0,Se=Object.values(B.queries.query);oe<Se.length;oe++)for(var Te,fe,Oe,De=0,de=(Te=Se[oe]).slice();De<de.length;De++)(fe=de[De]).res!=null&&w.mutatedParts&&(E&&!fe.dirty?(Oe=Object.isFrozen(fe.res),Oe=nr(fe.res,fe.req,M,O,fe,Oe),fe.dirty?(I(Te,fe),fe.subscribers.forEach(function(Me){return K.add(Me)})):Oe!==fe.res&&(fe.res=Oe,fe.promise=_e.resolve({result:Oe}))):(fe.dirty&&I(Te,fe),fe.subscribers.forEach(function(Me){return K.add(Me)})))}}}K.forEach(function(Me){return Me()})}}})(!1),{signal:y}),w.addEventListener("error",x(!1),{signal:y}),w.addEventListener("complete",x(!0),{signal:y})),w},table:function(f){var h=l.table(f),y=h.schema.primaryKey;return m(m({},h),{mutate:function(v){var x,w=Ae.trans;return!y.outbound&&w.db._options.cache!=="disabled"&&!w.explicit&&w.idbtrans.mode==="readwrite"&&(x=Ya["idb://".concat(u,"/").concat(f)])?(w=h.mutate(v),v.type!=="add"&&v.type!=="put"||!(50<=v.values.length||$s(y,v).some(function(E){return E==null}))?(x.optimisticOps.push(v),v.mutatedParts&&Js(v.mutatedParts),w.then(function(E){0<E.numFailures&&(I(x.optimisticOps,v),(E=ac(0,v,E))&&x.optimisticOps.push(E),v.mutatedParts)&&Js(v.mutatedParts)}),w.catch(function(){I(x.optimisticOps,v),v.mutatedParts&&Js(v.mutatedParts)})):w.then(function(E){var K=ac(0,m(m({},v),{values:v.values.map(function(A,D){var k;return E.failures[D]?A:(ye(k=(k=y.keyPath)!=null&&k.includes(".")?Ge(A):m({},A),y.keyPath,E.results[D]),k)})}),E);x.optimisticOps.push(K),queueMicrotask(function(){return v.mutatedParts&&Js(v.mutatedParts)})}),w):h.mutate(v)},query:function(v){var x,w,E,K,A,D,k;return La(Ae,h)&&nc("query",v)?(x=((E=Ae.trans)==null?void 0:E.db._options.cache)==="immutable",w=(E=Ae).requery,E=E.signal,D=((B,O,M,Q)=>{var $=Ya["idb://".concat(B,"/").concat(O)];if(!$)return[];if(!(B=$.queries[M]))return[null,!1,$,null];var X=B[(Q.query?Q.query.index.name:null)||""];if(!X)return[null,!1,$,null];switch(M){case"query":var ae=X.find(function(oe){return oe.req.limit===Q.limit&&oe.req.values===Q.values&&xl(oe.req.query.range,Q.query.range)});return ae?[ae,!0,$,X]:[X.find(function(oe){return("limit"in oe.req?oe.req.limit:1/0)>=Q.limit&&(!Q.values||oe.req.values)&&ps(oe.req.query.range,Q.query.range)}),!1,$,X];case"count":return ae=X.find(function(oe){return xl(oe.req.query.range,Q.query.range)}),[ae,!!ae,$,X]}})(u,f,"query",v),k=D[0],K=D[2],A=D[3],k&&D[1]?k.obsSet=v.obsSet:(D=h.query(v).then(function(B){var O=B.result;if(k&&(k.res=O),x){for(var M=0,Q=O.length;M<Q;++M)Object.freeze(O[M]);Object.freeze(O)}else B.result=Ge(O);return B}).catch(function(B){return A&&k&&I(A,k),Promise.reject(B)}),k={obsSet:v.obsSet,promise:D,subscribers:new Set,type:"query",req:v,dirty:!1},A?A.push(k):(A=[k],(K=K||(Ya["idb://".concat(u,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[v.query.index.name||""]=A)),Au(k,A,w,E),k.promise.then(function(B){return{result:nr(B.result,v,K?.optimisticOps,h,k,x)}})):h.query(v)}})}})}};function ys(l,u){return new Proxy(l,{get:function(f,h,y){return h==="db"?u:Reflect.get(f,h,y)}})}Et.prototype.version=function(l){if(isNaN(l)||l<.1)throw new Ue.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new Ue.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var u=this._versions,f=u.filter(function(h){return h._cfg.version===l})[0];return f||(f=new this.Version(l),u.push(f),u.sort(Qi),f.stores({}),this._state.autoSchema=!1),f},Et.prototype._whenReady=function(l){var u=this;return this.idbdb&&(this._state.openComplete||Ae.letThrough||this._vip)?l():new _e(function(f,h){if(u._state.openComplete)return h(new Ue.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen)return void h(new Ue.DatabaseClosed);u.open().catch(Le)}u._state.dbReadyPromise.then(f,h)}).then(l)},Et.prototype.use=function(y){var u=y.stack,f=y.create,h=y.level,y=y.name,v=(y&&this.unuse({stack:u,name:y}),this._middlewares[u]||(this._middlewares[u]=[]));return v.push({stack:u,create:f,level:h??10,name:y}),v.sort(function(x,w){return x.level-w.level}),this},Et.prototype.unuse=function(l){var u=l.stack,f=l.name,h=l.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(y){return h?y.create!==h:!!f&&y.name!==f})),this},Et.prototype.open=function(){var l=this;return En(en,function(){return Du(l)})},Et.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,u=Ma.indexOf(this);if(0<=u&&Ma.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new _e(function(f){l.dbReadyResolve=f}),l.openCanceller=new _e(function(f,h){l.cancelOpen=h}))},Et.prototype.close=function(u){var u=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,f=this._state;u?(f.isBeingOpened&&f.cancelOpen(new Ue.DatabaseClosed),this._close(),f.autoOpen=!1,f.dbOpenError=new Ue.DatabaseClosed):(this._close(),f.autoOpen=this._options.autoOpen||f.isBeingOpened,f.openComplete=!1,f.dbOpenError=null)},Et.prototype.delete=function(l){var u=this,f=(l===void 0&&(l={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),h=this._state;return new _e(function(y,v){function x(){u.close(l);var w=u._deps.indexedDB.deleteDatabase(u.name);w.onsuccess=Tt(function(){var E,K,A;E=u._deps,K=u.name,Qs(A=E.indexedDB)||K===ls||Zi(A,E.IDBKeyRange).delete(K).catch(Le),y()}),w.onerror=On(v),w.onblocked=u._fireOnBlocked}if(f)throw new Ue.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(x):x()})},Et.prototype.backendDB=function(){return this.idbdb},Et.prototype.isOpen=function(){return this.idbdb!==null},Et.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},Et.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Et.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Et.prototype,"tables",{get:function(){var l=this;return G(this._allTables).map(function(u){return l._allTables[u]})},enumerable:!1,configurable:!0}),Et.prototype.transaction=function(){var l=(function(u,f,h){var y=arguments.length;if(y<2)throw new Ue.InvalidArgument("Too few arguments");for(var v=new Array(y-1);--y;)v[y-1]=arguments[y];return h=v.pop(),[u,ft(v),h]}).apply(this,arguments);return this._transaction.apply(this,l)},Et.prototype._transaction=function(l,u,f){var h,y,v=this,x=Ae.trans,w=(x&&x.db===this&&l.indexOf("!")===-1||(x=null),l.indexOf("?")!==-1);l=l.replace("!","").replace("?","");try{if(y=u.map(function(K){if(K=K instanceof v.Table?K.name:K,typeof K!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return K}),l=="r"||l===Pn)h=Pn;else{if(l!="rw"&&l!=da)throw new Ue.InvalidArgument("Invalid transaction mode: "+l);h=da}if(x){if(x.mode===Pn&&h===da){if(!w)throw new Ue.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");x=null}x&&y.forEach(function(K){if(x&&x.storeNames.indexOf(K)===-1){if(!w)throw new Ue.SubTransaction("Table "+K+" not included in parent transaction.");x=null}}),w&&x&&!x.active&&(x=null)}}catch(K){return x?x._promise(null,function(A,D){D(K)}):bt(K)}var E=(function K(A,D,k,B,O){return _e.resolve().then(function(){var X=Ae.transless||Ae,M=A._createTransaction(D,k,A._dbSchema,B),X=(M.explicit=!0,{trans:M,transless:X});if(B)M.idbtrans=B.idbtrans;else try{M.create(),M.idbtrans._explicit=!0,A._state.PR1398_maxLoop=3}catch(ae){return ae.name===kt.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return K(A,D,k,null,O)})):bt(ae)}var Q,$=b(O),X=($&&Ut(),_e.follow(function(){var ae;(Q=O.call(M,M))&&($?(ae=yn.bind(null,null),Q.then(ae,ae)):typeof Q.next=="function"&&typeof Q.throw=="function"&&(Q=hs(Q)))},X));return(Q&&typeof Q.then=="function"?_e.resolve(Q).then(function(ae){return M.active?ae:bt(new Ue.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):X.then(function(){return Q})).then(function(ae){return B&&M._resolve(),M._completion.then(function(){return ae})}).catch(function(ae){return M._reject(ae),bt(ae)})})}).bind(null,this,h,y,x,f);return x?x._promise(h,E,"lock"):Ae.trans?En(Ae.transless,function(){return v._whenReady(E)}):this._whenReady(E)},Et.prototype.table=function(l){if(Y(this._allTables,l))return this._allTables[l];throw new Ue.InvalidTable("Table ".concat(l," does not exist"))};var Xn=Et;function Et(l,u){var f,h,y,v,x,w=this,E=(this._middlewares={},this.verno=0,Et.dependencies),E=(this._options=u=m({addons:Et.addons,autoOpen:!0,indexedDB:E.indexedDB,IDBKeyRange:E.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange},u.addons),K=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Le,dbReadyPromise:null,cancelOpen:Le,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:u.autoOpen}),A=(K.dbReadyPromise=new _e(function(D){K.dbReadyResolve=D}),K.openCanceller=new _e(function(D,k){K.cancelOpen=k}),this._state=K,this.name=l,this.on=rs(this,"populate","blocked","versionchange","close",{ready:[Ca,Le]}),this.once=function(D,k){var B=function(){for(var O=[],M=0;M<arguments.length;M++)O[M]=arguments[M];w.on(D).unsubscribe(B),k.apply(w,O)};return w.on(D,B)},this.on.ready.subscribe=N(this.on.ready.subscribe,function(D){return function(k,B){Et.vip(function(){var O,M=w._state;M.openComplete?(M.dbOpenError||_e.resolve().then(k),B&&D(k)):M.onReadyBeingFired?(M.onReadyBeingFired.push(k),B&&D(k)):(D(k),O=w,B||D(function Q(){O.on.ready.unsubscribe(k),O.on.ready.unsubscribe(Q)}))})}}),this.Collection=(f=this,It(Su.prototype,function(Q,M){this.db=f;var B=Hi,O=null;if(M)try{B=M()}catch(X){O=X}var M=Q._ctx,Q=M.table,$=Q.hook.reading.fire;this._ctx={table:Q,index:M.index,isPrimKey:!M.index||Q.schema.primKey.keyPath&&M.index===Q.schema.primKey.name,range:B,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:O,or:M.or,valueMapper:$!==pt?$:null}})),this.Table=(h=this,It(Yi.prototype,function(D,k,B){this.db=h,this._tx=B,this.name=D,this.schema=k,this.hook=h._allTables[D]?h._allTables[D].hook:rs(null,{creating:[rl,Le],reading:[Cn,pt],updating:[Jl,Le],deleting:[Xr,Le]})})),this.Transaction=(y=this,It(Gi.prototype,function(D,k,B,O,M){var Q=this;D!=="readonly"&&k.forEach(function($){$=($=B[$])==null?void 0:$.yProps,$&&(k=k.concat($.map(function(X){return X.updatesTable})))}),this.db=y,this.mode=D,this.storeNames=k,this.schema=B,this.chromeTransactionDurability=O,this.idbtrans=null,this.on=rs(this,"complete","error","abort"),this.parent=M||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new _e(function($,X){Q._resolve=$,Q._reject=X}),this._completion.then(function(){Q.active=!1,Q.on.complete.fire()},function($){var X=Q.active;return Q.active=!1,Q.on.error.fire($),Q.parent?Q.parent._reject($):X&&Q.idbtrans&&Q.idbtrans.abort(),bt($)})})),this.Version=(v=this,It(_u.prototype,function(D){this.db=v,this._cfg={version:D,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(x=this,It(Ba.prototype,function(D,k,B){if(this.db=x,this._ctx={table:D,index:k===":id"?null:k,or:B},this._cmp=this._ascending=tt,this._descending=function(O,M){return tt(M,O)},this._max=function(O,M){return 0<tt(O,M)?O:M},this._min=function(O,M){return tt(O,M)<0?O:M},this._IDBKeyRange=x._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ue.MissingAPI})),this.on("versionchange",function(D){0<D.newVersion?console.warn("Another connection wants to upgrade database '".concat(w.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(w.name,"'. Closing db now to resume the delete request.")),w.close({disableAutoOpen:!1})}),this.on("blocked",function(D){!D.newVersion||D.newVersion<D.oldVersion?console.warn("Dexie.delete('".concat(w.name,"') was blocked")):console.warn("Upgrade '".concat(w.name,"' blocked by other connection holding version ").concat(D.oldVersion/10))}),this._maxKey=pl(u.IDBKeyRange),this._createTransaction=function(D,k,B,O){return new w.Transaction(D,k,B,w._options.chromeTransactionDurability,O)},this._fireOnBlocked=function(D){w.on("blocked").fire(D),Ma.filter(function(k){return k.name===w.name&&k!==w&&!k._state.vcFired}).map(function(k){return k.on("versionchange").fire(D)})},this.use(tc),this.use(Fs),this.use(Eu),this.use(Cu),this.use(ec),new Proxy(this,{get:function(D,k,B){var O;return k==="_vip"||(k==="table"?function(M){return ys(w.table(M),A)}:(O=Reflect.get(D,k,B))instanceof Yi?ys(O,A):k==="tables"?O.map(function(M){return ys(M,A)}):k==="_createTransaction"?function(){return ys(O.apply(this,arguments),A)}:O)}}));this.vip=A,E.forEach(function(D){return D(w)})}var bl,Ka=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",lc=(Ps.prototype.subscribe=function(l,u,f){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:u,complete:f})},Ps.prototype[Ka]=function(){return this},Ps);function Ps(l){this._subscribe=l}try{bl={indexedDB:_.indexedDB||_.mozIndexedDB||_.webkitIndexedDB||_.msIndexedDB,IDBKeyRange:_.IDBKeyRange||_.webkitIDBKeyRange}}catch{bl={indexedDB:null,IDBKeyRange:null}}function sc(l){var u,f=!1,h=new lc(function(y){var v=b(l),x,w=!1,E={},K={},A={get closed(){return w},unsubscribe:function(){w||(w=!0,x&&x.abort(),D&&$t.storagemutated.unsubscribe(B))}},D=(y.start&&y.start(A),!1),k=function(){return fa(O)},B=function(M){Zs(E,M),Wi(K,E)&&k()},O=function(){var M,Q,$;!w&&bl.indexedDB&&(E={},M={},x&&x.abort(),x=new AbortController,$=(X=>{var ae=ca();try{v&&Ut();var oe=Dt(l,X);return oe=v?oe.finally(yn):oe}finally{ae&&Hn()}})(Q={subscr:M,signal:x.signal,requery:k,querier:l,trans:null}),Promise.resolve($).then(function(X){f=!0,u=X,w||Q.signal.aborted||(E={},(ae=>{for(var oe in ae)if(Y(ae,oe))return;return 1})(K=M)||D||($t(ml,B),D=!0),fa(function(){return!w&&y.next&&y.next(X)}))},function(X){f=!1,["DatabaseClosedError","AbortError"].includes(X?.name)||w||fa(function(){w||y.error&&y.error(X)})}))};return setTimeout(k,0),A});return h.hasValue=function(){return f},h.getValue=function(){return u},h}var Xa=Xn;function ar(l){var u=ya;try{ya=!0,$t.storagemutated.fire(l),er(l,!0)}finally{ya=u}}re(Xa,m(m({},R),{delete:function(l){return new Xa(l,{addons:[]}).delete()},exists:function(l){return new Xa(l,{addons:[]}).open().then(function(u){return u.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return u=Xa.dependencies,f=u.indexedDB,u=u.IDBKeyRange,(Qs(f)?Promise.resolve(f.databases()).then(function(h){return h.map(function(y){return y.name}).filter(function(y){return y!==ls})}):Zi(f,u).toCollection().primaryKeys()).then(l)}catch{return bt(new Ue.MissingAPI)}var u,f},defineClass:function(){return function(l){C(this,l)}},ignoreTransaction:function(l){return Ae.trans?En(Ae.transless,l):l()},vip:Ji,async:function(l){return function(){try{var u=hs(l.apply(this,arguments));return u&&typeof u.then=="function"?u:_e.resolve(u)}catch(f){return bt(f)}}},spawn:function(l,u,f){try{var h=hs(l.apply(f,u||[]));return h&&typeof h.then=="function"?h:_e.resolve(h)}catch(y){return bt(y)}},currentTransaction:{get:function(){return Ae.trans||null}},waitFor:function(l,u){return l=_e.resolve(typeof l=="function"?Xa.ignoreTransaction(l):l).timeout(u||6e4),Ae.trans?Ae.trans.waitFor(l):l},Promise:_e,debug:{get:function(){return bn},set:function(l){Gr(l)}},derive:pe,extend:C,props:re,override:N,Events:rs,on:$t,liveQuery:sc,extendObservabilitySet:Zs,getByKeyPath:he,setByKeyPath:ye,delByKeyPath:function(l,u){typeof u=="string"?ye(l,u,void 0):"length"in u&&[].map.call(u,function(f){ye(l,f,void 0)})},shallowClone:Ye,deepClone:Ge,getObjectDiff:Is,cmp:tt,asap:ue,minKey:-1/0,addons:[],connections:Ma,errnames:kt,dependencies:bl,cache:Ya,semVer:"4.3.0",version:"4.3.0".split(".").map(function(l){return parseInt(l)}).reduce(function(l,u,f){return l+u/Math.pow(10,2*f)})})),Xa.maxKey=pl(Xa.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&($t(ml,function(l){ya||(l=new CustomEvent(Ua,{detail:l}),ya=!0,dispatchEvent(l),ya=!1)}),addEventListener(Ua,function(l){l=l.detail,ya||ar(l)}));var wl,ya=!1,mn=function(){};return typeof BroadcastChannel<"u"&&((mn=function(){(wl=new BroadcastChannel(Ua)).onmessage=function(l){return l.data&&ar(l.data)}})(),typeof wl.unref=="function"&&wl.unref(),$t(ml,function(l){ya||wl.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!Xn.disableBfCache&&l.persisted){bn&&console.debug("Dexie: handling persisted pagehide"),wl?.close();for(var u=0,f=Ma;u<f.length;u++)f[u].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!Xn.disableBfCache&&l.persisted&&(bn&&console.debug("Dexie: handling persisted pageshow"),mn(),ar({all:new Wt(-1/0,[[]])}))})),_e.rejectionMapper=function(l,u){return!l||l instanceof ne||l instanceof TypeError||l instanceof SyntaxError||!l.name||!ze[l.name]?l:(u=new ze[l.name](u||l.message,l),"stack"in l&&ce(u,"stack",{get:function(){return this.inner.stack}}),u)},Gr(bn),m(Xn,Object.freeze({__proto__:null,Dexie:Xn,Entity:Vr,PropModification:dl,RangeSet:Wt,add:function(l){return new dl({add:l})},cmp:tt,default:Xn,liveQuery:sc,mergeRanges:Ha,rangesOverlap:Wr,remove:function(l){return new dl({remove:l})},replacePrefix:function(l,u){return new dl({replacePrefix:[l,u]})}}),{default:Xn}),Xn})})(cu)),cu.exports}var Wy=$y();const _f=kp(Wy),rp=Symbol.for("Dexie"),uu=globalThis[rp]||(globalThis[rp]=_f);if(_f.semVer!==uu.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_f.semVer} and ${uu.semVer}`);const{liveQuery:k1,mergeRanges:z1,rangesOverlap:B1,RangeSet:R1,cmp:U1,Entity:q1,PropModification:H1,replacePrefix:Y1,add:L1,remove:K1,DexieYProvider:X1}=uu,Fy=[{code:"chemo",name:"",color:"purple",sortOrder:10,isActive:!0},{code:"rt",name:"",color:"blue",sortOrder:20,isActive:!0},{code:"surgery",name:"",color:"red",sortOrder:30,isActive:!0},{code:"mdt",name:"",color:"orange",sortOrder:40,isActive:!0},{code:"fu",name:"/",color:"teal",sortOrder:50,isActive:!0},{code:"tx_plan_confirm",name:"",color:"indigo",sortOrder:60,isActive:!0},{code:"imaging_plan",name:"",color:"cyan",sortOrder:70,isActive:!0},{code:"peer_review",name:"",color:"amber",sortOrder:80,isActive:!0},{code:"hospital",name:"",color:"pink",sortOrder:90,isActive:!0},{code:"new_dx",name:"",color:"emerald",sortOrder:100,isActive:!0},{code:"first_tx",name:"",color:"violet",sortOrder:110,isActive:!0},{code:"pathology_notify",name:"",color:"lime",sortOrder:120,isActive:!0},{code:"cure_code",name:"",color:"sky",sortOrder:130,isActive:!0},{code:"drug_apply",name:"",color:"rose",sortOrder:140,isActive:!0},{code:"other",name:"",color:"slate",sortOrder:999,isActive:!0}],Py=[{code:"mdt",name:"",color:"orange",sortOrder:10,isActive:!0},{code:"cancer_committee",name:"",color:"red",sortOrder:20,isActive:!0},{code:"center_meeting",name:"",color:"blue",sortOrder:30,isActive:!0},{code:"case_review",name:"",color:"purple",sortOrder:40,isActive:!0},{code:"education",name:"",color:"green",sortOrder:50,isActive:!0},{code:"other_work",name:"",color:"slate",sortOrder:999,isActive:!0}],ev=[{code:"LC",name:"",sortOrder:10},{code:"BC",name:"",sortOrder:20},{code:"CRC",name:"",sortOrder:30},{code:"HNC",name:"",sortOrder:40},{code:"PC",name:"",sortOrder:50},{code:"GC",name:"",sortOrder:60},{code:"HCC",name:"",sortOrder:70},{code:"EC",name:"",sortOrder:80},{code:"CC",name:"",sortOrder:90},{code:"OC",name:"",sortOrder:100},{code:"UEC",name:"",sortOrder:110},{code:"LYM",name:"",sortOrder:120},{code:"BLC",name:"",sortOrder:130}],tv=[{dept:"",physicians:["","",""]},{dept:"",physicians:["","","",""]},{dept:"",physicians:["","","",""]},{dept:"",physicians:[""]},{dept:"",physicians:["",""]},{dept:"",physicians:["",""]},{dept:"",physicians:["",""]},{dept:"",physicians:[""]},{dept:"",physicians:["",""]}],nv=[{name:"",sortOrder:10},{name:"7",sortOrder:20},{name:"7 VIP",sortOrder:30},{name:"8",sortOrder:40},{name:"3E",sortOrder:50},{name:"",sortOrder:60},{name:"8",sortOrder:70}],yu={purple:"bg-purple-100 text-purple-700",blue:"bg-blue-100 text-blue-700",red:"bg-red-100 text-red-700",orange:"bg-orange-100 text-orange-700",teal:"bg-teal-100 text-teal-700",indigo:"bg-indigo-100 text-indigo-700",cyan:"bg-cyan-100 text-cyan-700",amber:"bg-amber-100 text-amber-700",pink:"bg-pink-100 text-pink-700",emerald:"bg-emerald-100 text-emerald-700",violet:"bg-violet-100 text-violet-700",lime:"bg-lime-100 text-lime-700",sky:"bg-sky-100 text-sky-700",rose:"bg-rose-100 text-rose-700",slate:"bg-slate-100 text-slate-700",green:"bg-green-100 text-green-700",yellow:"bg-yellow-100 text-yellow-700"},zf={chemo:"",rt:"",surgery:"",mdt:"",tx_plan_confirm:"",imaging_plan:"",peer_review:"",fu:"/",hospital:"",new_dx:"",first_tx:"",pathology_notify:"",cure_code:"",drug_apply:"",other:""};class av extends uu{patients;events;cancerTypes;physicians;departments;imagingTypes;eventTypes;meetingTypes;meetingLocations;workItems;patientPhysicians;constructor(){super("CaseManagerDB"),this.version(1).stores({patients:"++id, mrn, name, cancerTypeId, status",events:"++id, patientId, eventType, eventDate, dueDate, status, isCompleted",cancerTypes:"++id, code, sortOrder, isActive",physicians:"++id, name, departmentId, isActive",departments:"++id, name, sortOrder, isActive",imagingTypes:"++id, code, sortOrder, isActive",eventTypes:"++id, code, sortOrder, isActive"}),this.version(2).stores({patients:"++id, mrn, name, cancerTypeId, status",events:"++id, patientId, eventType, eventDate, dueDate, status, isCompleted",cancerTypes:"++id, code, sortOrder, isActive",physicians:"++id, name, departmentId, isActive",departments:"++id, name, sortOrder, isActive",imagingTypes:"++id, code, sortOrder, isActive",eventTypes:"++id, code, sortOrder, isActive",patientPhysicians:"++id, patientId, physicianId, [patientId+physicianId]"}),this.version(3).stores({patients:"++id, mrn, name, cancerTypeId, status",events:"++id, patientId, eventType, eventDate, dueDate, status, isCompleted",cancerTypes:"++id, code, sortOrder, isActive",physicians:"++id, name, departmentId, isActive",departments:"++id, name, sortOrder, isActive",imagingTypes:"++id, code, sortOrder, isActive",eventTypes:"++id, code, sortOrder, isActive",meetingTypes:"++id, code, sortOrder, isActive",workItems:"++id, meetingTypeId, scheduledDate, isCompleted",patientPhysicians:"++id, patientId, physicianId, [patientId+physicianId]"}),this.version(4).stores({patients:"++id, mrn, name, cancerTypeId, status",events:"++id, patientId, eventType, eventDate, dueDate, status, isCompleted",cancerTypes:"++id, code, sortOrder, isActive",physicians:"++id, name, departmentId, isActive",departments:"++id, name, sortOrder, isActive",imagingTypes:"++id, code, sortOrder, isActive",eventTypes:"++id, code, sortOrder, isActive",meetingTypes:"++id, code, sortOrder, isActive",meetingLocations:"++id, name, sortOrder, isActive",workItems:"++id, meetingTypeId, scheduledDate, isCompleted",patientPhysicians:"++id, patientId, physicianId, [patientId+physicianId]"})}}const U=new av;async function zp(){const[r,o,d,m,j,_,G]=await Promise.all([U.cancerTypes.count(),U.departments.count(),U.eventTypes.count(),U.meetingTypes.count(),U.meetingLocations.count(),U.imagingTypes.count(),U.physicians.count()]);if(r>0||o>0||d>0||m>0||j>0||_>0||G>0){console.log("[DB] ",{cancerCount:r,deptCount:o,eventTypeCount:d,meetingTypeCount:m,meetingLocationCount:j,imagingCount:_,physicianCount:G});return}console.log("[DB] ..."),await U.transaction("rw",[U.cancerTypes,U.departments,U.physicians,U.imagingTypes,U.eventTypes,U.meetingTypes,U.meetingLocations,U.patients,U.patientPhysicians],async()=>{const C=await U.cancerTypes.bulkAdd(ev.map(ce=>({...ce,isActive:!0})),{allKeys:!0}),T={};let ee=10;for(const ce of tv){const pe=await U.departments.add({name:ce.dept,sortOrder:ee,isActive:!0});for(const Ce of ce.physicians){const be=await U.physicians.add({name:Ce,departmentId:pe,isActive:!0});T[Ce]=be}ee+=10}console.log("[DB] :",T),await U.imagingTypes.bulkAdd([{code:"CT",name:"",sortOrder:10,isActive:!0},{code:"MRI",name:"",sortOrder:20,isActive:!0},{code:"PET",name:"",sortOrder:30,isActive:!0},{code:"XR",name:"X",sortOrder:40,isActive:!0},{code:"ECHO",name:"",sortOrder:50,isActive:!0}]),await U.eventTypes.bulkAdd(Fy),await U.meetingTypes.bulkAdd(Py),await U.meetingLocations.bulkAdd(nv.map(ce=>({...ce,isActive:!0})));const Y=[["",""],["",""],["",""],["","",""],["",""],["",""],["",""],["",""],["",""],["",""]],re=il(),me=[{mrn:"TEST001",name:"A",sex:"M",cancerTypeId:C[0],status:"active"},{mrn:"TEST002",name:"B",sex:"F",cancerTypeId:C[1],status:"active"},{mrn:"TEST003",name:"C",sex:"M",cancerTypeId:C[2],status:"active"},{mrn:"TEST004",name:"D",sex:"F",cancerTypeId:C[3],status:"active"},{mrn:"TEST005",name:"E",sex:"M",cancerTypeId:C[4],status:"active"},{mrn:"TEST006",name:"F",sex:"M",cancerTypeId:C[5],status:"active"},{mrn:"TEST007",name:"G",sex:"F",cancerTypeId:C[6],status:"active"},{mrn:"TEST008",name:"H",sex:"M",cancerTypeId:C[7],status:"active"},{mrn:"TEST009",name:"I",sex:"F",cancerTypeId:C[8],status:"active"},{mrn:"TEST010",name:"J",sex:"F",cancerTypeId:C[9],status:"active"}];for(let ce=0;ce<me.length;ce++){const pe=me[ce],Ce=await U.patients.add({...pe,createdAt:re,updatedAt:re}),be=Y[ce]||[];console.log(`[DB]  ${pe.name} (ID: ${Ce}) :`,be);for(const Ee of be){const N=T[Ee];console.log(`[DB]   - ${Ee} -> physicianId: ${N}`),N&&await U.patientPhysicians.add({patientId:Ce,physicianId:N,role:"primary"})}}}),console.log("[DB]  10 ")}async function lv(){try{await U.open(),console.log("[DB] "),await zp()}catch(r){throw console.error("[DB] :",r),r}}function il(){return new Date().toISOString()}const vu="2.9",Bp="",sv="",iv=[{version:"2.9",date:"2024-12-18",changes:["","",""]},{version:"2.8",date:"2024-12-18",changes:["","","",""]},{version:"2.7",date:"2024-12-18",changes:["","",""]},{version:"2.6",date:"2024-12-18",changes:["","","","","","/"]},{version:"2.5",date:"2024-12-18",changes:["/","","","","",""]},{version:"2.4",date:"2024-12-18",changes:["","","","",""]},{version:"2.3",date:"2024-12-18",changes:["","","","/",""]},{version:"2.2",date:"2024-12-18",changes:["",""," Schema "]},{version:"2.1",date:"2024-12-18",changes:[" 10 ","","",""]},{version:"2.0",date:"2024-12-18",changes:["","",""]},{version:"1.9",date:"2024-12-18",changes:["//","","",""]},{version:"1.8",date:"2024-12-18",changes:["","4","",""]},{version:"1.7",date:"2024-12-18",changes:["","Dashboard ","Dashboard "]},{version:"1.6",date:"2024-12-18",changes:["","Tab","","10",""]},{version:"1.5",date:"2024-12-18",changes:["","",""]},{version:"1.4",date:"2024-12-18",changes:["","CSV"]},{version:"1.3",date:"2024-12-18",changes:[""," Mac ",""]},{version:"1.2",date:"2024-12-18",changes:[" SELA Logo","","/"]},{version:"1.1",date:"2024-12-18",changes:["CRUD","",""]},{version:"1.0",date:"2024-12-18",changes:["","React + TypeScript + Vite ","IndexedDB ","","iOS Web Share "," UI/","Dashboard ","GitHub Actions "]}],Rp="casemanager_backup_records",Bf="casemanager_last_backup";function Rf(){return new Date().toISOString().split("T")[0]}function Uf(){return localStorage.getItem(Bf)}function rv(){const r=Uf();return r?r===Rf():!1}function Up(){const r=localStorage.getItem(Rp);if(!r)return[];try{return JSON.parse(r)}catch{return[]}}function qp(r){const o=Up();o.unshift(r);const d=o.slice(0,30);localStorage.setItem(Rp,JSON.stringify(d))}async function Hp(){const[r,o,d,m,j,_,G,L,C,T,ee]=await Promise.all([U.patients.toArray(),U.events.toArray(),U.cancerTypes.toArray(),U.physicians.toArray(),U.departments.toArray(),U.imagingTypes.toArray(),U.eventTypes.toArray(),U.meetingTypes.toArray(),U.meetingLocations.toArray(),U.workItems.toArray(),U.patientPhysicians.toArray()]);return{exportDate:new Date().toISOString(),version:vu,deviceInfo:`${navigator.userAgent}`,data:{patients:r,events:o,cancerTypes:d,physicians:m,departments:j,imagingTypes:_,eventTypes:G,meetingTypes:L,meetingLocations:C,workItems:T,patientPhysicians:ee}}}async function Yp(){const r=await Hp(),o=JSON.stringify(r,null,2),d=new Blob([o],{type:"application/json"}),j=`case_backup_${new Date().toISOString().replace(/[:.]/g,"").slice(0,15)}.json`,_=URL.createObjectURL(d),G=document.createElement("a");G.href=_,G.download=j,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(_);const L=r.data.patients.length+r.data.events.length;return qp({date:new Date().toISOString(),fileName:j,recordCount:L}),localStorage.setItem(Bf,Rf()),j}function Ei(){return/iPad|iPhone|iPod/.test(navigator.userAgent)}function cv(){return"share"in navigator&&"canShare"in navigator}async function uv(){const r=await Hp(),o=JSON.stringify(r,null,2),m=`case_backup_${new Date().toISOString().replace(/[:.]/g,"").slice(0,15)}.json`,j=new File([o],m,{type:"application/json"});if(navigator.canShare&&navigator.canShare({files:[j]}))try{await navigator.share({title:"",text:`: ${new Date().toLocaleString("zh-TW")}`,files:[j]});const _=r.data.patients.length+r.data.events.length;return qp({date:new Date().toISOString(),fileName:m,recordCount:_}),localStorage.setItem(Bf,Rf()),m}catch(_){throw _.name==="AbortError"?new Error(""):_}else return Yp()}async function qf(){return Ei()&&cv()?uv():Yp()}async function Lp(r){try{const o=await r.text(),d=JSON.parse(o);return!d.version||!d.data?{success:!1,message:""}:(await U.patients.count()>0&&console.log("[Backup] ..."),await U.transaction("rw",[U.patients,U.events,U.cancerTypes,U.physicians,U.departments,U.imagingTypes,U.eventTypes,U.meetingTypes,U.meetingLocations,U.workItems,U.patientPhysicians],async()=>{await U.patients.clear(),await U.events.clear(),await U.cancerTypes.clear(),await U.physicians.clear(),await U.departments.clear(),await U.imagingTypes.clear(),await U.eventTypes.clear(),await U.meetingTypes.clear(),await U.meetingLocations.clear(),await U.workItems.clear(),await U.patientPhysicians.clear(),d.data.patients?.length&&await U.patients.bulkAdd(d.data.patients),d.data.events?.length&&await U.events.bulkAdd(d.data.events),d.data.cancerTypes?.length&&await U.cancerTypes.bulkAdd(d.data.cancerTypes),d.data.physicians?.length&&await U.physicians.bulkAdd(d.data.physicians),d.data.departments?.length&&await U.departments.bulkAdd(d.data.departments),d.data.imagingTypes?.length&&await U.imagingTypes.bulkAdd(d.data.imagingTypes),d.data.eventTypes?.length&&await U.eventTypes.bulkAdd(d.data.eventTypes),d.data.meetingTypes?.length&&await U.meetingTypes.bulkAdd(d.data.meetingTypes),d.data.meetingLocations?.length&&await U.meetingLocations.bulkAdd(d.data.meetingLocations),d.data.workItems?.length&&await U.workItems.bulkAdd(d.data.workItems),d.data.patientPhysicians?.length&&await U.patientPhysicians.bulkAdd(d.data.patientPhysicians)}),{success:!0,message:` ${d.data.patients?.length||0} ${d.data.events?.length||0} `})}catch(o){return console.error("[Backup] :",o),{success:!1,message:`: ${o.message}`}}}async function ov(){const r=await U.patients.count(),o=await U.events.count();return r===0&&o===0}async function fv(){return await U.patients.count()>0}const cp=r=>{let o;const d=new Set,m=(T,ee)=>{const Y=typeof T=="function"?T(o):T;if(!Object.is(Y,o)){const re=o;o=ee??(typeof Y!="object"||Y===null)?Y:Object.assign({},o,Y),d.forEach(me=>me(o,re))}},j=()=>o,L={setState:m,getState:j,getInitialState:()=>C,subscribe:T=>(d.add(T),()=>d.delete(T))},C=o=r(m,j,L);return L},dv=(r=>r?cp(r):cp),mv=r=>r;function hv(r,o=mv){const d=lu.useSyncExternalStore(r.subscribe,lu.useCallback(()=>o(r.getState()),[r,o]),lu.useCallback(()=>o(r.getInitialState()),[r,o]));return lu.useDebugValue(d),d}const up=r=>{const o=dv(r),d=m=>hv(o,m);return Object.assign(d,o),d},Hf=(r=>r?up(r):up),Da=Hf(r=>({needsBackup:!1,lastBackupDate:null,isBackupModalOpen:!1,isDataLossModalOpen:!1,hasUnsavedChanges:!1,setNeedsBackup:o=>r({needsBackup:o}),setLastBackupDate:o=>r({lastBackupDate:o}),openBackupModal:()=>r({isBackupModalOpen:!0}),closeBackupModal:()=>r({isBackupModalOpen:!1}),openDataLossModal:()=>r({isDataLossModalOpen:!0}),closeDataLossModal:()=>r({isDataLossModalOpen:!1}),markDataChanged:()=>r({hasUnsavedChanges:!0}),clearUnsavedChanges:()=>r({hasUnsavedChanges:!1})})),Ai=Hf(r=>({currentPage:"dashboard",selectedPatientId:null,setCurrentPage:o=>r({currentPage:o}),setSelectedPatientId:o=>r({selectedPatientId:o})})),Hr=Hf(r=>({toasts:[],addToast:(o,d)=>{const m=Date.now().toString();r(j=>({toasts:[...j.toasts,{id:m,type:o,message:d}]})),setTimeout(()=>{r(j=>({toasts:j.toasts.filter(_=>_.id!==m)}))},3e3)},removeToast:o=>r(d=>({toasts:d.toasts.filter(m=>m.id!==o)}))})),we={success:r=>Hr.getState().addToast("success",r),error:r=>Hr.getState().addToast("error",r),warning:r=>Hr.getState().addToast("warning",r),info:r=>Hr.getState().addToast("info",r)};const Kp=(...r)=>r.filter((o,d,m)=>!!o&&o.trim()!==""&&m.indexOf(o)===d).join(" ").trim();const pv=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const yv=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,d,m)=>m?m.toUpperCase():d.toLowerCase());const op=r=>{const o=yv(r);return o.charAt(0).toUpperCase()+o.slice(1)};var vv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gv=r=>{for(const o in r)if(o.startsWith("aria-")||o==="role"||o==="title")return!0;return!1};const xv=q.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:d=2,absoluteStrokeWidth:m,className:j="",children:_,iconNode:G,...L},C)=>q.createElement("svg",{ref:C,...vv,width:o,height:o,stroke:r,strokeWidth:m?Number(d)*24/Number(o):d,className:Kp("lucide",j),...!_&&!gv(L)&&{"aria-hidden":"true"},...L},[...G.map(([T,ee])=>q.createElement(T,ee)),...Array.isArray(_)?_:[_]]));const et=(r,o)=>{const d=q.forwardRef(({className:m,...j},_)=>q.createElement(xv,{ref:_,iconNode:o,className:Kp(`lucide-${pv(op(r))}`,`lucide-${r}`,m),...j}));return d.displayName=op(r),d};const bv=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],wv=et("activity",bv);const jv=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Nv=et("arrow-up-down",jv);const Sv=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],As=et("briefcase",Sv);const Tv=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Xp=et("building-2",Tv);const _v=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Gp=et("calendar-days",_v);const Dv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zl=et("calendar",Dv);const Cv=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ev=et("chart-column",Cv);const Av=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],fp=et("chart-pie",Av);const Ov=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rn=et("check",Ov);const Mv=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Oi=et("chevron-down",Mv);const kv=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Qp=et("chevron-left",kv);const zv=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Lr=et("chevron-right",zv);const Bv=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],gu=et("chevron-up",Bv);const Rv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Vl=et("circle-check-big",Rv);const Uv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qv=et("circle-x",Uv);const Hv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],Vp=et("clock",Hv);const Yv=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Df=et("database",Yv);const Lv=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ou=et("download",Lv);const Kv=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],xu=et("ellipsis-vertical",Kv);const Xv=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Gv=et("ellipsis",Xv);const Qv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Vv=et("file-text",Qv);const Zv=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Jv=et("funnel",Zv);const Iv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$v=et("image",Iv);const Wv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Fv=et("info",Wv);const Pv=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],fu=et("layout-dashboard",Pv);const eg=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Zp=et("list",eg);const tg=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Yf=et("map-pin",tg);const ng=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Jp=et("phone",ng);const ag=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],la=et("plus",ag);const lg=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],sg=et("refresh-cw",lg);const ig=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rg=et("search",ig);const cg=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ug=et("settings",cg);const og=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Ip=et("share-2",og);const fg=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Wn=et("square-pen",fg);const dg=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],Yr=et("stethoscope",dg);const mg=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qn=et("trash-2",mg);const hg=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ta=et("triangle-alert",hg);const pg=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Cf=et("upload",pg);const yg=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Lf=et("user",yg);const vg=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Kf=et("users",vg);const gg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Lt=et("x",gg);function dp({onComplete:r,isDataLoss:o=!1}){const[d,m]=q.useState(!1),[j,_]=q.useState(!1),[G,L]=q.useState(!1),C=q.useRef(null),{closeBackupModal:T,closeDataLossModal:ee,setNeedsBackup:Y,setLastBackupDate:re}=Da(),me=async()=>{m(!0);try{const be=await qf();_(!0),we.success(`${be}`),Y(!1),re(new Date().toISOString().split("T")[0])}catch(be){we.error(`${be.message}`)}finally{m(!1)}},ce=async be=>{const Ee=be.target.files?.[0];if(Ee){L(!0);try{const N=await Lp(Ee);N.success?(we.success(N.message),r(),o&&ee()):we.error(N.message)}catch(N){we.error(`${N.message}`)}finally{L(!1),C.current&&(C.current.value="")}}},pe=()=>{T(),r()},Ce=()=>{ee(),r()};return o?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:s.jsx(Ta,{className:"w-6 h-6 text-red-600"})}),s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""})]}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-red-800 text-sm",children:"iOS  7 "})}),s.jsx("p",{className:"text-slate-600 mb-6",children:""}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>C.current?.click(),disabled:G,className:"w-full btn-primary flex items-center justify-center gap-2",children:[s.jsx(Cf,{className:"w-5 h-5"}),G?"...":""]}),s.jsx("button",{onClick:Ce,className:"w-full btn-secondary",children:""})]}),s.jsx("input",{ref:C,type:"file",accept:".json",onChange:ce,className:"hidden"}),s.jsx("p",{className:"text-xs text-slate-500 mt-4 text-center",children:" iCloudGoogle Drive"})]})}):s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-amber-100 rounded-full",children:s.jsx(Ta,{className:"w-6 h-6 text-amber-600"})}),s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""})]}),s.jsx("p",{className:"text-slate-600 mb-2",children:""}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-6",children:s.jsx("p",{className:"text-amber-800 text-sm",children:"  "})}),j?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx(Vl,{className:"w-6 h-6 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-800",children:""}),s.jsx("p",{className:"text-sm text-green-600",children:""})]})]}),s.jsx("button",{onClick:pe,className:"w-full btn-primary",children:""})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:me,disabled:d,className:"w-full btn-primary flex items-center justify-center gap-2",children:[Ei()?s.jsx(Ip,{className:"w-5 h-5"}):s.jsx(ou,{className:"w-5 h-5"}),d?"...":Ei()?" Files":""]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-slate-200"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-slate-500",children:""})})]}),s.jsxs("button",{onClick:()=>C.current?.click(),disabled:G,className:"w-full btn-secondary flex items-center justify-center gap-2",children:[s.jsx(Cf,{className:"w-5 h-5"}),G?"...":""]})]}),s.jsx("input",{ref:C,type:"file",accept:".json",onChange:ce,className:"hidden"}),s.jsx("p",{className:"text-xs text-slate-500 mt-4 text-center",children:"iCloudGoogle Drive"})]})})}const xg={success:Vl,error:qv,warning:Ta,info:Fv},bg={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-amber-50 border-amber-200 text-amber-800",info:"bg-blue-50 border-blue-200 text-blue-800"},wg={success:"text-green-600",error:"text-red-600",warning:"text-amber-600",info:"text-blue-600"};function jg(){const{toasts:r,removeToast:o}=Hr();return r.length===0?null:s.jsxs("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm w-full pointer-events-none",children:[r.map(d=>{const m=xg[d.type];return s.jsxs("div",{className:`
              pointer-events-auto
              flex items-center gap-3 p-4 rounded-lg border shadow-lg
              animate-slide-in
              ${bg[d.type]}
            `,children:[s.jsx(m,{className:`w-5 h-5 flex-shrink-0 ${wg[d.type]}`}),s.jsx("p",{className:"flex-1 text-sm font-medium",children:d.message}),s.jsx("button",{onClick:()=>o(d.id),className:"flex-shrink-0 p-1 hover:bg-black/5 rounded",children:s.jsx(Lt,{className:"w-4 h-4"})})]},d.id)}),s.jsx("style",{children:`
        @keyframes slide-in {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
      `})]})}const Ng=[{id:"dashboard",label:"",icon:fu},{id:"patients",label:"",icon:Kf},{id:"events",label:"",icon:Zl},{id:"work",label:"",icon:As}],mp=[{id:"masterdata",label:"",icon:fu},{id:"tools",label:"",icon:fu}];function Sg(){const{currentPage:r,setCurrentPage:o}=Ai(),[d,m]=q.useState(!1),j=mp.some(_=>_.id===r);return s.jsxs(s.Fragment,{children:[s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 md:hidden z-40",children:s.jsxs("div",{className:"flex justify-around items-center h-14 safe-area-bottom",children:[Ng.map(_=>{const G=_.icon,L=r===_.id;return s.jsxs("button",{onClick:()=>o(_.id),className:`flex flex-col items-center justify-center flex-1 h-full min-w-0 px-1 active:bg-slate-100 transition-colors duration-150 ${L?"text-primary-500":"text-slate-400"}`,children:[s.jsx(G,{className:`w-5 h-5 ${L?"stroke-2":""}`}),s.jsx("span",{className:`text-[10px] mt-0.5 truncate ${L?"font-medium":""}`,children:_.label})]},_.id)}),s.jsxs("button",{onClick:()=>m(!d),className:`flex flex-col items-center justify-center flex-1 h-full min-w-0 px-1 active:bg-slate-100 transition-colors duration-150 ${j?"text-primary-500":"text-slate-400"}`,children:[s.jsx(Gv,{className:`w-5 h-5 ${j?"stroke-2":""}`}),s.jsx("span",{className:`text-[10px] mt-0.5 truncate ${j?"font-medium":""}`,children:""})]})]})}),d&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>m(!1)}),s.jsx("div",{className:"fixed bottom-16 right-4 bg-white rounded-lg shadow-lg border z-40 py-2 min-w-[140px]",children:mp.map(_=>s.jsx("button",{onClick:()=>{o(_.id),m(!1)},className:`w-full px-4 py-3 text-left hover:bg-slate-50 ${r===_.id?"text-primary-500 font-medium":"text-slate-700"}`,children:_.label},_.id))})]})]})}const $p="/Patient-follow/assets/logo-o9u08eVb.jpg",Tg=[{id:"dashboard",label:"",icon:fu},{id:"patients",label:"",icon:Kf},{id:"events",label:"",icon:Zl},{id:"work",label:"",icon:As},{id:"masterdata",label:"",icon:Df},{id:"tools",label:"",icon:ug}];function _g(){const{currentPage:r,setCurrentPage:o}=Ai(),[d,m]=q.useState(!1);return s.jsxs("aside",{className:`
        hidden md:flex flex-col
        bg-slate-800 text-white
        transition-all duration-300
        ${d?"w-16":"w-56"}
      `,children:[s.jsxs("div",{className:"flex items-center h-20 px-3 border-b border-slate-700",children:[s.jsx("img",{src:$p,alt:"Logo",className:"w-10 h-10 rounded-lg flex-shrink-0"}),!d&&s.jsxs("div",{className:"ml-2 flex-1 min-w-0",children:[s.jsx("h1",{className:"font-bold text-sm text-primary-400 truncate",children:Bp}),s.jsx("p",{className:"text-xs text-slate-400 truncate",children:sv}),s.jsxs("p",{className:"text-xs text-slate-500",children:["V",vu]})]}),!d&&s.jsx("button",{onClick:()=>m(!d),className:"p-1.5 hover:bg-slate-700 rounded-lg ml-1",title:"",children:s.jsx(Qp,{className:"w-4 h-4"})}),d&&s.jsx("button",{onClick:()=>m(!1),className:"p-1.5 hover:bg-slate-700 rounded-lg ml-auto",title:"",children:s.jsx(Lr,{className:"w-4 h-4"})})]}),s.jsx("nav",{className:"flex-1 py-4",children:Tg.map(j=>{const _=j.icon,G=r===j.id;return s.jsxs("button",{onClick:()=>o(j.id),className:`
                w-full flex items-center gap-3 px-4 py-3
                transition-colors duration-200
                ${G?"bg-primary-500 text-white":"text-slate-300 hover:bg-slate-700 hover:text-white"}
              `,children:[s.jsx(_,{className:"w-5 h-5 flex-shrink-0"}),!d&&s.jsx("span",{className:"font-medium",children:j.label})]},j.id)})}),!d&&s.jsx("div",{className:"p-4 border-t border-slate-700",children:s.jsx("p",{className:"text-xs text-slate-500 text-center",children:" 2024 SELA"})})]})}async function Mi(r){let o=await U.events.toArray();if(r?.patientId&&(o=o.filter(d=>d.patientId===r.patientId)),r?.eventType&&(o=o.filter(d=>d.eventType===r.eventType)),r?.status&&r.status!=="all"&&(o=o.filter(d=>d.status===r.status)),r?.isCompleted!==void 0&&(o=o.filter(d=>d.isCompleted===r.isCompleted)),r?.dueDateFrom&&(o=o.filter(d=>d.dueDate&&d.dueDate>=r.dueDateFrom)),r?.dueDateTo&&(o=o.filter(d=>d.dueDate&&d.dueDate<=r.dueDateTo)),r?.isCompleted===!1){const d=new Set((await U.patients.where("status").equals("deceased").toArray()).map(m=>m.id));o=o.filter(m=>!d.has(m.patientId))}return o.sort((d,m)=>(d.dueDate||"").localeCompare(m.dueDate||"")),o}async function Wp(r){const o=il();return await U.events.add({patientId:r.patientId,eventType:r.eventType,title:r.title||zf[r.eventType]||"",eventDate:r.eventDate||o.split("T")[0],dueDate:r.dueDate,status:"pending",note:r.note||"",isCompleted:!1,mainPhysicianId:r.mainPhysicianId,fieldsJson:r.fieldsJson||{},createdAt:o,updatedAt:o})}async function Dg(r,o){return await U.events.update(r,{...o,updatedAt:il()})>0}async function Fp(r){return await U.events.delete(r),!0}async function Pp(r){const o=await U.events.get(r);return o?(await U.events.update(r,{isCompleted:!o.isCompleted,status:o.isCompleted?"pending":"done",updatedAt:il()}),!0):!1}async function hp(){const r=new Date().toISOString().split("T")[0];return Mi({dueDateFrom:r,dueDateTo:r,isCompleted:!1})}async function Ef(){const r=new Date().toISOString().split("T")[0];return(await Mi({isCompleted:!1})).filter(d=>d.dueDate&&d.dueDate<r)}async function Cg(){return(await Mi({isCompleted:!0})).sort((o,d)=>(d.dueDate||d.eventDate||"").localeCompare(o.dueDate||o.eventDate||""))}async function pp(){const r=new Date;r.setDate(r.getDate()+1);const o=r.toISOString().split("T")[0];return Mi({dueDateFrom:o,dueDateTo:o,isCompleted:!1})}async function yp(){const r=new Date,o=new Date(r);o.setDate(o.getDate()+7);const d=r.toISOString().split("T")[0],m=o.toISOString().split("T")[0];return Mi({dueDateFrom:d,dueDateTo:m,isCompleted:!1})}async function Eg(r){const o=[],d=new Date(r.startDate),m=1,j=r.cycleCount+1;for(let _=m;_<j;_++){const G=new Date(d);G.setDate(G.getDate()+_*r.intervalDays);const L=G.toISOString().split("T")[0],C=await Wp({patientId:r.patientId,eventType:"chemo",title:` C${_+1} - ${r.regimen}`,eventDate:L,dueDate:L,mainPhysicianId:r.mainPhysicianId,note:r.note,fieldsJson:{regimen:r.regimen,cycle:_+1,totalCycles:j}});o.push(C)}return o}async function e0(r){let o=await U.workItems.toArray();return r?.meetingTypeId&&(o=o.filter(d=>d.meetingTypeId===r.meetingTypeId)),r?.isCompleted!==void 0&&(o=o.filter(d=>d.isCompleted===r.isCompleted)),r?.startDate&&(o=o.filter(d=>d.scheduledDate>=r.startDate)),r?.endDate&&(o=o.filter(d=>d.scheduledDate<=r.endDate)),o.sort((d,m)=>d.scheduledDate.localeCompare(m.scheduledDate))}async function Ag(r){const o=il();return U.workItems.add({...r,isCompleted:!1,createdAt:o,updatedAt:o})}async function Og(r,o){return await U.workItems.update(r,{...o,updatedAt:il()})>0}async function Mg(r){return await U.workItems.delete(r),!0}async function kg(r){const o=await U.workItems.get(r);return o?(await U.workItems.update(r,{isCompleted:!o.isCompleted,updatedAt:il()}),!0):!1}async function zg(){const r=new Date,o=new Date(r);return o.setDate(r.getDate()+7),e0({startDate:r.toISOString().split("T")[0],endDate:o.toISOString().split("T")[0],isCompleted:!1})}const t0=6048e5,Bg=864e5,n0=6e4,a0=36e5,vp=Symbol.for("constructDateFrom");function xn(r,o){return typeof r=="function"?r(o):r&&typeof r=="object"&&vp in r?r[vp](o):r instanceof Date?new r.constructor(o):new Date(o)}function Jt(r,o){return xn(o||r,r)}function l0(r,o,d){const m=Jt(r,d?.in);return isNaN(o)?xn(r,NaN):(o&&m.setDate(m.getDate()+o),m)}function Xf(r,o,d){const m=Jt(r,d?.in);if(isNaN(o))return xn(r,NaN);if(!o)return m;const j=m.getDate(),_=xn(r,m.getTime());_.setMonth(m.getMonth()+o+1,0);const G=_.getDate();return j>=G?_:(m.setFullYear(_.getFullYear(),_.getMonth(),j),m)}let Rg={};function bu(){return Rg}function Kr(r,o){const d=bu(),m=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??d.weekStartsOn??d.locale?.options?.weekStartsOn??0,j=Jt(r,o?.in),_=j.getDay(),G=(_<m?7:0)+_-m;return j.setDate(j.getDate()-G),j.setHours(0,0,0,0),j}function du(r,o){return Kr(r,{...o,weekStartsOn:1})}function s0(r,o){const d=Jt(r,o?.in),m=d.getFullYear(),j=xn(d,0);j.setFullYear(m+1,0,4),j.setHours(0,0,0,0);const _=du(j),G=xn(d,0);G.setFullYear(m,0,4),G.setHours(0,0,0,0);const L=du(G);return d.getTime()>=_.getTime()?m+1:d.getTime()>=L.getTime()?m:m-1}function gp(r){const o=Jt(r),d=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));return d.setUTCFullYear(o.getFullYear()),+r-+d}function Gf(r,...o){const d=xn.bind(null,o.find(m=>typeof m=="object"));return o.map(d)}function mu(r,o){const d=Jt(r,o?.in);return d.setHours(0,0,0,0),d}function Ug(r,o,d){const[m,j]=Gf(d?.in,r,o),_=mu(m),G=mu(j),L=+_-gp(_),C=+G-gp(G);return Math.round((L-C)/Bg)}function qg(r,o){const d=s0(r,o),m=xn(r,0);return m.setFullYear(d,0,4),m.setHours(0,0,0,0),du(m)}function i0(r){return xn(r,Date.now())}function r0(r,o,d){const[m,j]=Gf(d?.in,r,o);return+mu(m)==+mu(j)}function Hg(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Yg(r){return!(!Hg(r)&&typeof r!="number"||isNaN(+Jt(r)))}function c0(r,o){const d=Jt(r,o?.in),m=d.getMonth();return d.setFullYear(d.getFullYear(),m+1,0),d.setHours(23,59,59,999),d}function Lg(r,o){const[d,m]=Gf(r,o.start,o.end);return{start:d,end:m}}function u0(r,o){const{start:d,end:m}=Lg(o?.in,r);let j=+d>+m;const _=j?+d:+m,G=j?m:d;G.setHours(0,0,0,0);let L=1;const C=[];for(;+G<=_;)C.push(xn(d,G)),G.setDate(G.getDate()+L),G.setHours(0,0,0,0);return j?C.reverse():C}function o0(r,o){const d=Jt(r,o?.in);return d.setDate(1),d.setHours(0,0,0,0),d}function Kg(r,o){const d=Jt(r,o?.in);return d.setFullYear(d.getFullYear(),0,1),d.setHours(0,0,0,0),d}const Xg={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Gg=(r,o,d)=>{let m;const j=Xg[r];return typeof j=="string"?m=j:o===1?m=j.one:m=j.other.replace("{{count}}",o.toString()),d?.addSuffix?d.comparison&&d.comparison>0?"in "+m:m+" ago":m};function Ci(r){return(o={})=>{const d=o.width?String(o.width):r.defaultWidth;return r.formats[d]||r.formats[r.defaultWidth]}}const Qg={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Vg={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Zg={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Jg={date:Ci({formats:Qg,defaultWidth:"full"}),time:Ci({formats:Vg,defaultWidth:"full"}),dateTime:Ci({formats:Zg,defaultWidth:"full"})},Ig={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$g=(r,o,d,m)=>Ig[r];function ja(r){return(o,d)=>{const m=d?.context?String(d.context):"standalone";let j;if(m==="formatting"&&r.formattingValues){const G=r.defaultFormattingWidth||r.defaultWidth,L=d?.width?String(d.width):G;j=r.formattingValues[L]||r.formattingValues[G]}else{const G=r.defaultWidth,L=d?.width?String(d.width):r.defaultWidth;j=r.values[L]||r.values[G]}const _=r.argumentCallback?r.argumentCallback(o):o;return j[_]}}const Wg={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Fg={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Pg={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ex={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ax=(r,o)=>{const d=Number(r),m=d%100;if(m>20||m<10)switch(m%10){case 1:return d+"st";case 2:return d+"nd";case 3:return d+"rd"}return d+"th"},lx={ordinalNumber:ax,era:ja({values:Wg,defaultWidth:"wide"}),quarter:ja({values:Fg,defaultWidth:"wide",argumentCallback:r=>r-1}),month:ja({values:Pg,defaultWidth:"wide"}),day:ja({values:ex,defaultWidth:"wide"}),dayPeriod:ja({values:tx,defaultWidth:"wide",formattingValues:nx,defaultFormattingWidth:"wide"})};function Na(r){return(o,d={})=>{const m=d.width,j=m&&r.matchPatterns[m]||r.matchPatterns[r.defaultMatchWidth],_=o.match(j);if(!_)return null;const G=_[0],L=m&&r.parsePatterns[m]||r.parsePatterns[r.defaultParseWidth],C=Array.isArray(L)?ix(L,Y=>Y.test(G)):sx(L,Y=>Y.test(G));let T;T=r.valueCallback?r.valueCallback(C):C,T=d.valueCallback?d.valueCallback(T):T;const ee=o.slice(G.length);return{value:T,rest:ee}}}function sx(r,o){for(const d in r)if(Object.prototype.hasOwnProperty.call(r,d)&&o(r[d]))return d}function ix(r,o){for(let d=0;d<r.length;d++)if(o(r[d]))return d}function f0(r){return(o,d={})=>{const m=o.match(r.matchPattern);if(!m)return null;const j=m[0],_=o.match(r.parsePattern);if(!_)return null;let G=r.valueCallback?r.valueCallback(_[0]):_[0];G=d.valueCallback?d.valueCallback(G):G;const L=o.slice(j.length);return{value:G,rest:L}}}const rx=/^(\d+)(th|st|nd|rd)?/i,cx=/\d+/i,ux={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ox={any:[/^b/i,/^(a|c)/i]},fx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dx={any:[/1/i,/2/i,/3/i,/4/i]},mx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},px={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xx={ordinalNumber:f0({matchPattern:rx,parsePattern:cx,valueCallback:r=>parseInt(r,10)}),era:Na({matchPatterns:ux,defaultMatchWidth:"wide",parsePatterns:ox,defaultParseWidth:"any"}),quarter:Na({matchPatterns:fx,defaultMatchWidth:"wide",parsePatterns:dx,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Na({matchPatterns:mx,defaultMatchWidth:"wide",parsePatterns:hx,defaultParseWidth:"any"}),day:Na({matchPatterns:px,defaultMatchWidth:"wide",parsePatterns:yx,defaultParseWidth:"any"}),dayPeriod:Na({matchPatterns:vx,defaultMatchWidth:"any",parsePatterns:gx,defaultParseWidth:"any"})},bx={code:"en-US",formatDistance:Gg,formatLong:Jg,formatRelative:$g,localize:lx,match:xx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wx(r,o){const d=Jt(r,o?.in);return Ug(d,Kg(d))+1}function jx(r,o){const d=Jt(r,o?.in),m=+du(d)-+qg(d);return Math.round(m/t0)+1}function d0(r,o){const d=Jt(r,o?.in),m=d.getFullYear(),j=bu(),_=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??j.firstWeekContainsDate??j.locale?.options?.firstWeekContainsDate??1,G=xn(o?.in||r,0);G.setFullYear(m+1,0,_),G.setHours(0,0,0,0);const L=Kr(G,o),C=xn(o?.in||r,0);C.setFullYear(m,0,_),C.setHours(0,0,0,0);const T=Kr(C,o);return+d>=+L?m+1:+d>=+T?m:m-1}function Nx(r,o){const d=bu(),m=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??d.firstWeekContainsDate??d.locale?.options?.firstWeekContainsDate??1,j=d0(r,o),_=xn(o?.in||r,0);return _.setFullYear(j,0,m),_.setHours(0,0,0,0),Kr(_,o)}function Sx(r,o){const d=Jt(r,o?.in),m=+Kr(d,o)-+Nx(d,o);return Math.round(m/t0)+1}function xt(r,o){const d=r<0?"-":"",m=Math.abs(r).toString().padStart(o,"0");return d+m}const Ql={y(r,o){const d=r.getFullYear(),m=d>0?d:1-d;return xt(o==="yy"?m%100:m,o.length)},M(r,o){const d=r.getMonth();return o==="M"?String(d+1):xt(d+1,2)},d(r,o){return xt(r.getDate(),o.length)},a(r,o){const d=r.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return d.toUpperCase();case"aaa":return d;case"aaaaa":return d[0];default:return d==="am"?"a.m.":"p.m."}},h(r,o){return xt(r.getHours()%12||12,o.length)},H(r,o){return xt(r.getHours(),o.length)},m(r,o){return xt(r.getMinutes(),o.length)},s(r,o){return xt(r.getSeconds(),o.length)},S(r,o){const d=o.length,m=r.getMilliseconds(),j=Math.trunc(m*Math.pow(10,d-3));return xt(j,o.length)}},Ti={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xp={G:function(r,o,d){const m=r.getFullYear()>0?1:0;switch(o){case"G":case"GG":case"GGG":return d.era(m,{width:"abbreviated"});case"GGGGG":return d.era(m,{width:"narrow"});default:return d.era(m,{width:"wide"})}},y:function(r,o,d){if(o==="yo"){const m=r.getFullYear(),j=m>0?m:1-m;return d.ordinalNumber(j,{unit:"year"})}return Ql.y(r,o)},Y:function(r,o,d,m){const j=d0(r,m),_=j>0?j:1-j;if(o==="YY"){const G=_%100;return xt(G,2)}return o==="Yo"?d.ordinalNumber(_,{unit:"year"}):xt(_,o.length)},R:function(r,o){const d=s0(r);return xt(d,o.length)},u:function(r,o){const d=r.getFullYear();return xt(d,o.length)},Q:function(r,o,d){const m=Math.ceil((r.getMonth()+1)/3);switch(o){case"Q":return String(m);case"QQ":return xt(m,2);case"Qo":return d.ordinalNumber(m,{unit:"quarter"});case"QQQ":return d.quarter(m,{width:"abbreviated",context:"formatting"});case"QQQQQ":return d.quarter(m,{width:"narrow",context:"formatting"});default:return d.quarter(m,{width:"wide",context:"formatting"})}},q:function(r,o,d){const m=Math.ceil((r.getMonth()+1)/3);switch(o){case"q":return String(m);case"qq":return xt(m,2);case"qo":return d.ordinalNumber(m,{unit:"quarter"});case"qqq":return d.quarter(m,{width:"abbreviated",context:"standalone"});case"qqqqq":return d.quarter(m,{width:"narrow",context:"standalone"});default:return d.quarter(m,{width:"wide",context:"standalone"})}},M:function(r,o,d){const m=r.getMonth();switch(o){case"M":case"MM":return Ql.M(r,o);case"Mo":return d.ordinalNumber(m+1,{unit:"month"});case"MMM":return d.month(m,{width:"abbreviated",context:"formatting"});case"MMMMM":return d.month(m,{width:"narrow",context:"formatting"});default:return d.month(m,{width:"wide",context:"formatting"})}},L:function(r,o,d){const m=r.getMonth();switch(o){case"L":return String(m+1);case"LL":return xt(m+1,2);case"Lo":return d.ordinalNumber(m+1,{unit:"month"});case"LLL":return d.month(m,{width:"abbreviated",context:"standalone"});case"LLLLL":return d.month(m,{width:"narrow",context:"standalone"});default:return d.month(m,{width:"wide",context:"standalone"})}},w:function(r,o,d,m){const j=Sx(r,m);return o==="wo"?d.ordinalNumber(j,{unit:"week"}):xt(j,o.length)},I:function(r,o,d){const m=jx(r);return o==="Io"?d.ordinalNumber(m,{unit:"week"}):xt(m,o.length)},d:function(r,o,d){return o==="do"?d.ordinalNumber(r.getDate(),{unit:"date"}):Ql.d(r,o)},D:function(r,o,d){const m=wx(r);return o==="Do"?d.ordinalNumber(m,{unit:"dayOfYear"}):xt(m,o.length)},E:function(r,o,d){const m=r.getDay();switch(o){case"E":case"EE":case"EEE":return d.day(m,{width:"abbreviated",context:"formatting"});case"EEEEE":return d.day(m,{width:"narrow",context:"formatting"});case"EEEEEE":return d.day(m,{width:"short",context:"formatting"});default:return d.day(m,{width:"wide",context:"formatting"})}},e:function(r,o,d,m){const j=r.getDay(),_=(j-m.weekStartsOn+8)%7||7;switch(o){case"e":return String(_);case"ee":return xt(_,2);case"eo":return d.ordinalNumber(_,{unit:"day"});case"eee":return d.day(j,{width:"abbreviated",context:"formatting"});case"eeeee":return d.day(j,{width:"narrow",context:"formatting"});case"eeeeee":return d.day(j,{width:"short",context:"formatting"});default:return d.day(j,{width:"wide",context:"formatting"})}},c:function(r,o,d,m){const j=r.getDay(),_=(j-m.weekStartsOn+8)%7||7;switch(o){case"c":return String(_);case"cc":return xt(_,o.length);case"co":return d.ordinalNumber(_,{unit:"day"});case"ccc":return d.day(j,{width:"abbreviated",context:"standalone"});case"ccccc":return d.day(j,{width:"narrow",context:"standalone"});case"cccccc":return d.day(j,{width:"short",context:"standalone"});default:return d.day(j,{width:"wide",context:"standalone"})}},i:function(r,o,d){const m=r.getDay(),j=m===0?7:m;switch(o){case"i":return String(j);case"ii":return xt(j,o.length);case"io":return d.ordinalNumber(j,{unit:"day"});case"iii":return d.day(m,{width:"abbreviated",context:"formatting"});case"iiiii":return d.day(m,{width:"narrow",context:"formatting"});case"iiiiii":return d.day(m,{width:"short",context:"formatting"});default:return d.day(m,{width:"wide",context:"formatting"})}},a:function(r,o,d){const j=r.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return d.dayPeriod(j,{width:"abbreviated",context:"formatting"});case"aaa":return d.dayPeriod(j,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return d.dayPeriod(j,{width:"narrow",context:"formatting"});default:return d.dayPeriod(j,{width:"wide",context:"formatting"})}},b:function(r,o,d){const m=r.getHours();let j;switch(m===12?j=Ti.noon:m===0?j=Ti.midnight:j=m/12>=1?"pm":"am",o){case"b":case"bb":return d.dayPeriod(j,{width:"abbreviated",context:"formatting"});case"bbb":return d.dayPeriod(j,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return d.dayPeriod(j,{width:"narrow",context:"formatting"});default:return d.dayPeriod(j,{width:"wide",context:"formatting"})}},B:function(r,o,d){const m=r.getHours();let j;switch(m>=17?j=Ti.evening:m>=12?j=Ti.afternoon:m>=4?j=Ti.morning:j=Ti.night,o){case"B":case"BB":case"BBB":return d.dayPeriod(j,{width:"abbreviated",context:"formatting"});case"BBBBB":return d.dayPeriod(j,{width:"narrow",context:"formatting"});default:return d.dayPeriod(j,{width:"wide",context:"formatting"})}},h:function(r,o,d){if(o==="ho"){let m=r.getHours()%12;return m===0&&(m=12),d.ordinalNumber(m,{unit:"hour"})}return Ql.h(r,o)},H:function(r,o,d){return o==="Ho"?d.ordinalNumber(r.getHours(),{unit:"hour"}):Ql.H(r,o)},K:function(r,o,d){const m=r.getHours()%12;return o==="Ko"?d.ordinalNumber(m,{unit:"hour"}):xt(m,o.length)},k:function(r,o,d){let m=r.getHours();return m===0&&(m=24),o==="ko"?d.ordinalNumber(m,{unit:"hour"}):xt(m,o.length)},m:function(r,o,d){return o==="mo"?d.ordinalNumber(r.getMinutes(),{unit:"minute"}):Ql.m(r,o)},s:function(r,o,d){return o==="so"?d.ordinalNumber(r.getSeconds(),{unit:"second"}):Ql.s(r,o)},S:function(r,o){return Ql.S(r,o)},X:function(r,o,d){const m=r.getTimezoneOffset();if(m===0)return"Z";switch(o){case"X":return wp(m);case"XXXX":case"XX":return Es(m);default:return Es(m,":")}},x:function(r,o,d){const m=r.getTimezoneOffset();switch(o){case"x":return wp(m);case"xxxx":case"xx":return Es(m);default:return Es(m,":")}},O:function(r,o,d){const m=r.getTimezoneOffset();switch(o){case"O":case"OO":case"OOO":return"GMT"+bp(m,":");default:return"GMT"+Es(m,":")}},z:function(r,o,d){const m=r.getTimezoneOffset();switch(o){case"z":case"zz":case"zzz":return"GMT"+bp(m,":");default:return"GMT"+Es(m,":")}},t:function(r,o,d){const m=Math.trunc(+r/1e3);return xt(m,o.length)},T:function(r,o,d){return xt(+r,o.length)}};function bp(r,o=""){const d=r>0?"-":"+",m=Math.abs(r),j=Math.trunc(m/60),_=m%60;return _===0?d+String(j):d+String(j)+o+xt(_,2)}function wp(r,o){return r%60===0?(r>0?"-":"+")+xt(Math.abs(r)/60,2):Es(r,o)}function Es(r,o=""){const d=r>0?"-":"+",m=Math.abs(r),j=xt(Math.trunc(m/60),2),_=xt(m%60,2);return d+j+o+_}const jp=(r,o)=>{switch(r){case"P":return o.date({width:"short"});case"PP":return o.date({width:"medium"});case"PPP":return o.date({width:"long"});default:return o.date({width:"full"})}},m0=(r,o)=>{switch(r){case"p":return o.time({width:"short"});case"pp":return o.time({width:"medium"});case"ppp":return o.time({width:"long"});default:return o.time({width:"full"})}},Tx=(r,o)=>{const d=r.match(/(P+)(p+)?/)||[],m=d[1],j=d[2];if(!j)return jp(r,o);let _;switch(m){case"P":_=o.dateTime({width:"short"});break;case"PP":_=o.dateTime({width:"medium"});break;case"PPP":_=o.dateTime({width:"long"});break;default:_=o.dateTime({width:"full"});break}return _.replace("{{date}}",jp(m,o)).replace("{{time}}",m0(j,o))},_x={p:m0,P:Tx},Dx=/^D+$/,Cx=/^Y+$/,Ex=["D","DD","YY","YYYY"];function Ax(r){return Dx.test(r)}function Ox(r){return Cx.test(r)}function Mx(r,o,d){const m=kx(r,o,d);if(console.warn(m),Ex.includes(r))throw new RangeError(m)}function kx(r,o,d){const m=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${o}\`) for formatting ${m} to the input \`${d}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rx=/^'([^]*?)'?$/,Ux=/''/g,qx=/[a-zA-Z]/;function Dn(r,o,d){const m=bu(),j=d?.locale??m.locale??bx,_=d?.firstWeekContainsDate??d?.locale?.options?.firstWeekContainsDate??m.firstWeekContainsDate??m.locale?.options?.firstWeekContainsDate??1,G=d?.weekStartsOn??d?.locale?.options?.weekStartsOn??m.weekStartsOn??m.locale?.options?.weekStartsOn??0,L=Jt(r,d?.in);if(!Yg(L))throw new RangeError("Invalid time value");let C=o.match(Bx).map(ee=>{const Y=ee[0];if(Y==="p"||Y==="P"){const re=_x[Y];return re(ee,j.formatLong)}return ee}).join("").match(zx).map(ee=>{if(ee==="''")return{isToken:!1,value:"'"};const Y=ee[0];if(Y==="'")return{isToken:!1,value:Hx(ee)};if(xp[Y])return{isToken:!0,value:ee};if(Y.match(qx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");return{isToken:!1,value:ee}});j.localize.preprocessor&&(C=j.localize.preprocessor(L,C));const T={firstWeekContainsDate:_,weekStartsOn:G,locale:j};return C.map(ee=>{if(!ee.isToken)return ee.value;const Y=ee.value;(!d?.useAdditionalWeekYearTokens&&Ox(Y)||!d?.useAdditionalDayOfYearTokens&&Ax(Y))&&Mx(Y,o,String(r));const re=xp[Y[0]];return re(L,Y,j.localize,T)}).join("")}function Hx(r){const o=r.match(Rx);return o?o[1].replace(Ux,"'"):r}function Yx(r,o){return Jt(r,o?.in).getDay()}function Qf(r){return+Jt(r)<Date.now()}function Sa(r,o){return r0(xn(r,r),i0(r))}function hu(r,o){return r0(r,l0(i0(r),1),o)}function sl(r,o){const d=()=>xn(o?.in,NaN),j=Gx(r);let _;if(j.date){const T=Qx(j.date,2);_=Vx(T.restDateString,T.year)}if(!_||isNaN(+_))return d();const G=+_;let L=0,C;if(j.time&&(L=Zx(j.time),isNaN(L)))return d();if(j.timezone){if(C=Jx(j.timezone),isNaN(C))return d()}else{const T=new Date(G+L),ee=Jt(0,o?.in);return ee.setFullYear(T.getUTCFullYear(),T.getUTCMonth(),T.getUTCDate()),ee.setHours(T.getUTCHours(),T.getUTCMinutes(),T.getUTCSeconds(),T.getUTCMilliseconds()),ee}return Jt(G+L+C,o?.in)}const su={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Lx=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Kx=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Xx=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Gx(r){const o={},d=r.split(su.dateTimeDelimiter);let m;if(d.length>2)return o;if(/:/.test(d[0])?m=d[0]:(o.date=d[0],m=d[1],su.timeZoneDelimiter.test(o.date)&&(o.date=r.split(su.timeZoneDelimiter)[0],m=r.substr(o.date.length,r.length))),m){const j=su.timezone.exec(m);j?(o.time=m.replace(j[1],""),o.timezone=j[1]):o.time=m}return o}function Qx(r,o){const d=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+o)+"})|(\\d{2}|[+-]\\d{"+(2+o)+"})$)"),m=r.match(d);if(!m)return{year:NaN,restDateString:""};const j=m[1]?parseInt(m[1]):null,_=m[2]?parseInt(m[2]):null;return{year:_===null?j:_*100,restDateString:r.slice((m[1]||m[2]).length)}}function Vx(r,o){if(o===null)return new Date(NaN);const d=r.match(Lx);if(!d)return new Date(NaN);const m=!!d[4],j=qr(d[1]),_=qr(d[2])-1,G=qr(d[3]),L=qr(d[4]),C=qr(d[5])-1;if(m)return Px(o,L,C)?Ix(o,L,C):new Date(NaN);{const T=new Date(0);return!Wx(o,_,G)||!Fx(o,j)?new Date(NaN):(T.setUTCFullYear(o,_,Math.max(j,G)),T)}}function qr(r){return r?parseInt(r):1}function Zx(r){const o=r.match(Kx);if(!o)return NaN;const d=Nf(o[1]),m=Nf(o[2]),j=Nf(o[3]);return eb(d,m,j)?d*a0+m*n0+j*1e3:NaN}function Nf(r){return r&&parseFloat(r.replace(",","."))||0}function Jx(r){if(r==="Z")return 0;const o=r.match(Xx);if(!o)return 0;const d=o[1]==="+"?-1:1,m=parseInt(o[2]),j=o[3]&&parseInt(o[3])||0;return tb(m,j)?d*(m*a0+j*n0):NaN}function Ix(r,o,d){const m=new Date(0);m.setUTCFullYear(r,0,4);const j=m.getUTCDay()||7,_=(o-1)*7+d+1-j;return m.setUTCDate(m.getUTCDate()+_),m}const $x=[31,null,31,30,31,30,31,31,30,31,30,31];function h0(r){return r%400===0||r%4===0&&r%100!==0}function Wx(r,o,d){return o>=0&&o<=11&&d>=1&&d<=($x[o]||(h0(r)?29:28))}function Fx(r,o){return o>=1&&o<=(h0(r)?366:365)}function Px(r,o,d){return o>=1&&o<=53&&d>=0&&d<=6}function eb(r,o,d){return r===24?o===0&&d===0:d>=0&&d<60&&o>=0&&o<60&&r>=0&&r<25}function tb(r,o){return o>=0&&o<=59}function p0(r,o,d){return Xf(r,-1,d)}const nb={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},ab=(r,o,d)=>{let m;const j=nb[r];return typeof j=="string"?m=j:o===1?m=j.one:m=j.other.replace("{{count}}",String(o)),d?.addSuffix?d.comparison&&d.comparison>0?m+"":m+"":m},lb={full:"y''M''d'' EEEE",long:"y''M''d''",medium:"yyyy-MM-dd",short:"yy-MM-dd"},sb={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},ib={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},rb={date:Ci({formats:lb,defaultWidth:"full"}),time:Ci({formats:sb,defaultWidth:"full"}),dateTime:Ci({formats:ib,defaultWidth:"full"})},cb={lastWeek:"''eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"''eeee p",other:"P"},ub=(r,o,d,m)=>cb[r],ob={narrow:["",""],abbreviated:["",""],wide:["",""]},fb={narrow:["1","2","3","4"],abbreviated:["","","",""],wide:["","","",""]},db={narrow:["","","","","","","","","","","",""],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["","","","","","","","","","","",""]},mb={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},hb={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},pb={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},yb=(r,o)=>{const d=Number(r);switch(o?.unit){case"date":return d+"";case"hour":return d+"";case"minute":return d+"";case"second":return d+"";default:return" "+d}},vb={ordinalNumber:yb,era:ja({values:ob,defaultWidth:"wide"}),quarter:ja({values:fb,defaultWidth:"wide",argumentCallback:r=>r-1}),month:ja({values:db,defaultWidth:"wide"}),day:ja({values:mb,defaultWidth:"wide"}),dayPeriod:ja({values:hb,defaultWidth:"wide",formattingValues:pb,defaultFormattingWidth:"wide"})},gb=/^(\s*)?\d+(|||)?/i,xb=/\d+/i,bb={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},wb={any:[/^()/i,/^()/i]},jb={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},Nb={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},Sb={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},Tb={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},_b={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},Db={any:[//i,//i,//i,//i,//i,//i,//i]},Cb={any:/^(?|?||[]|?||?|)/i},Eb={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},Ab={ordinalNumber:f0({matchPattern:gb,parsePattern:xb,valueCallback:r=>parseInt(r,10)}),era:Na({matchPatterns:bb,defaultMatchWidth:"wide",parsePatterns:wb,defaultParseWidth:"any"}),quarter:Na({matchPatterns:jb,defaultMatchWidth:"wide",parsePatterns:Nb,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Na({matchPatterns:Sb,defaultMatchWidth:"wide",parsePatterns:Tb,defaultParseWidth:"any"}),day:Na({matchPatterns:_b,defaultMatchWidth:"wide",parsePatterns:Db,defaultParseWidth:"any"}),dayPeriod:Na({matchPatterns:Cb,defaultMatchWidth:"any",parsePatterns:Eb,defaultParseWidth:"any"})},_a={code:"zh-TW",formatDistance:ab,formatLong:rb,formatRelative:ub,localize:vb,match:Ab,options:{weekStartsOn:1,firstWeekContainsDate:4}},Np=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500","bg-teal-500","bg-red-500","bg-indigo-500","bg-yellow-500","bg-cyan-500"];function Sp(){const[r,o]=q.useState({activePatients:0,pendingEvents:0,overdueEvents:0,todayEvents:0,weekWorkItems:0}),[d,m]=q.useState([]),[j,_]=q.useState([]),[G,L]=q.useState([]),[C,T]=q.useState(!0),[ee,Y]=q.useState(!1),[re,me]=q.useState("overview"),ce=Da(N=>N.lastBackupDate),{setCurrentPage:pe}=Ai();q.useEffect(()=>{Ce()},[]);const Ce=async()=>{try{const N=new Date().toISOString().split("T")[0],[je,ue,he,ye,Ye,Ve]=await Promise.all([U.patients.where("status").equals("active").count(),U.events.where("isCompleted").equals(0).toArray(),Ef(),U.cancerTypes.toArray(),U.patients.toArray(),zg()]);let ft=0,We=0;ue.forEach(ve=>{ve.dueDate&&ve.dueDate===N&&We++,ft++}),o({activePatients:je,pendingEvents:ft,overdueEvents:he.length,todayEvents:We,weekWorkItems:Ve.length}),_(he.slice(0,5)),L(Ve.slice(0,5));const xe={};Ye.forEach(ve=>{ve.cancerTypeId&&(xe[ve.cancerTypeId]=(xe[ve.cancerTypeId]||0)+1)});const Ge=ye.filter(ve=>xe[ve.id]).map((ve,ke)=>({name:ve.name,code:ve.code,count:xe[ve.id]||0,color:Np[ke%Np.length]})).sort((ve,ke)=>ke.count-ve.count);m(Ge)}catch(N){console.error(":",N),we.error("")}finally{T(!1)}},be=async()=>{Y(!0);try{const N=await qf();we.success(`${N}`),Da.getState().setLastBackupDate(new Date().toISOString().split("T")[0])}catch(N){we.error(`${N.message}`)}finally{Y(!1)}},Ee=()=>{if(!ce)return"";try{const N=sl(ce);return Sa(N)?"":Dn(N,"MM/dd (EEEE)",{locale:_a})}catch{return ce}};return C?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsxs("div",{className:"p-3 md:p-6 space-y-3 md:space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:$p,alt:"Logo",className:"w-10 h-10 rounded-lg md:hidden"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("h1",{className:"text-base md:text-2xl font-bold text-slate-800",children:Bp}),s.jsxs("span",{className:"text-xs text-slate-400",children:["V",vu]})]}),s.jsx("p",{className:"text-xs text-slate-500",children:Dn(new Date,"MM/dd EEEE",{locale:_a})})]})]}),s.jsxs("div",{className:"flex gap-1 border-b border-slate-200",children:[s.jsx("button",{onClick:()=>me("overview"),className:`px-3 py-1.5 text-sm font-medium border-b-2 transition-colors ${re==="overview"?"border-primary-500 text-primary-600":"border-transparent text-slate-500"}`,children:""}),s.jsxs("button",{onClick:()=>me("stats"),className:`px-3 py-1.5 text-sm font-medium border-b-2 transition-colors flex items-center gap-1 ${re==="stats"?"border-primary-500 text-primary-600":"border-transparent text-slate-500"}`,children:[s.jsx(fp,{className:"w-4 h-4"}),""]})]}),re==="overview"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`card !p-3 ${!ce||ce!==new Date().toISOString().split("T")[0]?"border-amber-300 bg-amber-50":"border-green-300 bg-green-50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[ce===new Date().toISOString().split("T")[0]?s.jsx(Vl,{className:"w-5 h-5 text-green-600"}):s.jsx(Ta,{className:"w-5 h-5 text-amber-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-800",children:""}),s.jsx("p",{className:"text-xs text-slate-600",children:Ee()})]})]}),s.jsxs("button",{onClick:be,disabled:ee,className:"btn-primary text-sm py-1.5 px-3 flex items-center gap-1",children:[s.jsx(ou,{className:"w-4 h-4"}),ee?"...":Ei()?"":""]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 md:grid-cols-4 md:gap-4",children:[s.jsx(iu,{icon:Kf,label:"",value:r.activePatients,color:"blue",onClick:()=>pe("patients")}),s.jsx(iu,{icon:Zl,label:"",value:r.todayEvents,color:"green",onClick:()=>pe("events")}),s.jsx(iu,{icon:Ta,label:"",value:r.overdueEvents,color:"red",onClick:()=>pe("events")}),s.jsx(iu,{icon:As,label:"",value:r.weekWorkItems,color:"primary",onClick:()=>pe("work")})]}),s.jsxs("div",{className:"card !p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"text-sm font-semibold text-slate-800 flex items-center gap-1",children:[s.jsx(Ta,{className:"w-4 h-4 text-red-500"}),""]}),r.overdueEvents>0&&s.jsxs("button",{onClick:()=>pe("events"),className:"text-xs text-primary-500 hover:underline flex items-center",children:[" ",s.jsx(Lr,{className:"w-3 h-3"})]})]}),j.length===0?s.jsxs("div",{className:"text-center py-3 text-slate-500",children:[s.jsx(Vl,{className:"w-8 h-8 mx-auto mb-1 text-green-500"}),s.jsx("p",{className:"text-sm",children:" "})]}):s.jsxs("div",{className:"space-y-1.5",children:[j.map(N=>s.jsx(Mb,{event:N},N.id)),r.overdueEvents>5&&s.jsxs("p",{className:"text-center text-xs text-slate-400 pt-1",children:[" ",r.overdueEvents-5," ..."]})]})]}),s.jsxs("div",{className:"card !p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"text-sm font-semibold text-slate-800 flex items-center gap-1",children:[s.jsx(As,{className:"w-4 h-4 text-primary-500"}),""]}),r.weekWorkItems>0&&s.jsxs("button",{onClick:()=>pe("work"),className:"text-xs text-primary-500 hover:underline flex items-center",children:[" ",s.jsx(Lr,{className:"w-3 h-3"})]})]}),G.length===0?s.jsxs("div",{className:"text-center py-4 text-slate-500",children:[s.jsx(Vl,{className:"w-8 h-8 mx-auto mb-1 text-green-500"}),s.jsx("p",{className:"text-sm",children:""})]}):s.jsxs("div",{className:"space-y-1.5",children:[G.map(N=>s.jsx("div",{className:"flex items-center gap-2 p-2 bg-slate-50 rounded-lg",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:N.title}),s.jsxs("p",{className:"text-xs text-slate-500",children:[Dn(sl(N.scheduledDate),"MM/dd (EEE)",{locale:_a}),N.scheduledTime&&` ${N.scheduledTime}`]})]})},N.id)),r.weekWorkItems>5&&s.jsxs("p",{className:"text-center text-xs text-slate-400 pt-1",children:[" ",r.weekWorkItems-5," ..."]})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"card",children:[s.jsxs("h3",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(fp,{className:"w-5 h-5 text-primary-500"}),""]}),d.length===0?s.jsx("p",{className:"text-center py-8 text-slate-400",children:""}):s.jsx("div",{className:"space-y-3",children:d.map(N=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${N.color}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",children:N.name}),s.jsxs("span",{className:"text-sm text-slate-500",children:[N.count," "]})]}),s.jsx("div",{className:"mt-1 h-2 bg-slate-100 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${N.color} rounded-full transition-all`,style:{width:`${r.activePatients>0?N.count/r.activePatients*100:0}%`}})})]})]},N.code))})]}),s.jsxs("div",{className:"card",children:[s.jsxs("h3",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(Zl,{className:"w-5 h-5 text-primary-500"}),""]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg",children:[s.jsx("p",{className:"text-3xl font-bold text-slate-800",children:r.pendingEvents}),s.jsx("p",{className:"text-sm text-slate-500",children:""})]}),s.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg",children:[s.jsx("p",{className:"text-3xl font-bold text-red-600",children:r.overdueEvents}),s.jsx("p",{className:"text-sm text-slate-500",children:""})]})]})]})]})]})}const Ob={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",primary:"bg-primary-100 text-primary-600",red:"bg-red-100 text-red-600"};function iu({icon:r,label:o,value:d,color:m,onClick:j}){return s.jsxs("div",{className:`card !p-3 ${j?"cursor-pointer hover:shadow-md transition-shadow":""}`,onClick:j,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`inline-flex p-1.5 rounded-lg ${Ob[m]}`,children:s.jsx(r,{className:"w-4 h-4"})}),s.jsx("p",{className:"text-xl font-bold text-slate-800",children:d})]}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:o})]})}function Mb({event:r}){const o=zf[r.eventType]||r.eventType,d=Math.floor((new Date().getTime()-new Date(r.dueDate).getTime())/(1e3*60*60*24));return s.jsxs("div",{className:"flex items-center gap-3 p-2 bg-red-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:r.title}),s.jsx("p",{className:"text-xs text-slate-500",children:o})]}),s.jsxs("span",{className:"text-xs text-red-600 font-medium whitespace-nowrap",children:[" ",d," "]})]})}async function y0(r){let o=U.patients.toCollection();r?.status&&r.status!=="all"&&(o=U.patients.where("status").equals(r.status));let d=await o.toArray();if(r?.cancerTypeId&&(d=d.filter(m=>m.cancerTypeId===r.cancerTypeId)),r?.search){const m=r.search.toLowerCase();d=d.filter(j=>j.mrn.toLowerCase().includes(m)||j.name.toLowerCase().includes(m))}return d.sort((m,j)=>(j.updatedAt||"").localeCompare(m.updatedAt||"")),d}async function kb(r){return U.patients.get(r)}async function v0(r){return U.patients.where("mrn").equals(r).first()}async function zb(r){if(await v0(r.mrn))throw new Error(` ${r.mrn} `);const d=il();return await U.patients.add({mrn:r.mrn,name:r.name,sex:r.sex,birthDate:r.birthDate,cancerTypeId:r.cancerTypeId,physicianIds:r.physicianIds||[],status:r.status||"active",createdAt:d,updatedAt:d})}async function Bb(r,o){if(o.mrn){const m=await v0(o.mrn);if(m&&m.id!==r)throw new Error(` ${o.mrn} `)}return await U.patients.update(r,{...o,updatedAt:il()})>0}async function Rb(r){return await U.events.where("patientId").equals(r).delete(),await U.patientPhysicians.where("patientId").equals(r).delete(),await U.patients.delete(r),!0}async function Vf(r){return U.events.where("patientId").equals(r).toArray()}async function Ub(r){const o=await Vf(r);return{total:o.length,pending:o.filter(d=>!d.isCompleted).length,completed:o.filter(d=>d.isCompleted).length}}async function Zf(r=!1){let o=await U.cancerTypes.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.sortOrder-m.sortOrder)}async function qb(r){return U.cancerTypes.get(r)}async function Hb(r){const o=await ki("cancerTypes");return U.cancerTypes.add({...r,sortOrder:r.sortOrder??o+10,isActive:!0})}async function Tp(r,o){return await U.cancerTypes.update(r,o)>0}async function Yb(r){return await U.cancerTypes.delete(r),!0}async function Lb(r){await U.transaction("rw",U.cancerTypes,async()=>{for(let o=0;o<r.length;o++)await U.cancerTypes.update(r[o],{sortOrder:(o+1)*10})})}async function wu(r=!1){let o=await U.departments.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.sortOrder-m.sortOrder)}async function Kb(r){const o=await ki("departments");return U.departments.add({...r,sortOrder:r.sortOrder??o+10,isActive:!0})}async function Xb(r,o){return await U.departments.update(r,o)>0}async function Gb(r){if(await U.physicians.where("departmentId").equals(r).count()>0)throw new Error("");return await U.departments.delete(r),!0}async function Qb(r){await U.transaction("rw",U.departments,async()=>{for(let o=0;o<r.length;o++)await U.departments.update(r[o],{sortOrder:(o+1)*10})})}async function g0(r=!1){let o=await U.physicians.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.name.localeCompare(m.name))}async function Af(r,o=!1){let d=await U.physicians.where("departmentId").equals(r).toArray();return o||(d=d.filter(m=>m.isActive)),d.sort((m,j)=>m.name.localeCompare(j.name))}async function Vb(r){return U.physicians.add({...r,isActive:!0})}async function _p(r,o){return await U.physicians.update(r,o)>0}async function Zb(r){return await U.physicians.delete(r),!0}async function Jb(r=!1){let o=await U.imagingTypes.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.sortOrder-m.sortOrder)}async function Ib(r){const o=await ki("imagingTypes");return U.imagingTypes.add({...r,sortOrder:r.sortOrder??o+10,isActive:!0})}async function Dp(r,o){return await U.imagingTypes.update(r,o)>0}async function $b(r){return await U.imagingTypes.delete(r),!0}async function Wb(r){await U.transaction("rw",U.imagingTypes,async()=>{for(let o=0;o<r.length;o++)await U.imagingTypes.update(r[o],{sortOrder:(o+1)*10})})}async function Jf(r=!1){let o=await U.eventTypes.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.sortOrder-m.sortOrder)}async function Fb(r){const o=await ki("eventTypes");return U.eventTypes.add({...r,sortOrder:r.sortOrder??o+10,isActive:!0})}async function Cp(r,o){return await U.eventTypes.update(r,o)>0}async function Pb(r){return await U.eventTypes.delete(r),!0}async function e1(r){await U.transaction("rw",U.eventTypes,async()=>{for(let o=0;o<r.length;o++)await U.eventTypes.update(r[o],{sortOrder:(o+1)*10})})}async function x0(r=!1){let o=await U.meetingTypes.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.sortOrder-m.sortOrder)}async function t1(r){const o=await ki("meetingTypes");return U.meetingTypes.add({...r,sortOrder:r.sortOrder??o+10,isActive:!0})}async function Ep(r,o){return await U.meetingTypes.update(r,o)>0}async function n1(r){return await U.meetingTypes.delete(r),!0}async function a1(r){await U.transaction("rw",U.meetingTypes,async()=>{for(let o=0;o<r.length;o++)await U.meetingTypes.update(r[o],{sortOrder:(o+1)*10})})}async function b0(r=!1){let o=await U.meetingLocations.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.sortOrder-m.sortOrder)}async function l1(r){const o=await ki("meetingLocations");return U.meetingLocations.add({...r,sortOrder:r.sortOrder??o+10,isActive:!0})}async function Ap(r,o){return await U.meetingLocations.update(r,o)>0}async function s1(r){return await U.meetingLocations.delete(r),!0}async function i1(r){await U.transaction("rw",U.meetingLocations,async()=>{for(let o=0;o<r.length;o++)await U.meetingLocations.update(r[o],{sortOrder:(o+1)*10})})}async function ki(r){const o=await U[r].toArray();return o.length===0?0:Math.max(...o.map(d=>d.sortOrder||0))}function Op({patient:r,onClose:o,onSuccess:d}){const m=!!r,[j,_]=q.useState([]),[G,L]=q.useState([]),[C,T]=q.useState({}),[ee,Y]=q.useState(!1),[re,me]=q.useState(r?.mrn||""),[ce,pe]=q.useState(r?.name||""),[Ce,be]=q.useState(r?.sex||""),[Ee,N]=q.useState(r?.birthDate||""),[je,ue]=q.useState(r?.birthDate?.replace(/-/g,"")||""),[he,ye]=q.useState(r?.cancerTypeId),[Ye,Ve]=q.useState([]),[ft,We]=q.useState(r?.status||"active"),[xe,Ge]=q.useState({});q.useEffect(()=>{ve()},[]);const ve=async()=>{const[R,te]=await Promise.all([Zf(),wu()]);if(_(R),L(te),r?.physicianIds&&r.physicianIds.length>0){const ne=[];for(const Be of r.physicianIds)for(const qe of te){const Ze=await Af(qe.id);if(Ze.find(ht=>ht.id===Be)){C[qe.id]||T(ht=>({...ht,[qe.id]:Ze})),ne.push({departmentId:qe.id,physicianId:Be});break}}Ve(ne)}},ke=async(R,te)=>{const ne=[...Ye];if(ne[R]={departmentId:te,physicianId:null},Ve(ne),te&&!C[te]){const Be=await Af(te);T(qe=>({...qe,[te]:Be}))}},V=(R,te)=>{const ne=[...Ye];ne[R]={...ne[R],physicianId:te},Ve(ne)},F=()=>{if(Ye.length>=4){we.warning(" 4 ");return}Ve([...Ye,{departmentId:null,physicianId:null}])},I=R=>{Ve(Ye.filter((te,ne)=>ne!==R))},ge=()=>{const R={};return re.trim()||(R.mrn=""),ce.trim()||(R.name=""),Ge(R),Object.keys(R).length===0},Ne=async R=>{if(R.preventDefault(),!ge())return;Y(!0);const te=Ye.filter(ne=>ne.physicianId).map(ne=>ne.physicianId);try{m&&r?.id?(await Bb(r.id,{mrn:re.trim(),name:ce.trim(),sex:Ce,birthDate:Ee||void 0,cancerTypeId:he,physicianIds:te,status:ft}),we.success("")):(await zb({mrn:re.trim(),name:ce.trim(),sex:Ce,birthDate:Ee||void 0,cancerTypeId:he,physicianIds:te,status:ft}),we.success("")),d(),o()}catch(ne){we.error(ne.message||"")}finally{Y(!1)}},b=(R,te)=>{const ne=C[R]||[],Be=Ye.filter((qe,Ze)=>Ze!==te).map(qe=>qe.physicianId).filter(Boolean);return ne.filter(qe=>!Be.includes(qe.id))};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-xl max-h-[90vh] overflow-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 sticky top-0 bg-white",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-800",children:m?"":""}),s.jsx("button",{onClick:o,className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(Lt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:Ne,className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"label",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:re,onChange:R=>me(R.target.value),className:`input ${xe.mrn?"border-red-500":""}`,placeholder:"",autoFocus:!0}),xe.mrn&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:xe.mrn})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"label",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:ce,onChange:R=>pe(R.target.value),className:`input ${xe.name?"border-red-500":""}`,placeholder:""}),xe.name&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:xe.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:""}),s.jsx("div",{className:"flex gap-4",children:[{value:"M",label:""},{value:"F",label:""}].map(R=>s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"sex",value:R.value,checked:Ce===R.value,onChange:te=>be(te.target.value),className:"w-4 h-4 text-primary-500"}),s.jsx("span",{children:R.label})]},R.value))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"label",children:[" ",s.jsx("span",{className:"text-xs text-slate-400",children:"(YYYYMMDD)"})]}),s.jsx("input",{type:"text",inputMode:"numeric",value:je,onChange:R=>{const te=R.target.value.replace(/\D/g,"").slice(0,8);if(ue(te),te.length===8){const ne=`${te.slice(0,4)}-${te.slice(4,6)}-${te.slice(6,8)}`,Be=new Date(ne);!isNaN(Be.getTime())&&Be<=new Date?N(ne):N("")}else N("")},className:"input",placeholder:"19800101",maxLength:8}),Ee&&s.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[" ",Ee,"  ",Math.floor((new Date().getTime()-new Date(Ee).getTime())/(365.25*24*60*60*1e3))," "]}),je.length===8&&!Ee&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:""}),s.jsxs("select",{value:he||"",onChange:R=>ye(R.target.value?Number(R.target.value):void 0),className:"input",children:[s.jsx("option",{value:"",children:"--  --"}),j.map(R=>s.jsx("option",{value:R.id,children:R.name},R.id))]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"label mb-0",children:""}),Ye.length<4&&s.jsxs("button",{type:"button",onClick:F,className:"text-sm text-primary-500 hover:text-primary-600 flex items-center gap-1",children:[s.jsx(la,{className:"w-4 h-4"})," "]})]}),Ye.length===0?s.jsx("button",{type:"button",onClick:F,className:"w-full py-2 border-2 border-dashed border-slate-300 rounded-lg text-slate-500 hover:border-primary-500 hover:text-primary-500 transition-colors",children:"+ "}):s.jsx("div",{className:"space-y-2",children:Ye.map((R,te)=>s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("button",{type:"button",onClick:()=>{if(te===0)return;const ne=[...Ye];[ne[te-1],ne[te]]=[ne[te],ne[te-1]],Ve(ne)},disabled:te===0,className:"p-0.5 hover:bg-slate-100 rounded disabled:opacity-30",children:s.jsx(gu,{className:"w-3 h-3 text-slate-400"})}),s.jsx("button",{type:"button",onClick:()=>{if(te===Ye.length-1)return;const ne=[...Ye];[ne[te],ne[te+1]]=[ne[te+1],ne[te]],Ve(ne)},disabled:te===Ye.length-1,className:"p-0.5 hover:bg-slate-100 rounded disabled:opacity-30",children:s.jsx(Oi,{className:"w-3 h-3 text-slate-400"})})]}),s.jsxs("select",{value:R.departmentId||"",onChange:ne=>ke(te,ne.target.value?Number(ne.target.value):null),className:"input flex-1",children:[s.jsx("option",{value:"",children:"--  --"}),G.map(ne=>s.jsx("option",{value:ne.id,children:ne.name},ne.id))]}),s.jsxs("select",{value:R.physicianId||"",onChange:ne=>V(te,ne.target.value?Number(ne.target.value):null),className:"input flex-1",disabled:!R.departmentId,children:[s.jsx("option",{value:"",children:"--  --"}),R.departmentId&&b(R.departmentId,te).map(ne=>s.jsx("option",{value:ne.id,children:ne.name},ne.id))]}),s.jsx("button",{type:"button",onClick:()=>I(te),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:s.jsx(qn,{className:"w-5 h-5"})})]},te))}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" 4   "})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:""}),s.jsxs("select",{value:ft,onChange:R=>We(R.target.value),className:"input",children:[s.jsx("option",{value:"active",children:""}),s.jsx("option",{value:"inactive",children:""}),s.jsx("option",{value:"deceased",children:""})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:o,className:"flex-1 btn-secondary",disabled:ee,children:""}),s.jsx("button",{type:"submit",className:"flex-1 btn-primary",disabled:ee,children:ee?"...":""})]})]})]})})}const r1=[{weeks:1,days:7,label:"1 (7)"},{weeks:2,days:14,label:"2 (14)"},{weeks:3,days:21,label:"3 (21)"},{weeks:4,days:28,label:"4 (28)"},{weeks:5,days:35,label:"5 (35)"},{weeks:6,days:42,label:"6 (42)"},{weeks:7,days:49,label:"7 (49)"},{weeks:8,days:56,label:"8 (56)"}];function Of({event:r,patientId:o,onClose:d,onSuccess:m}){const j=!!r,[_,G]=q.useState([]),[L,C]=q.useState([]),[T,ee]=q.useState(!1),[Y,re]=q.useState(r?.patientId||o),[me,ce]=q.useState(r?.eventType||""),[pe,Ce]=q.useState(r?.title||""),[be,Ee]=q.useState(r?.eventDate||new Date().toISOString().split("T")[0]),[N,je]=q.useState(r?.dueDate||""),[ue,he]=q.useState(r?.note||""),[ye,Ye]=q.useState(!1),[Ve,ft]=q.useState(!1),[We,xe]=q.useState(6),[Ge,ve]=q.useState(3),[ke,V]=q.useState({});q.useEffect(()=>{F()},[]),q.useEffect(()=>{if(!j&&me){const b=L.find(R=>R.code===me);b&&!pe&&Ce(b.name)}},[me,L,j]);const F=async()=>{const[b,R]=await Promise.all([y0({status:"active"}),Jf()]);G(b),C(R),!r&&R.length>0&&!me&&ce(R[0].code)},I=()=>{const b={};return Y||(b.patientId=""),me||(b.eventType=""),pe.trim()||(b.title=""),V(b),Object.keys(b).length===0},ge=async b=>{if(b.preventDefault(),!!I()){ee(!0);try{if(j&&r?.id)await Dg(r.id,{eventType:me,title:pe.trim(),eventDate:be,dueDate:N||void 0,note:ue.trim()}),we.success("");else if(await Wp({patientId:Y,eventType:me,title:pe.trim(),eventDate:be,dueDate:N||void 0,note:ue.trim()}),we.success(""),Ve&&me==="chemo"&&We>1){const R=Ge*7;await Eg({patientId:Y,regimen:pe.trim(),startDate:be,cycleCount:We-1,intervalDays:R,note:ue.trim(),skipFirst:!0}),we.success(` ${We} `)}m(),d()}catch(R){we.error(R.message||"")}finally{ee(!1)}}},Ne=()=>{if(!be||!Ve)return[];const b=[],R=new Date(be),te=Ge*7;for(let ne=0;ne<Math.min(We,12);ne++){const Be=l0(R,ne*te);b.push(Dn(Be,"MM/dd (EEE)",{locale:_a}))}return b};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-xl max-h-[90vh] overflow-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 sticky top-0 bg-white",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-800",children:j?"":""}),s.jsx("button",{onClick:d,className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(Lt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:ge,className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"label",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:Y||"",onChange:b=>re(b.target.value?Number(b.target.value):void 0),className:`input ${ke.patientId?"border-red-500":""}`,disabled:!!o||j,children:[s.jsx("option",{value:"",children:"--  --"}),_.map(b=>s.jsxs("option",{value:b.id,children:[b.name," (",b.mrn,")"]},b.id))]}),ke.patientId&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:ke.patientId})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"label",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:me,onChange:b=>{const R=b.target.value;ce(R);const te=L.find(Be=>Be.code===R),ne=L.find(Be=>Be.code===me);(!pe||ne&&pe===ne.name)&&Ce(te?.name||"")},className:`input ${ke.eventType?"border-red-500":""}`,children:[s.jsx("option",{value:"",children:"--  --"}),L.map(b=>s.jsx("option",{value:b.code,children:b.name},b.code))]}),ke.eventType&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:ke.eventType})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"label",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:pe,onChange:b=>Ce(b.target.value),className:`input ${ke.title?"border-red-500":""}`,placeholder:""}),ke.title&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:ke.title})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:""}),s.jsx("input",{type:"date",value:be,onChange:b=>Ee(b.target.value),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:""}),s.jsx("input",{type:"date",value:N,onChange:b=>je(b.target.value),className:"input"}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.jsx("button",{type:"button",onClick:()=>je(be),disabled:!be,className:"px-2 py-1 text-xs bg-slate-100 hover:bg-slate-200 rounded disabled:opacity-50",children:""}),s.jsx("button",{type:"button",onClick:()=>{if(!be)return;const b=new Date(be);b.setDate(b.getDate()-1),je(b.toISOString().split("T")[0])},disabled:!be,className:"px-2 py-1 text-xs bg-slate-100 hover:bg-slate-200 rounded disabled:opacity-50",children:""}),s.jsx("button",{type:"button",onClick:()=>{if(!be)return;const b=new Date(be);b.setDate(b.getDate()-7),je(b.toISOString().split("T")[0])},disabled:!be,className:"px-2 py-1 text-xs bg-slate-100 hover:bg-slate-200 rounded disabled:opacity-50",children:""}),s.jsx("button",{type:"button",onClick:()=>{if(!be)return;const b=new Date(be);b.setDate(b.getDate()+7),je(b.toISOString().split("T")[0])},disabled:!be,className:"px-2 py-1 text-xs bg-slate-100 hover:bg-slate-200 rounded disabled:opacity-50",children:""})]}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:""})]}),me==="chemo"&&!j&&s.jsxs("div",{className:"border border-purple-200 rounded-lg p-3 bg-purple-50",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:Ve,onChange:b=>ft(b.target.checked),className:"w-4 h-4 text-purple-500"}),s.jsx("span",{className:"text-sm font-medium text-purple-700",children:""})]}),Ve&&s.jsxs("div",{className:"mt-3 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm text-slate-600 w-16",children:""}),s.jsx("select",{value:We,onChange:b=>xe(Number(b.target.value)),className:"input flex-1",children:[2,3,4,5,6,7,8,9,10,12].map(b=>s.jsxs("option",{value:b,children:[b," "]},b))})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm text-slate-600 w-16",children:""}),s.jsx("select",{value:Ge,onChange:b=>ve(Number(b.target.value)),className:"input flex-1",children:r1.map(b=>s.jsx("option",{value:b.weeks,children:b.label},b.weeks))})]}),s.jsxs("div",{children:[s.jsxs("button",{type:"button",onClick:()=>Ye(!ye),className:"text-xs text-purple-600 flex items-center gap-1",children:[" ",ye?s.jsx(gu,{className:"w-3 h-3"}):s.jsx(Oi,{className:"w-3 h-3"})]}),ye&&s.jsxs("div",{className:"mt-2 text-xs text-slate-600 bg-white rounded p-2 max-h-32 overflow-auto",children:[Ne().map((b,R)=>s.jsxs("div",{className:"py-0.5",children:[" ",R+1," ",b]},R)),We>12&&s.jsx("div",{className:"text-slate-400",children:"..."})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:""}),s.jsx("textarea",{value:ue,onChange:b=>he(b.target.value),className:"input min-h-[80px] resize-none",placeholder:"..."})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:d,className:"flex-1 btn-secondary",disabled:T,children:""}),s.jsx("button",{type:"submit",className:"flex-1 btn-primary",disabled:T,children:T?"...":""})]})]})]})})}const c1={active:"",inactive:"",deceased:""},u1={active:"bg-green-100 text-green-800",inactive:"bg-slate-100 text-slate-600",deceased:"bg-red-100 text-red-800"},Mp={chemo:"bg-purple-100 text-purple-700",rt:"bg-blue-100 text-blue-700",surgery:"bg-red-100 text-red-700",mdt:"bg-orange-100 text-orange-700",fu:"bg-teal-100 text-teal-700",default:"bg-slate-100 text-slate-700"};function o1({patient:r,onClose:o,onEdit:d}){const[m,j]=q.useState("-"),[_,G]=q.useState({total:0,pending:0,completed:0}),[L,C]=q.useState([]),[T,ee]=q.useState([]),[Y,re]=q.useState([]),[me,ce]=q.useState(!0),[pe,Ce]=q.useState(!1),[be,Ee]=q.useState(null),[N,je]=q.useState(!1),{markDataChanged:ue}=Da(),he=q.useMemo(()=>!r.physicianIds||r.physicianIds.length===0?[]:r.physicianIds.map(F=>T.find(I=>I.id===F)).filter(F=>!!F),[r.physicianIds,T]),ye=F=>Y.find(ge=>ge.id===F)?.name||"",Ye=q.useMemo(()=>{const F=L.filter(ge=>!ge.isCompleted).sort((ge,Ne)=>(ge.dueDate||ge.eventDate||"").localeCompare(Ne.dueDate||Ne.eventDate||"")),I=L.filter(ge=>ge.isCompleted).sort((ge,Ne)=>(Ne.dueDate||Ne.eventDate||"").localeCompare(ge.dueDate||ge.eventDate||""));return[...F,...I]},[L]),Ve=N?Ye:Ye.slice(0,3),ft=Ye.length>3;q.useEffect(()=>{We()},[r]);const We=async()=>{try{if(r.cancerTypeId){const ge=await qb(r.cancerTypeId);ge&&j(ge.name)}const[F,I]=await Promise.all([g0(),wu()]);if(ee(F),re(I),r.id){const[ge,Ne]=await Promise.all([Ub(r.id),Vf(r.id)]);G(ge);const b=Ne.sort((R,te)=>R.isCompleted!==te.isCompleted?R.isCompleted?1:-1:(R.dueDate||"").localeCompare(te.dueDate||""));C(b)}}catch(F){console.error(":",F)}finally{ce(!1)}},xe=async F=>{try{await Pp(F.id),we.success(F.isCompleted?"":""),ue(),We()}catch{we.error("")}},Ge=async F=>{if(confirm(`${F.title}`))try{await Fp(F.id),we.success(""),ue(),We()}catch{we.error("")}},ve=()=>{ue(),We()},ke=F=>{if(!F)return"";try{const I=sl(F);return Sa(I)?"":Dn(I,"MM/dd",{locale:_a})}catch{return F}},V=(F,I)=>{if(I)return"text-slate-400";if(!F)return"text-slate-500";try{const ge=sl(F);return Sa(ge)?"text-primary-600 font-semibold":Qf(ge)?"text-red-600 font-semibold":"text-slate-600"}catch{return"text-slate-500"}};return s.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:[s.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-xl max-h-[90vh] overflow-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 sticky top-0 bg-white z-10",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-800",children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-lg text-primary-500",children:s.jsx(Wn,{className:"w-5 h-5"})}),s.jsx("button",{onClick:o,className:"p-2 hover:bg-slate-100 rounded-lg",children:s.jsx(Lt,{className:"w-5 h-5"})})]})]}),me?s.jsx("div",{className:"flex items-center justify-center h-48",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-14 h-14 rounded-full flex items-center justify-center flex-shrink-0 ${r.sex==="M"?"bg-blue-100 text-blue-600":r.sex==="F"?"bg-pink-100 text-pink-600":"bg-slate-100 text-slate-600"}`,children:s.jsx(Lf,{className:"w-7 h-7"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800",children:r.name}),s.jsx("span",{className:`badge ${u1[r.status]}`,children:c1[r.status]})]}),s.jsx("p",{className:"text-slate-500",children:r.mrn}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[r.sex==="M"?"":r.sex==="F"?"":"-",r.birthDate&&s.jsxs(s.Fragment,{children:["  ",Math.floor((new Date().getTime()-new Date(r.birthDate).getTime())/(365.25*24*60*60*1e3)),""]}),s.jsxs(s.Fragment,{children:["  ",m]})]}),he.length>0&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:he.map(F=>s.jsxs("span",{className:"inline-flex items-center gap-1 text-sm bg-slate-100 px-2 py-0.5 rounded",children:[s.jsx(Yr,{className:"w-3 h-3 text-slate-500"}),s.jsx("span",{className:"text-slate-700",children:F.name}),s.jsxs("span",{className:"text-slate-400 text-xs",children:["(",ye(F.departmentId),")"]})]},F.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsx(Sf,{label:"",value:_.total,color:"blue"}),s.jsx(Sf,{label:"",value:_.pending,color:"amber"}),s.jsx(Sf,{label:"",value:_.completed,color:"green"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"font-semibold text-slate-700 flex items-center gap-2",children:[s.jsx(Zl,{className:"w-5 h-5"}),""]}),s.jsxs("button",{onClick:()=>Ce(!0),className:"btn-primary text-sm py-1.5 px-3 flex items-center gap-1",children:[s.jsx(la,{className:"w-4 h-4"}),""]})]}),L.length===0?s.jsx("div",{className:"text-center py-6 text-slate-400 bg-slate-50 rounded-lg",children:""}):s.jsxs("div",{className:"space-y-2",children:[Ve.map(F=>s.jsx(f1,{event:F,onToggleComplete:()=>xe(F),onEdit:()=>Ee(F),onDelete:()=>Ge(F),formatDueDate:ke,getDueDateColor:V},F.id)),ft&&s.jsx("button",{onClick:()=>je(!N),className:"w-full py-2 text-sm text-primary-500 hover:bg-primary-50 rounded-lg flex items-center justify-center gap-1",children:N?s.jsxs(s.Fragment,{children:[" ",s.jsx(gu,{className:"w-4 h-4"})]}):s.jsxs(s.Fragment,{children:[" (",Ye.length-3," ) ",s.jsx(Oi,{className:"w-4 h-4"})]})})]})]})]}),s.jsx("div",{className:"p-4 border-t border-slate-200 sticky bottom-0 bg-white",children:s.jsx("button",{onClick:o,className:"w-full btn-secondary",children:""})})]}),pe&&s.jsx(Of,{patientId:r.id,onClose:()=>Ce(!1),onSuccess:ve}),be&&s.jsx(Of,{event:be,patientId:r.id,onClose:()=>Ee(null),onSuccess:ve})]})}function Sf({label:r,value:o,color:d}){const m={blue:"bg-blue-50 text-blue-700",amber:"bg-amber-50 text-amber-700",green:"bg-green-50 text-green-700"};return s.jsxs("div",{className:`rounded-lg p-3 text-center ${m[d]}`,children:[s.jsx("p",{className:"text-2xl font-bold",children:o}),s.jsx("p",{className:"text-sm",children:r})]})}function f1({event:r,onToggleComplete:o,onEdit:d,onDelete:m,formatDueDate:j,getDueDateColor:_}){const[G,L]=q.useState(!1),C=Mp[r.eventType]||Mp.default,T=zf[r.eventType]||r.eventType;return s.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg bg-slate-50 ${r.isCompleted?"opacity-60":""}`,children:[s.jsx("button",{onClick:o,className:`
          w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0
          transition-colors
          ${r.isCompleted?"bg-green-500 border-green-500 text-white":"border-slate-300 hover:border-primary-500"}
        `,children:r.isCompleted&&s.jsx(rn,{className:"w-3 h-3"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[s.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${C}`,children:T}),r.dueDate&&s.jsx("span",{className:`text-xs ${_(r.dueDate,r.isCompleted)}`,children:j(r.dueDate)})]}),s.jsx("p",{className:`text-sm text-slate-700 truncate ${r.isCompleted?"line-through":""}`,children:r.title})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>L(!G),className:"p-1 hover:bg-slate-200 rounded",children:s.jsx(xu,{className:"w-4 h-4 text-slate-400"})}),G&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>L(!1)}),s.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-20 min-w-[80px]",children:[s.jsxs("button",{onClick:()=>{L(!1),d()},className:"w-full px-3 py-1.5 text-left hover:bg-slate-50 text-sm text-slate-700 flex items-center gap-2",children:[s.jsx(Wn,{className:"w-3 h-3"})," "]}),s.jsxs("button",{onClick:()=>{L(!1),m()},className:"w-full px-3 py-1.5 text-left hover:bg-slate-50 text-sm text-red-600 flex items-center gap-2",children:[s.jsx(qn,{className:"w-3 h-3"})," "]})]})]})]})]})}const Mf={active:"",inactive:"",deceased:""},d1={active:"bg-green-100 text-green-800",inactive:"bg-slate-100 text-slate-600",deceased:"bg-red-100 text-red-800"},ru={updated:"",mrn:"",age:"",physician:"",diagnosis:"",nextEvent:""};function m1(){const[r,o]=q.useState([]),[d,m]=q.useState([]),[j,_]=q.useState([]),[G,L]=q.useState([]),[C,T]=q.useState(!0),[ee,Y]=q.useState(""),[re,me]=q.useState("all"),[ce,pe]=q.useState("all"),[Ce,be]=q.useState(!1),[Ee,N]=q.useState(!1),[je,ue]=q.useState(!1),[he,ye]=q.useState("updated"),[Ye,Ve]=q.useState({}),[ft,We]=q.useState(!1),[xe,Ge]=q.useState(null),[ve,ke]=q.useState(null),[V,F]=q.useState(null),{markDataChanged:I}=Da(),{selectedPatientId:ge,setSelectedPatientId:Ne}=Ai();q.useEffect(()=>{if(ge&&r.length>0){const ze=r.find(Le=>Le.id===ge);ze&&(ke(ze),Ne(null))}},[ge,r,Ne]);const b=q.useCallback(async()=>{try{const[ze,Le,pt,Cn]=await Promise.all([y0({status:re,search:ee,cancerTypeId:ce==="all"?void 0:ce}),Zf(),g0(),wu()]);o(ze),m(Le),_(pt),L(Cn);const cn={};for(const rl of ze){const Jl=(await Vf(rl.id)).filter(sa=>!sa.isCompleted&&sa.dueDate).sort((sa,Ca)=>(sa.dueDate||"").localeCompare(Ca.dueDate||""));Jl.length>0&&(cn[rl.id]=Jl[0].dueDate)}Ve(cn)}catch(ze){we.error(""),console.error(ze)}finally{T(!1)}},[re,ee,ce]);q.useEffect(()=>{b()},[b]);const R=ze=>{ze.preventDefault(),b()},te=async()=>{if(V)try{await Rb(V.id),we.success(""),I(),F(null),b()}catch(ze){we.error(""),console.error(ze)}},ne=ze=>{if(!ze)return"-";const Le=d.find(pt=>pt.id===ze);return Le?Le.name:"-"},Be=ze=>!ze||ze.length===0?[]:ze.map(Le=>j.find(pt=>pt.id===Le)).filter(Le=>!!Le),qe=ze=>G.find(pt=>pt.id===ze)?.name||"",Ze=ze=>ze?Math.floor((new Date().getTime()-new Date(ze).getTime())/(365.25*24*60*60*1e3)):999,kt=ze=>!ze||ze.length===0?"zzz":j.find(pt=>pt.id===ze[0])?.name||"zzz",ht=q.useMemo(()=>{const ze=[...r];switch(he){case"mrn":return ze.sort((Le,pt)=>Le.mrn.localeCompare(pt.mrn));case"age":return ze.sort((Le,pt)=>Ze(Le.birthDate)-Ze(pt.birthDate));case"physician":return ze.sort((Le,pt)=>kt(Le.physicianIds).localeCompare(kt(pt.physicianIds)));case"diagnosis":return ze.sort((Le,pt)=>(Le.createdAt||"").localeCompare(pt.createdAt||""));case"nextEvent":return ze.sort((Le,pt)=>{const Cn=Ye[Le.id]||"9999-12-31",cn=Ye[pt.id]||"9999-12-31";return Cn.localeCompare(cn)});default:return ze.sort((Le,pt)=>(pt.updatedAt||"").localeCompare(Le.updatedAt||""))}},[r,he,j,Ye]),Ue=()=>{I(),b()};return C?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:""}),s.jsxs("button",{onClick:()=>We(!0),className:"btn-primary flex items-center gap-2",children:[s.jsx(la,{className:"w-5 h-5"}),s.jsx("span",{className:"hidden sm:inline",children:""})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("form",{onSubmit:R,className:"flex-1 min-w-[150px] relative",children:[s.jsx(rg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),s.jsx("input",{type:"text",placeholder:"...",value:ee,onChange:ze=>Y(ze.target.value),className:"input pl-10"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>{be(!Ce),N(!1)},className:`btn-secondary flex items-center gap-1 text-sm px-2 py-2 ${re!=="all"?"ring-2 ring-primary-500":""}`,children:[s.jsx(Jv,{className:"w-4 h-4"}),s.jsx("span",{className:"max-w-[60px] truncate",children:re==="all"?"":Mf[re]})]}),Ce&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>be(!1)}),s.jsx("div",{className:"absolute right-0 top-full mt-2 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-20 min-w-[120px]",children:["all","active","inactive","deceased"].map(ze=>s.jsx("button",{onClick:()=>{me(ze),be(!1)},className:`w-full px-4 py-2 text-left hover:bg-slate-50 ${re===ze?"text-primary-500 font-medium":"text-slate-700"}`,children:ze==="all"?"":Mf[ze]},ze))})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>{N(!Ee),be(!1)},className:`btn-secondary flex items-center gap-1 text-sm px-2 py-2 ${ce!=="all"?"ring-2 ring-primary-500":""}`,children:s.jsx("span",{className:"max-w-[60px] truncate",children:ce==="all"?"":d.find(ze=>ze.id===ce)?.name||""})}),Ee&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>N(!1)}),s.jsxs("div",{className:"absolute right-0 top-full mt-2 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-20 min-w-[140px] max-h-64 overflow-auto",children:[s.jsx("button",{onClick:()=>{pe("all"),N(!1)},className:`w-full px-4 py-2 text-left hover:bg-slate-50 ${ce==="all"?"text-primary-500 font-medium":"text-slate-700"}`,children:""}),d.map(ze=>s.jsx("button",{onClick:()=>{pe(ze.id),N(!1)},className:`w-full px-4 py-2 text-left hover:bg-slate-50 ${ce===ze.id?"text-primary-500 font-medium":"text-slate-700"}`,children:ze.name},ze.id))]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>{ue(!je),be(!1),N(!1)},className:`btn-secondary flex items-center gap-1 text-sm px-2 py-2 ${he!=="updated"?"ring-2 ring-primary-500":""}`,children:[s.jsx(Nv,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline max-w-[60px] truncate",children:ru[he]}),s.jsx(Oi,{className:"w-3 h-3"})]}),je&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>ue(!1)}),s.jsx("div",{className:"absolute right-0 top-full mt-2 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-20 min-w-[120px]",children:Object.keys(ru).map(ze=>s.jsx("button",{onClick:()=>{ye(ze),ue(!1)},className:`w-full px-4 py-2 text-left hover:bg-slate-50 ${he===ze?"text-primary-500 font-medium":"text-slate-700"}`,children:ru[ze]},ze))})]})]})]})]}),s.jsxs("div",{className:"text-sm text-slate-500",children:[" ",r.length," ",he!=="updated"&&s.jsxs("span",{className:"text-primary-500 ml-2",children:[" ",ru[he],""]})]}),s.jsx("div",{className:"space-y-2",children:ht.length===0?s.jsxs("div",{className:"card text-center py-12 text-slate-500",children:[s.jsx(Lf,{className:"w-12 h-12 mx-auto mb-4 text-slate-300"}),s.jsx("p",{children:""}),s.jsx("button",{onClick:()=>We(!0),className:"mt-4 text-primary-500 hover:underline",children:""})]}):ht.map(ze=>s.jsx(h1,{patient:ze,cancerTypeName:ne(ze.cancerTypeId),physicianDetails:Be(ze.physicianIds),getDeptName:qe,onView:()=>ke(ze),onEdit:()=>Ge(ze),onDelete:()=>F(ze)},ze.id))}),ft&&s.jsx(Op,{onClose:()=>We(!1),onSuccess:Ue}),xe&&s.jsx(Op,{patient:xe,onClose:()=>Ge(null),onSuccess:Ue}),ve&&s.jsx(o1,{patient:ve,onClose:()=>ke(null),onEdit:()=>{Ge(ve),ke(null)}}),V&&s.jsx(p1,{patientName:V.name,onCancel:()=>F(null),onConfirm:te})]})}function h1({patient:r,cancerTypeName:o,physicianDetails:d,getDeptName:m,onView:j,onEdit:_,onDelete:G}){const[L,C]=q.useState(!1),T=r.sex==="M"?"bg-blue-100 text-blue-600":r.sex==="F"?"bg-pink-100 text-pink-600":"bg-slate-100 text-slate-600",ee=r.sex==="M"?"border-l-4 border-l-blue-400":r.sex==="F"?"border-l-4 border-l-pink-400":"",Y=r.birthDate?Math.floor((new Date().getTime()-new Date(r.birthDate).getTime())/(365.25*24*60*60*1e3)):null;return s.jsx("div",{className:`card hover:shadow-md transition-shadow cursor-pointer ${ee}`,onClick:j,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",children:[s.jsx("span",{className:"text-xs text-slate-500 mb-1 max-w-[50px] truncate",children:o}),s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${T}`,children:s.jsx(Lf,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold text-slate-800 truncate",children:r.name}),Y!==null&&s.jsxs("span",{className:"text-sm text-slate-500",children:[Y,""]}),s.jsx("span",{className:`badge text-xs ${d1[r.status]}`,children:Mf[r.status]})]}),s.jsx("div",{className:"text-sm text-slate-500 mt-0.5",children:r.mrn}),d.length>0&&s.jsx("div",{className:"mt-1.5 space-y-0.5",children:d.map(re=>s.jsxs("div",{className:"flex items-center gap-1.5 text-xs",onClick:me=>me.stopPropagation(),children:[s.jsx(Yr,{className:"w-3 h-3 text-slate-400"}),s.jsx("span",{className:"text-slate-600",children:re.name}),s.jsxs("span",{className:"text-slate-400",children:["(",m(re.departmentId),")"]}),re.phone&&s.jsx("a",{href:`tel:${re.phone}`,className:"text-blue-500 hover:text-blue-600 flex items-center gap-0.5 ml-1",title:"",children:s.jsx(Jp,{className:"w-3 h-3"})})]},re.id))})]}),s.jsxs("div",{className:"relative flex-shrink-0",onClick:re=>re.stopPropagation(),children:[s.jsx("button",{onClick:()=>C(!L),className:"p-1.5 hover:bg-slate-100 rounded-lg",children:s.jsx(xu,{className:"w-5 h-5 text-slate-400"})}),L&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>C(!1)}),s.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-20 min-w-[100px]",children:[s.jsxs("button",{onClick:()=>{C(!1),_()},className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2 text-slate-700",children:[s.jsx(Wn,{className:"w-4 h-4"}),""]}),s.jsxs("button",{onClick:()=>{C(!1),G()},className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2 text-red-600",children:[s.jsx(qn,{className:"w-4 h-4"}),""]})]})]})]})]})})}function p1({patientName:r,onCancel:o,onConfirm:d}){return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full p-6 shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-800",children:""}),s.jsx("button",{onClick:o,className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(Lt,{className:"w-5 h-5"})})]}),s.jsxs("p",{className:"text-slate-600 mb-6",children:["",s.jsx("span",{className:"font-semibold",children:r}),"",s.jsx("br",{}),s.jsx("span",{className:"text-red-500 text-sm",children:""})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:o,className:"flex-1 btn-secondary",children:""}),s.jsx("button",{onClick:d,className:"flex-1 btn-danger",children:""})]})]})})}function y1(){const[r,o]=q.useState([]),[d,m]=q.useState({}),[j,_]=q.useState([]),[G,L]=q.useState(!0),[C,T]=q.useState("today"),[ee,Y]=q.useState("list"),[re,me]=q.useState(0),[ce,pe]=q.useState(0),[Ce,be]=q.useState(0),[Ee,N]=q.useState(0),[je,ue]=q.useState(null),[he,ye]=q.useState(null),{markDataChanged:Ye}=Da(),{setCurrentPage:Ve,setSelectedPatientId:ft}=Ai(),We=I=>{ft(I),Ve("patients")},xe=q.useCallback(async()=>{L(!0);try{const I=await Jf();_(I);let ge;C==="today"?ge=await hp():C==="tomorrow"?ge=await pp():C==="week"?ge=await yp():C==="overdue"?ge=await Ef():C==="completed"?ge=await Cg():ge=await Mi({isCompleted:!1}),o(ge);const Ne=[...new Set(ge.map(qe=>qe.patientId))],b={};for(const qe of Ne){const Ze=await kb(qe);Ze&&(b[qe]=Ze)}m(b);const[R,te,ne,Be]=await Promise.all([hp(),pp(),yp(),Ef()]);me(R.length),pe(te.length),be(ne.length),N(Be.length)}catch(I){we.error(""),console.error(I)}finally{L(!1)}},[C]);q.useEffect(()=>{xe()},[xe]);const Ge=async I=>{if(!(!I.isCompleted&&!confirm(`${I.title}`)))try{await Pp(I.id),we.success(I.isCompleted?"":""),Ye(),xe()}catch{we.error("")}},ve=async()=>{if(he)try{await Fp(he.id),we.success(""),Ye(),ye(null),xe()}catch{we.error("")}},ke=()=>{Ye(),xe()},V=I=>{if(!I)return"-";try{const ge=sl(I);return Sa(ge)?"":hu(ge)?"":Dn(ge,"MM/dd (EEE)",{locale:_a})}catch{return I}},F=I=>{if(!I)return"text-slate-500";try{const ge=sl(I);return Sa(ge)?"text-primary-600 font-semibold":Qf(ge)?"text-red-600 font-semibold":hu(ge)?"text-blue-600":"text-slate-600"}catch{return"text-slate-500"}};return G?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-800",children:""}),s.jsxs("div",{className:"border-b border-slate-200 pb-2",children:[s.jsxs("div",{className:"flex gap-1 mb-1",children:[s.jsx(_i,{active:C==="today",onClick:()=>T("today"),icon:s.jsx(Vp,{className:"w-4 h-4"}),label:"",count:re}),s.jsx(_i,{active:C==="tomorrow",onClick:()=>T("tomorrow"),icon:s.jsx(Zl,{className:"w-4 h-4"}),label:"",count:ce}),s.jsx(_i,{active:C==="week",onClick:()=>T("week"),icon:s.jsx(Gp,{className:"w-4 h-4"}),label:"",count:Ce}),s.jsx(_i,{active:C==="overdue",onClick:()=>T("overdue"),icon:s.jsx(Ta,{className:"w-4 h-4"}),label:"",count:Ee,danger:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx(_i,{active:C==="all",onClick:()=>T("all"),icon:s.jsx(Zl,{className:"w-4 h-4"}),label:""}),s.jsx(_i,{active:C==="completed",onClick:()=>T("completed"),icon:s.jsx(Vl,{className:"w-4 h-4"}),label:""})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>Y("list"),className:`p-2 rounded-lg ${ee==="list"?"bg-primary-100 text-primary-600":"text-slate-400 hover:bg-slate-100"}`,title:"",children:s.jsx(Zp,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Y("gantt"),className:`p-2 rounded-lg ${ee==="gantt"?"bg-primary-100 text-primary-600":"text-slate-400 hover:bg-slate-100"}`,title:"",children:s.jsx(Ev,{className:"w-4 h-4"})})]})]})]}),ee==="list"?s.jsx("div",{className:"space-y-2",children:r.length===0?s.jsxs("div",{className:"card text-center py-12 text-slate-500",children:[s.jsx(Vl,{className:"w-12 h-12 mx-auto mb-4 text-green-400"}),s.jsxs("p",{children:[C==="today"&&" ",C==="tomorrow"&&"",C==="week"&&"",C==="overdue"&&" ",C==="all"&&"",C==="completed"&&""]})]}):r.map(I=>s.jsx(v1,{event:I,patient:d[I.patientId],eventTypes:j,onToggleComplete:()=>Ge(I),onEdit:()=>ue(I),onDelete:()=>ye(I),onPatientClick:We,formatDueDate:V,getDueDateColor:F},I.id))}):s.jsx(x1,{events:r,patientMap:d,eventTypes:j,onEventClick:I=>ue(I)}),je&&s.jsx(Of,{event:je,onClose:()=>ue(null),onSuccess:ke}),he&&s.jsx(g1,{eventTitle:he.title,onCancel:()=>ye(null),onConfirm:ve})]})}function _i({active:r,onClick:o,icon:d,label:m,count:j,danger:_}){return s.jsxs("button",{onClick:o,className:`
        flex items-center gap-1 px-2 py-1.5 text-sm font-medium
        rounded-lg transition-colors whitespace-nowrap
        ${r?"bg-primary-100 text-primary-600":"text-slate-500 hover:bg-slate-100 hover:text-slate-700"}
      `,children:[d,s.jsx("span",{className:"hidden sm:inline",children:m}),s.jsx("span",{className:"sm:hidden",children:m}),j!==void 0&&j>0&&s.jsx("span",{className:`
          ml-0.5 px-1.5 py-0.5 text-xs rounded-full
          ${_?"bg-red-100 text-red-700":"bg-slate-200 text-slate-600"}
        `,children:j})]})}function v1({event:r,patient:o,eventTypes:d,onToggleComplete:m,onEdit:j,onDelete:_,onPatientClick:G,formatDueDate:L,getDueDateColor:C}){const[T,ee]=q.useState(!1),Y=d.find(ce=>ce.code===r.eventType),re=Y&&yu[Y.color]||"bg-slate-100 text-slate-700",me=Y?.name||r.eventType;return s.jsx("div",{className:`card ${r.isCompleted?"opacity-60":""}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("button",{onClick:m,className:`
            mt-0.5 w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0
            transition-colors
            ${r.isCompleted?"bg-green-500 border-green-500 text-white":"border-slate-300 hover:border-primary-500"}
          `,children:r.isCompleted&&s.jsx(rn,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:`badge text-xs ${re}`,children:me}),s.jsx("span",{className:`text-sm ${C(r.dueDate)}`,children:L(r.dueDate)})]}),s.jsx("p",{className:`font-medium text-slate-800 mt-1 ${r.isCompleted?"line-through":""}`,children:r.title}),o&&s.jsxs("button",{onClick:()=>G?.(r.patientId),className:"text-sm text-primary-500 hover:text-primary-600 hover:underline mt-0.5 text-left",children:[o.name," (",o.mrn,")"]}),r.note&&s.jsx("p",{className:"text-sm text-slate-400 mt-1 line-clamp-1",children:r.note})]}),s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("button",{onClick:()=>ee(!T),className:"p-2 hover:bg-slate-100 rounded-lg",children:s.jsx(xu,{className:"w-5 h-5 text-slate-400"})}),T&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>ee(!1)}),s.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-20 min-w-[100px]",children:[s.jsxs("button",{onClick:()=>{ee(!1),j()},className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2 text-slate-700",children:[s.jsx(Wn,{className:"w-4 h-4"}),""]}),s.jsxs("button",{onClick:()=>{ee(!1),_()},className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2 text-red-600",children:[s.jsx(qn,{className:"w-4 h-4"}),""]})]})]})]})]})})}function g1({eventTitle:r,onCancel:o,onConfirm:d}){return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full p-6 shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-800",children:""}),s.jsx("button",{onClick:o,className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(Lt,{className:"w-5 h-5"})})]}),s.jsxs("p",{className:"text-slate-600 mb-6",children:["",s.jsx("span",{className:"font-semibold",children:r}),""]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:o,className:"flex-1 btn-secondary",children:""}),s.jsx("button",{onClick:d,className:"flex-1 btn-danger",children:""})]})]})})}function x1({events:r,patientMap:o,eventTypes:d,onEventClick:m}){const[j,_]=q.useState(new Date),G=o0(j),L=c0(j),C=new Date(G);C.setDate(C.getDate()-C.getDay());const T=new Date(L);T.setDate(T.getDate()+(6-T.getDay()));const ee=u0({start:C,end:T}),Y=q.useMemo(()=>{const ce={};return r.forEach(pe=>{if(!pe.dueDate)return;const Ce=pe.dueDate;ce[Ce]||(ce[Ce]=[]),ce[Ce].push(pe)}),ce},[r]),re=ce=>{const pe=d.find(be=>be.code===ce);return pe&&{purple:"bg-purple-500",blue:"bg-blue-500",red:"bg-red-500",orange:"bg-orange-500",teal:"bg-teal-500",green:"bg-green-500",pink:"bg-pink-500",amber:"bg-amber-500",slate:"bg-slate-500",indigo:"bg-indigo-500",cyan:"bg-cyan-500",emerald:"bg-emerald-500",violet:"bg-violet-500",lime:"bg-lime-500",sky:"bg-sky-500",rose:"bg-rose-500"}[pe.color]||"bg-slate-400"},me=["","","","","","",""];return s.jsxs("div",{className:"card overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-slate-50",children:[s.jsx("button",{onClick:()=>_(p0(j)),className:"px-3 py-1 hover:bg-slate-200 rounded",children:""}),s.jsx("h3",{className:"font-semibold text-slate-800",children:Dn(j,"yyyy M",{locale:_a})}),s.jsx("button",{onClick:()=>_(Xf(j,1)),className:"px-3 py-1 hover:bg-slate-200 rounded",children:""})]}),s.jsx("div",{className:"grid grid-cols-7 border-b",children:me.map((ce,pe)=>s.jsx("div",{className:`p-2 text-center text-xs font-medium ${pe===0||pe===6?"text-red-500":"text-slate-500"}`,children:ce},ce))}),s.jsx("div",{className:"grid grid-cols-7",children:ee.map((ce,pe)=>{const Ce=Dn(ce,"yyyy-MM-dd"),be=Y[Ce]||[],Ee=ce.getMonth()===j.getMonth(),N=Sa(ce),je=ce.getDay()===0||ce.getDay()===6;return s.jsxs("div",{className:`
                min-h-[80px] border-b border-r p-1
                ${Ee?"":"bg-slate-50 opacity-50"}
                ${je&&Ee?"bg-red-50/30":""}
              `,children:[s.jsx("div",{className:`
                text-xs text-right mb-1
                ${N?"bg-primary-500 text-white rounded-full w-6 h-6 flex items-center justify-center ml-auto":""}
                ${je&&!N?"text-red-500":"text-slate-500"}
              `,children:Dn(ce,"d")}),s.jsxs("div",{className:"space-y-0.5",children:[be.slice(0,3).map(ue=>{const he=o[ue.patientId];return s.jsxs("div",{onClick:()=>m(ue),className:`
                        text-[10px] px-1 py-0.5 rounded cursor-pointer truncate
                        ${re(ue.eventType)} text-white
                        ${ue.isCompleted?"opacity-40 line-through":""}
                        hover:opacity-80
                      `,title:`${he?.name||""} - ${ue.title}`,children:[he?.name?.slice(0,2)||""," ",ue.title]},ue.id)}),be.length>3&&s.jsxs("div",{className:"text-[10px] text-slate-400 text-center",children:["+",be.length-3," "]})]})]},pe)})}),s.jsx("div",{className:"p-3 border-t bg-slate-50",children:s.jsx("div",{className:"flex flex-wrap gap-3 text-xs",children:d.slice(0,8).map(ce=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:`w-3 h-3 rounded ${re(ce.code)}`}),s.jsx("span",{className:"text-slate-600",children:ce.name})]},ce.id))})})]})}function b1(){const[r,o]=q.useState([]),[d,m]=q.useState([]),[j,_]=q.useState([]),[G,L]=q.useState(!0),[C,T]=q.useState("upcoming"),[ee,Y]=q.useState("list"),[re,me]=q.useState(!1),[ce,pe]=q.useState(null),[Ce,be]=q.useState(null),[Ee,N]=q.useState(new Date),{markDataChanged:je}=Da(),ue=q.useCallback(async()=>{L(!0);try{const[ve,ke,V]=await Promise.all([e0(ee==="calendar"?void 0:C==="completed"?{isCompleted:!0}:C==="upcoming"?{isCompleted:!1}:void 0),x0(),b0()]);o(ve),m(ke),_(V)}finally{L(!1)}},[C,ee]);q.useEffect(()=>{ue()},[ue]);const he=async ve=>{!ve.isCompleted&&!confirm(`${ve.title}`)||(await kg(ve.id),we.success(ve.isCompleted?"":""),je(),ue())},ye=async()=>{Ce&&(await Mg(Ce.id),we.success(""),be(null),je(),ue())},Ye=ve=>ve&&d.find(V=>V.id===ve)?.name||"",Ve=ve=>{if(!ve)return"bg-slate-100 text-slate-700";const ke=d.find(V=>V.id===ve);return ke&&yu[ke.color]||"bg-slate-100 text-slate-700"},ft=ve=>{const ke=sl(ve);return Sa(ke)?"":hu(ke)?"":Dn(ke,"MM/dd (EEE)",{locale:_a})},We=(ve,ke)=>{if(ke)return"text-slate-400";const V=sl(ve);return Qf(V)&&!Sa(V)?"text-red-500":Sa(V)?"text-green-600":hu(V)?"text-blue-500":"text-slate-500"},xe=q.useMemo(()=>{const ve=o0(Ee),ke=c0(Ee);return u0({start:ve,end:ke})},[Ee]),Ge=ve=>{const ke=Dn(ve,"yyyy-MM-dd");return r.filter(V=>V.scheduledDate===ke)};return s.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(As,{className:"w-6 h-6 text-primary-500"}),""]}),s.jsxs("button",{onClick:()=>me(!0),className:"btn-primary flex items-center gap-1",children:[s.jsx(la,{className:"w-4 h-4"})," "]})]}),s.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Tf,{active:C==="upcoming",onClick:()=>{T("upcoming"),Y("list")},label:""}),s.jsx(Tf,{active:C==="completed",onClick:()=>{T("completed"),Y("list")},label:""}),s.jsx(Tf,{active:C==="all",onClick:()=>{T("all"),Y("list")},label:""})]}),s.jsxs("div",{className:"flex gap-1 pb-2",children:[s.jsx("button",{onClick:()=>Y("list"),className:`p-2 rounded ${ee==="list"?"bg-primary-100 text-primary-600":"text-slate-400 hover:bg-slate-100"}`,children:s.jsx(Zp,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>Y("calendar"),className:`p-2 rounded ${ee==="calendar"?"bg-primary-100 text-primary-600":"text-slate-400 hover:bg-slate-100"}`,children:s.jsx(Gp,{className:"w-5 h-5"})})]})]}),ee==="list"?s.jsx("div",{className:"space-y-3",children:G?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):r.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(As,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),s.jsx("p",{children:C==="upcoming"?"":C==="completed"?"":""})]}):r.map(ve=>s.jsx(w1,{item:ve,typeName:Ye(ve.meetingTypeId),typeColor:Ve(ve.meetingTypeId),formatDate:ft,getDateColor:We,onToggleComplete:()=>he(ve),onEdit:()=>pe(ve),onDelete:()=>be(ve)},ve.id))}):s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("button",{onClick:()=>N(p0(Ee)),className:"p-2 hover:bg-slate-100 rounded",children:s.jsx(Qp,{className:"w-5 h-5"})}),s.jsx("h3",{className:"text-lg font-semibold",children:Dn(Ee,"yyyy  M ",{locale:_a})}),s.jsx("button",{onClick:()=>N(Xf(Ee,1)),className:"p-2 hover:bg-slate-100 rounded",children:s.jsx(Lr,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["","","","","","",""].map(ve=>s.jsx("div",{className:"text-center text-sm font-medium text-slate-500 py-1",children:ve},ve))}),s.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:Yx(xe[0])}).map((ve,ke)=>s.jsx("div",{className:"min-h-[80px]"},`empty-${ke}`)),xe.map(ve=>{const ke=Ge(ve),V=Sa(ve);return s.jsxs("div",{className:`min-h-[80px] border rounded p-1 ${V?"border-primary-500 bg-primary-50":"border-slate-200"}`,children:[s.jsx("div",{className:`text-sm font-medium mb-1 ${V?"text-primary-600":"text-slate-700"}`,children:Dn(ve,"d")}),s.jsxs("div",{className:"space-y-0.5",children:[ke.slice(0,3).map(F=>s.jsxs("button",{onClick:()=>pe(F),className:`w-full text-left text-xs px-1 py-0.5 rounded truncate ${Ve(F.meetingTypeId)} ${F.isCompleted?"opacity-50 line-through":""}`,children:[F.scheduledTime&&s.jsxs("span",{className:"font-medium",children:[F.scheduledTime.slice(0,5)," "]}),Ye(F.meetingTypeId)]},F.id)),ke.length>3&&s.jsxs("div",{className:"text-xs text-slate-400 px-1",children:["+",ke.length-3," "]})]})]},ve.toISOString())})]})]}),(re||ce)&&s.jsx(j1,{item:ce||void 0,meetingTypes:d,meetingLocations:j,onClose:()=>{me(!1),pe(null)},onSuccess:()=>{me(!1),pe(null),je(),ue()}}),Ce&&s.jsx(N1,{title:Ce.title,onCancel:()=>be(null),onConfirm:ye})]})}function Tf({active:r,onClick:o,label:d}){return s.jsx("button",{onClick:o,className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${r?"border-primary-500 text-primary-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:d})}function w1({item:r,typeName:o,typeColor:d,formatDate:m,getDateColor:j,onToggleComplete:_,onEdit:G,onDelete:L}){const[C,T]=q.useState(!1);return s.jsx("div",{className:`card ${r.isCompleted?"opacity-60":""}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("button",{onClick:_,className:`mt-1 w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${r.isCompleted?"bg-green-500 border-green-500":"border-slate-300 hover:border-primary-500"}`,children:r.isCompleted&&s.jsx(rn,{className:"w-3 h-3 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${d}`,children:o}),s.jsxs("span",{className:`text-sm font-medium ${j(r.scheduledDate,r.isCompleted)}`,children:[m(r.scheduledDate),r.scheduledTime&&` ${r.scheduledTime}`]})]}),s.jsx("p",{className:`mt-1 font-medium ${r.isCompleted?"line-through text-slate-400":"text-slate-800"}`,children:r.title}),r.description&&s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:r.description}),r.location&&s.jsxs("p",{className:"text-xs text-slate-400 mt-1 flex items-center gap-1",children:[s.jsx(Yf,{className:"w-3 h-3"})," ",r.location]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>T(!C),className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(xu,{className:"w-5 h-5 text-slate-400"})}),C&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>T(!1)}),s.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white rounded-lg shadow-lg border py-1 z-20 min-w-[100px]",children:[s.jsxs("button",{onClick:()=>{T(!1),G()},className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2 text-slate-700",children:[s.jsx(Wn,{className:"w-4 h-4"})," "]}),s.jsxs("button",{onClick:()=>{T(!1),L()},className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2 text-red-600",children:[s.jsx(qn,{className:"w-4 h-4"})," "]})]})]})]})]})})}function j1({item:r,meetingTypes:o,meetingLocations:d,onClose:m,onSuccess:j}){const _=!!r,[G,L]=q.useState(!1),[C,T]=q.useState(r?.meetingTypeId),[ee,Y]=q.useState(r?.title||""),[re,me]=q.useState(r?.scheduledDate||new Date().toISOString().split("T")[0]),[ce,pe]=q.useState(r?.scheduledTime||""),[Ce,be]=q.useState(r?.locationId),Ee=async N=>{if(N.preventDefault(),!C){we.error("");return}const je=o.find(ye=>ye.id===C),ue=ee.trim()||je?.name||"",he=d.find(ye=>ye.id===Ce);L(!0);try{_&&r?.id?(await Og(r.id,{meetingTypeId:C,title:ue,scheduledDate:re,scheduledTime:ce||void 0,locationId:Ce,location:he?.name}),we.success("")):(await Ag({meetingTypeId:C,title:ue,scheduledDate:re,scheduledTime:ce||void 0,locationId:Ce,location:he?.name}),we.success("")),j()}catch{we.error("")}finally{L(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-800",children:_?"":""}),s.jsx("button",{onClick:m,className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(Lt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:Ee,className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"label",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:C||"",onChange:N=>T(N.target.value?Number(N.target.value):void 0),className:"input",children:[s.jsx("option",{value:"",children:"--  --"}),o.map(N=>s.jsx("option",{value:N.id,children:N.name},N.id))]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"label",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:re,onChange:N=>me(N.target.value),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:""}),s.jsx("div",{className:"flex gap-1",children:s.jsx("input",{type:"time",value:ce,onChange:N=>pe(N.target.value),className:"input flex-1"})}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx("button",{type:"button",onClick:()=>pe("07:30"),className:"px-2 py-1 text-xs bg-slate-100 hover:bg-slate-200 rounded",children:"7:30"}),s.jsx("button",{type:"button",onClick:()=>pe("12:30"),className:"px-2 py-1 text-xs bg-slate-100 hover:bg-slate-200 rounded",children:"12:30"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:""}),s.jsxs("select",{value:Ce||"",onChange:N=>be(N.target.value?Number(N.target.value):void 0),className:"input",children:[s.jsx("option",{value:"",children:"--  --"}),d.map(N=>s.jsx("option",{value:N.id,children:N.name},N.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:""}),s.jsx("textarea",{value:ee,onChange:N=>Y(N.target.value),className:"input min-h-[60px] resize-none",placeholder:"..."})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{type:"button",onClick:m,className:"flex-1 btn-secondary",disabled:G,children:""}),s.jsx("button",{type:"submit",className:"flex-1 btn-primary",disabled:G,children:G?"...":""})]})]})]})})}function N1({title:r,onCancel:o,onConfirm:d}){return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full shadow-xl p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:""}),s.jsxs("p",{className:"text-slate-600 mb-6",children:["",r,""]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:o,className:"flex-1 btn-secondary",children:""}),s.jsx("button",{onClick:d,className:"flex-1 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600",children:""})]})]})})}function S1(){const[r,o]=q.useState("cancer"),{markDataChanged:d}=Da();return s.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-800",children:""}),s.jsxs("div",{className:"flex gap-1 border-b border-slate-200 overflow-x-auto pb-1",children:[s.jsx(Di,{active:r==="cancer",onClick:()=>o("cancer"),icon:s.jsx(wv,{className:"w-4 h-4"}),label:""}),s.jsx(Di,{active:r==="department",onClick:()=>o("department"),icon:s.jsx(Xp,{className:"w-4 h-4"}),label:"/"}),s.jsx(Di,{active:r==="imaging",onClick:()=>o("imaging"),icon:s.jsx($v,{className:"w-4 h-4"}),label:""}),s.jsx(Di,{active:r==="eventType",onClick:()=>o("eventType"),icon:s.jsx(Zl,{className:"w-4 h-4"}),label:""}),s.jsx(Di,{active:r==="meetingType",onClick:()=>o("meetingType"),icon:s.jsx(As,{className:"w-4 h-4"}),label:""}),s.jsx(Di,{active:r==="meetingLocation",onClick:()=>o("meetingLocation"),icon:s.jsx(Yf,{className:"w-4 h-4"}),label:""})]}),r==="cancer"&&s.jsx(T1,{onDataChange:d}),r==="department"&&s.jsx(_1,{onDataChange:d}),r==="imaging"&&s.jsx(D1,{onDataChange:d}),r==="eventType"&&s.jsx(C1,{onDataChange:d}),r==="meetingType"&&s.jsx(E1,{onDataChange:d}),r==="meetingLocation"&&s.jsx(A1,{onDataChange:d})]})}function Di({active:r,onClick:o,icon:d,label:m}){return s.jsxs("button",{onClick:o,className:`flex items-center gap-1.5 px-3 py-2 text-sm font-medium rounded-t-lg whitespace-nowrap transition-colors ${r?"bg-primary-50 text-primary-600 border-b-2 border-primary-500":"text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:[d,m]})}function zi(){return s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})})}function Bi({index:r,total:o,onMoveUp:d,onMoveDown:m}){return s.jsxs("div",{className:"flex flex-col",children:[s.jsx("button",{onClick:d,disabled:r===0,className:"p-0.5 hover:bg-slate-100 rounded disabled:opacity-30",children:s.jsx(gu,{className:"w-4 h-4 text-slate-400"})}),s.jsx("button",{onClick:m,disabled:r===o-1,className:"p-0.5 hover:bg-slate-100 rounded disabled:opacity-30",children:s.jsx(Oi,{className:"w-4 h-4 text-slate-400"})})]})}function T1({onDataChange:r}){const[o,d]=q.useState([]),[m,j]=q.useState(!0),[_,G]=q.useState(null),[L,C]=q.useState({code:"",name:""}),[T,ee]=q.useState(!1),[Y,re]=q.useState({code:"",name:""}),me=async()=>{d(await Zf(!0)),j(!1)};q.useEffect(()=>{me()},[]);const ce=async()=>{if(!Y.name.trim()){we.error("");return}await Hb({code:Y.code.trim()||Y.name.trim().substring(0,3).toUpperCase(),name:Y.name.trim()}),we.success(""),ee(!1),re({code:"",name:""}),r(),me()},pe=async N=>{if(!L.name.trim()){we.error("");return}await Tp(N,{code:L.code.trim(),name:L.name.trim()}),we.success(""),G(null),r(),me()},Ce=async N=>{confirm("")&&(await Yb(N),we.success(""),r(),me())},be=async N=>{await Tp(N.id,{isActive:!N.isActive}),we.success(N.isActive?"":""),r(),me()},Ee=async(N,je)=>{const ue=je==="up"?N-1:N+1;if(ue<0||ue>=o.length)return;const he=[...o];[he[N],he[ue]]=[he[ue],he[N]],d(he),await Lb(he.map(ye=>ye.id)),r()};return m?s.jsx(zi,{}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-slate-500",children:"  "}),!T&&s.jsxs("button",{onClick:()=>ee(!0),className:"btn-primary text-sm flex items-center gap-1",children:[s.jsx(la,{className:"w-4 h-4"})," "]})]}),T&&s.jsxs("div",{className:"card flex flex-col sm:flex-row gap-2",children:[s.jsx("input",{type:"text",placeholder:"",value:Y.name,onChange:N=>re({...Y,name:N.target.value}),className:"input flex-1",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:ce,className:"btn-primary",children:s.jsx(rn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{ee(!1),re({code:"",name:""})},className:"btn-secondary",children:s.jsx(Lt,{className:"w-4 h-4"})})]})]}),o.map((N,je)=>s.jsxs("div",{className:`card flex items-center gap-2 ${N.isActive?"":"opacity-50"}`,children:[s.jsx(Bi,{index:je,total:o.length,onMoveUp:()=>Ee(je,"up"),onMoveDown:()=>Ee(je,"down")}),_===N.id?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"text",value:L.name,onChange:ue=>C({...L,name:ue.target.value}),className:"input flex-1"}),s.jsx("button",{onClick:()=>pe(N.id),className:"btn-primary p-2",children:s.jsx(rn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>G(null),className:"btn-secondary p-2",children:s.jsx(Lt,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"flex-1 text-slate-700 truncate",children:N.name}),!N.isActive&&s.jsx("span",{className:"text-xs text-slate-400",children:"()"}),s.jsx("button",{onClick:()=>be(N),className:"text-xs text-slate-500 hover:text-slate-700",children:N.isActive?"":""}),s.jsx("button",{onClick:()=>{G(N.id),C({code:N.code,name:N.name})},className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(Wn,{className:"w-4 h-4 text-slate-400"})}),s.jsx("button",{onClick:()=>Ce(N.id),className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(qn,{className:"w-4 h-4 text-red-400"})})]})]},N.id))]})}function _1({onDataChange:r}){const[o,d]=q.useState([]),[m,j]=q.useState({}),[_,G]=q.useState(!0),[L,C]=q.useState(null),[T,ee]=q.useState(null),[Y,re]=q.useState(""),[me,ce]=q.useState(!1),[pe,Ce]=q.useState(""),[be,Ee]=q.useState(null),[N,je]=q.useState({name:"",phone:""}),[ue,he]=q.useState(null),[ye,Ye]=q.useState({name:"",phone:""}),Ve=async()=>{const I=await wu(!0);d(I);const ge={};for(const Ne of I)Ne.id&&(ge[Ne.id]=await Af(Ne.id,!0));j(ge),G(!1)};q.useEffect(()=>{Ve()},[]);const ft=async()=>{if(!pe.trim()){we.error("");return}await Kb({name:pe.trim()}),we.success(""),ce(!1),Ce(""),r(),Ve()},We=async I=>{if(!Y.trim()){we.error("");return}await Xb(I,{name:Y.trim()}),we.success(""),ee(null),r(),Ve()},xe=async I=>{confirm("")&&(await Gb(I),we.success(""),r(),Ve())},Ge=async(I,ge)=>{const Ne=ge==="up"?I-1:I+1;if(Ne<0||Ne>=o.length)return;const b=[...o];[b[I],b[Ne]]=[b[Ne],b[I]],d(b),await Qb(b.map(R=>R.id)),r()},ve=async I=>{if(!ye.name.trim()){we.error("");return}await Vb({name:ye.name.trim(),departmentId:I,phone:ye.phone.trim()||void 0}),we.success(""),he(null),Ye({name:"",phone:""}),r(),Ve()},ke=async I=>{if(!N.name.trim()){we.error("");return}await _p(I,{name:N.name.trim(),phone:N.phone.trim()||void 0}),we.success(""),Ee(null),r(),Ve()},V=async I=>{confirm("")&&(await Zb(I),we.success(""),r(),Ve())},F=async I=>{await _p(I.id,{isActive:!I.isActive}),we.success(I.isActive?"":""),r(),Ve()};return _?s.jsx(zi,{}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-slate-500",children:""}),!me&&s.jsxs("button",{onClick:()=>ce(!0),className:"btn-primary text-sm flex items-center gap-1",children:[s.jsx(la,{className:"w-4 h-4"})," "]})]}),me&&s.jsxs("div",{className:"card flex flex-col sm:flex-row gap-2",children:[s.jsx("input",{type:"text",placeholder:"",value:pe,onChange:I=>Ce(I.target.value),className:"input flex-1",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:ft,className:"btn-primary",children:s.jsx(rn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{ce(!1),Ce("")},className:"btn-secondary",children:s.jsx(Lt,{className:"w-4 h-4"})})]})]}),o.map((I,ge)=>s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bi,{index:ge,total:o.length,onMoveUp:()=>Ge(ge,"up"),onMoveDown:()=>Ge(ge,"down")}),s.jsx("button",{onClick:()=>C(L===I.id?null:I.id),className:"p-1",children:L===I.id?s.jsx(Oi,{className:"w-4 h-4"}):s.jsx(Lr,{className:"w-4 h-4"})}),T===I.id?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"text",value:Y,onChange:Ne=>re(Ne.target.value),className:"input flex-1"}),s.jsx("button",{onClick:()=>We(I.id),className:"btn-primary p-2",children:s.jsx(rn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ee(null),className:"btn-secondary p-2",children:s.jsx(Lt,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Xp,{className:"w-4 h-4 text-primary-500"}),s.jsx("span",{className:"flex-1 font-medium text-slate-800",children:I.name}),s.jsxs("span",{className:"text-xs text-slate-400",children:[m[I.id]?.length||0," "]}),s.jsx("button",{onClick:()=>{ee(I.id),re(I.name)},className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(Wn,{className:"w-4 h-4 text-slate-400"})}),s.jsx("button",{onClick:()=>xe(I.id),className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(qn,{className:"w-4 h-4 text-red-400"})})]})]}),L===I.id&&s.jsxs("div",{className:"mt-3 ml-8 space-y-2 border-l-2 border-slate-100 pl-4",children:[m[I.id]?.map(Ne=>s.jsx("div",{className:`flex items-center gap-2 py-2 ${Ne.isActive?"":"opacity-50"}`,children:be===Ne.id?s.jsxs(s.Fragment,{children:[s.jsx(Yr,{className:"w-4 h-4 text-slate-400"}),s.jsx("input",{type:"text",placeholder:"",value:N.name,onChange:b=>je({...N,name:b.target.value}),className:"input w-24"}),s.jsx("input",{type:"text",placeholder:"",value:N.phone,onChange:b=>je({...N,phone:b.target.value}),className:"input w-32"}),s.jsx("button",{onClick:()=>ke(Ne.id),className:"btn-primary p-1.5",children:s.jsx(rn,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>Ee(null),className:"btn-secondary p-1.5",children:s.jsx(Lt,{className:"w-3 h-3"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Yr,{className:"w-4 h-4 text-slate-400"}),s.jsx("span",{className:"flex-1 text-slate-700",children:Ne.name}),Ne.phone&&s.jsxs("span",{className:"text-xs text-slate-400 flex items-center gap-1",children:[s.jsx(Jp,{className:"w-3 h-3"}),Ne.phone]}),!Ne.isActive&&s.jsx("span",{className:"text-xs text-slate-400",children:"()"}),s.jsx("button",{onClick:()=>F(Ne),className:"text-xs text-slate-500 hover:text-slate-700",children:Ne.isActive?"":""}),s.jsx("button",{onClick:()=>{Ee(Ne.id),je({name:Ne.name,phone:Ne.phone||""})},className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(Wn,{className:"w-3 h-3 text-slate-400"})}),s.jsx("button",{onClick:()=>V(Ne.id),className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(qn,{className:"w-3 h-3 text-red-400"})})]})},Ne.id)),ue===I.id?s.jsxs("div",{className:"flex items-center gap-2 py-2",children:[s.jsx(Yr,{className:"w-4 h-4 text-slate-400"}),s.jsx("input",{type:"text",placeholder:"",value:ye.name,onChange:Ne=>Ye({...ye,name:Ne.target.value}),className:"input w-24",autoFocus:!0}),s.jsx("input",{type:"text",placeholder:"",value:ye.phone,onChange:Ne=>Ye({...ye,phone:Ne.target.value}),className:"input w-32"}),s.jsx("button",{onClick:()=>ve(I.id),className:"btn-primary p-1.5",children:s.jsx(rn,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>{he(null),Ye({name:"",phone:""})},className:"btn-secondary p-1.5",children:s.jsx(Lt,{className:"w-3 h-3"})})]}):s.jsxs("button",{onClick:()=>he(I.id),className:"text-sm text-primary-500 hover:text-primary-600 flex items-center gap-1 py-2",children:[s.jsx(la,{className:"w-4 h-4"})," "]})]})]},I.id))]})}function D1({onDataChange:r}){const[o,d]=q.useState([]),[m,j]=q.useState(!0),[_,G]=q.useState(null),[L,C]=q.useState({code:"",name:""}),[T,ee]=q.useState(!1),[Y,re]=q.useState({code:"",name:""}),me=async()=>{d(await Jb(!0)),j(!1)};q.useEffect(()=>{me()},[]);const ce=async()=>{if(!Y.name.trim()){we.error("");return}await Ib({code:Y.code.trim()||Y.name.trim().substring(0,4).toUpperCase(),name:Y.name.trim()}),we.success(""),ee(!1),re({code:"",name:""}),r(),me()},pe=async N=>{if(!L.name.trim()){we.error("");return}await Dp(N,{code:L.code.trim(),name:L.name.trim()}),we.success(""),G(null),r(),me()},Ce=async N=>{confirm("")&&(await $b(N),we.success(""),r(),me())},be=async N=>{await Dp(N.id,{isActive:!N.isActive}),we.success(N.isActive?"":""),r(),me()},Ee=async(N,je)=>{const ue=je==="up"?N-1:N+1;if(ue<0||ue>=o.length)return;const he=[...o];[he[N],he[ue]]=[he[ue],he[N]],d(he),await Wb(he.map(ye=>ye.id)),r()};return m?s.jsx(zi,{}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-slate-500",children:"  "}),!T&&s.jsxs("button",{onClick:()=>ee(!0),className:"btn-primary text-sm flex items-center gap-1",children:[s.jsx(la,{className:"w-4 h-4"})," "]})]}),T&&s.jsxs("div",{className:"card flex flex-col sm:flex-row gap-2",children:[s.jsx("input",{type:"text",placeholder:"",value:Y.code,onChange:N=>re({...Y,code:N.target.value}),className:"input w-24"}),s.jsx("input",{type:"text",placeholder:"",value:Y.name,onChange:N=>re({...Y,name:N.target.value}),className:"input flex-1",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:ce,className:"btn-primary",children:s.jsx(rn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{ee(!1),re({code:"",name:""})},className:"btn-secondary",children:s.jsx(Lt,{className:"w-4 h-4"})})]})]}),o.map((N,je)=>s.jsxs("div",{className:`card flex items-center gap-2 ${N.isActive?"":"opacity-50"}`,children:[s.jsx(Bi,{index:je,total:o.length,onMoveUp:()=>Ee(je,"up"),onMoveDown:()=>Ee(je,"down")}),_===N.id?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"text",value:L.code,onChange:ue=>C({...L,code:ue.target.value}),className:"input w-24"}),s.jsx("input",{type:"text",value:L.name,onChange:ue=>C({...L,name:ue.target.value}),className:"input flex-1"}),s.jsx("button",{onClick:()=>pe(N.id),className:"btn-primary p-2",children:s.jsx(rn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>G(null),className:"btn-secondary p-2",children:s.jsx(Lt,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-mono text-primary-600 w-16",children:N.code}),s.jsx("span",{className:"flex-1 text-slate-700 truncate",children:N.name}),!N.isActive&&s.jsx("span",{className:"text-xs text-slate-400",children:"()"}),s.jsx("button",{onClick:()=>be(N),className:"text-xs text-slate-500 hover:text-slate-700",children:N.isActive?"":""}),s.jsx("button",{onClick:()=>{G(N.id),C({code:N.code,name:N.name})},className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(Wn,{className:"w-4 h-4 text-slate-400"})}),s.jsx("button",{onClick:()=>Ce(N.id),className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(qn,{className:"w-4 h-4 text-red-400"})})]})]},N.id))]})}const pu=["purple","blue","red","orange","teal","indigo","cyan","amber","pink","emerald","violet","lime","sky","rose","slate","green","yellow"];function C1({onDataChange:r}){const[o,d]=q.useState([]),[m,j]=q.useState(!0),[_,G]=q.useState(null),[L,C]=q.useState({code:"",name:"",color:"blue"}),[T,ee]=q.useState(!1),[Y,re]=q.useState({code:"",name:"",color:"blue"}),me=async()=>{d(await Jf(!0)),j(!1)};q.useEffect(()=>{me()},[]);const ce=async()=>{if(!Y.name.trim()){we.error("");return}await Fb({code:Y.code.trim()||Y.name.trim(),name:Y.name.trim(),color:Y.color}),we.success(""),ee(!1),re({code:"",name:"",color:"blue"}),r(),me()},pe=async N=>{if(!L.name.trim()){we.error("");return}await Cp(N,{code:L.code.trim(),name:L.name.trim(),color:L.color}),we.success(""),G(null),r(),me()},Ce=async N=>{confirm("")&&(await Pb(N),we.success(""),r(),me())},be=async N=>{await Cp(N.id,{isActive:!N.isActive}),we.success(N.isActive?"":""),r(),me()},Ee=async(N,je)=>{const ue=je==="up"?N-1:N+1;if(ue<0||ue>=o.length)return;const he=[...o];[he[N],he[ue]]=[he[ue],he[N]],d(he),await e1(he.map(ye=>ye.id)),r()};return m?s.jsx(zi,{}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-slate-500",children:"  "}),!T&&s.jsxs("button",{onClick:()=>ee(!0),className:"btn-primary text-sm flex items-center gap-1",children:[s.jsx(la,{className:"w-4 h-4"})," "]})]}),T&&s.jsxs("div",{className:"card flex flex-col sm:flex-row gap-2",children:[s.jsx("input",{type:"text",placeholder:"",value:Y.name,onChange:N=>re({...Y,name:N.target.value}),className:"input flex-1",autoFocus:!0}),s.jsx("select",{value:Y.color,onChange:N=>re({...Y,color:N.target.value}),className:"input w-32",children:pu.map(N=>s.jsx("option",{value:N,children:N},N))}),s.jsx("button",{onClick:ce,className:"btn-primary",children:s.jsx(rn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{ee(!1),re({code:"",name:"",color:"blue"})},className:"btn-secondary",children:s.jsx(Lt,{className:"w-4 h-4"})})]}),o.map((N,je)=>s.jsxs("div",{className:`card flex items-center gap-2 ${N.isActive?"":"opacity-50"}`,children:[s.jsx(Bi,{index:je,total:o.length,onMoveUp:()=>Ee(je,"up"),onMoveDown:()=>Ee(je,"down")}),_===N.id?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"text",value:L.name,onChange:ue=>C({...L,name:ue.target.value}),className:"input flex-1"}),s.jsx("select",{value:L.color,onChange:ue=>C({...L,color:ue.target.value}),className:"input w-32",children:pu.map(ue=>s.jsx("option",{value:ue,children:ue},ue))}),s.jsx("button",{onClick:()=>pe(N.id),className:"btn-primary p-2",children:s.jsx(rn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>G(null),className:"btn-secondary p-2",children:s.jsx(Lt,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${yu[N.color]||"bg-slate-100 text-slate-700"}`,children:N.color}),s.jsx("span",{className:"flex-1 text-slate-700 truncate",children:N.name}),!N.isActive&&s.jsx("span",{className:"text-xs text-slate-400",children:"()"}),s.jsx("button",{onClick:()=>be(N),className:"text-xs text-slate-500 hover:text-slate-700",children:N.isActive?"":""}),s.jsx("button",{onClick:()=>{G(N.id),C({code:N.code,name:N.name,color:N.color})},className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(Wn,{className:"w-4 h-4 text-slate-400"})}),s.jsx("button",{onClick:()=>Ce(N.id),className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(qn,{className:"w-4 h-4 text-red-400"})})]})]},N.id))]})}function E1({onDataChange:r}){const[o,d]=q.useState([]),[m,j]=q.useState(!0),[_,G]=q.useState(null),[L,C]=q.useState({code:"",name:"",color:"blue"}),[T,ee]=q.useState(!1),[Y,re]=q.useState({code:"",name:"",color:"blue"}),me=async()=>{d(await x0(!0)),j(!1)};q.useEffect(()=>{me()},[]);const ce=async()=>{if(!Y.name.trim()){we.error("");return}await t1({code:Y.code.trim()||Y.name.trim(),name:Y.name.trim(),color:Y.color}),we.success(""),ee(!1),re({code:"",name:"",color:"blue"}),r(),me()},pe=async N=>{if(!L.name.trim()){we.error("");return}await Ep(N,{code:L.code.trim(),name:L.name.trim(),color:L.color}),we.success(""),G(null),r(),me()},Ce=async N=>{confirm("")&&(await n1(N),we.success(""),r(),me())},be=async N=>{await Ep(N.id,{isActive:!N.isActive}),we.success(N.isActive?"":""),r(),me()},Ee=async(N,je)=>{const ue=je==="up"?N-1:N+1;if(ue<0||ue>=o.length)return;const he=[...o];[he[N],he[ue]]=[he[ue],he[N]],d(he),await a1(he.map(ye=>ye.id)),r()};return m?s.jsx(zi,{}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-slate-500",children:"  "}),!T&&s.jsxs("button",{onClick:()=>ee(!0),className:"btn-primary text-sm flex items-center gap-1",children:[s.jsx(la,{className:"w-4 h-4"})," "]})]}),T&&s.jsxs("div",{className:"card flex flex-col sm:flex-row gap-2",children:[s.jsx("input",{type:"text",placeholder:"",value:Y.name,onChange:N=>re({...Y,name:N.target.value}),className:"input flex-1",autoFocus:!0}),s.jsx("select",{value:Y.color,onChange:N=>re({...Y,color:N.target.value}),className:"input w-32",children:pu.map(N=>s.jsx("option",{value:N,children:N},N))}),s.jsx("button",{onClick:ce,className:"btn-primary",children:s.jsx(rn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{ee(!1),re({code:"",name:"",color:"blue"})},className:"btn-secondary",children:s.jsx(Lt,{className:"w-4 h-4"})})]}),o.map((N,je)=>s.jsxs("div",{className:`card flex items-center gap-2 ${N.isActive?"":"opacity-50"}`,children:[s.jsx(Bi,{index:je,total:o.length,onMoveUp:()=>Ee(je,"up"),onMoveDown:()=>Ee(je,"down")}),_===N.id?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"text",value:L.name,onChange:ue=>C({...L,name:ue.target.value}),className:"input flex-1"}),s.jsx("select",{value:L.color,onChange:ue=>C({...L,color:ue.target.value}),className:"input w-32",children:pu.map(ue=>s.jsx("option",{value:ue,children:ue},ue))}),s.jsx("button",{onClick:()=>pe(N.id),className:"btn-primary p-2",children:s.jsx(rn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>G(null),className:"btn-secondary p-2",children:s.jsx(Lt,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${yu[N.color]||"bg-slate-100 text-slate-700"}`,children:N.color}),s.jsx("span",{className:"flex-1 text-slate-700 truncate",children:N.name}),!N.isActive&&s.jsx("span",{className:"text-xs text-slate-400",children:"()"}),s.jsx("button",{onClick:()=>be(N),className:"text-xs text-slate-500 hover:text-slate-700",children:N.isActive?"":""}),s.jsx("button",{onClick:()=>{G(N.id),C({code:N.code,name:N.name,color:N.color})},className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(Wn,{className:"w-4 h-4 text-slate-400"})}),s.jsx("button",{onClick:()=>Ce(N.id),className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(qn,{className:"w-4 h-4 text-red-400"})})]})]},N.id))]})}function A1({onDataChange:r}){const[o,d]=q.useState([]),[m,j]=q.useState(!0),[_,G]=q.useState(null),[L,C]=q.useState(""),[T,ee]=q.useState(!1),[Y,re]=q.useState(""),me=async()=>{d(await b0(!0)),j(!1)};q.useEffect(()=>{me()},[]);const ce=async()=>{if(!Y.trim()){we.error("");return}await l1({name:Y.trim()}),we.success(""),ee(!1),re(""),r(),me()},pe=async N=>{if(!L.trim()){we.error("");return}await Ap(N,{name:L.trim()}),we.success(""),G(null),r(),me()},Ce=async N=>{confirm("")&&(await s1(N),we.success(""),r(),me())},be=async N=>{await Ap(N.id,{isActive:!N.isActive}),we.success(N.isActive?"":""),r(),me()},Ee=async(N,je)=>{const ue=je==="up"?N-1:N+1;if(ue<0||ue>=o.length)return;const he=[...o];[he[N],he[ue]]=[he[ue],he[N]],d(he),await i1(he.map(ye=>ye.id)),r()};return m?s.jsx(zi,{}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-slate-500",children:"  "}),!T&&s.jsxs("button",{onClick:()=>ee(!0),className:"btn-primary text-sm flex items-center gap-1",children:[s.jsx(la,{className:"w-4 h-4"})," "]})]}),T&&s.jsxs("div",{className:"card flex flex-col sm:flex-row gap-2",children:[s.jsx("input",{type:"text",placeholder:"",value:Y,onChange:N=>re(N.target.value),className:"input flex-1",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:ce,className:"btn-primary",children:s.jsx(rn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{ee(!1),re("")},className:"btn-secondary",children:s.jsx(Lt,{className:"w-4 h-4"})})]})]}),o.map((N,je)=>s.jsxs("div",{className:`card flex items-center gap-2 ${N.isActive?"":"opacity-50"}`,children:[s.jsx(Bi,{index:je,total:o.length,onMoveUp:()=>Ee(je,"up"),onMoveDown:()=>Ee(je,"down")}),s.jsx(Yf,{className:"w-4 h-4 text-primary-500"}),_===N.id?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"text",value:L,onChange:ue=>C(ue.target.value),className:"input flex-1"}),s.jsx("button",{onClick:()=>pe(N.id),className:"btn-primary p-2",children:s.jsx(rn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>G(null),className:"btn-secondary p-2",children:s.jsx(Lt,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"flex-1 text-slate-700 truncate",children:N.name}),!N.isActive&&s.jsx("span",{className:"text-xs text-slate-400",children:"()"}),s.jsx("button",{onClick:()=>be(N),className:"text-xs text-slate-500 hover:text-slate-700",children:N.isActive?"":""}),s.jsx("button",{onClick:()=>{G(N.id),C(N.name)},className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(Wn,{className:"w-4 h-4 text-slate-400"})}),s.jsx("button",{onClick:()=>Ce(N.id),className:"p-1 hover:bg-slate-100 rounded",children:s.jsx(qn,{className:"w-4 h-4 text-red-400"})})]})]},N.id))]})}function O1(){const[r,o]=q.useState(!1),[d,m]=q.useState(!1),[j,_]=q.useState(!1),[G,L]=q.useState(!1),[C,T]=q.useState(!1),[ee,Y]=q.useState(""),[re,me]=q.useState(""),[ce,pe]=q.useState({}),Ce=q.useRef(null),{setLastBackupDate:be}=Da(),Ee=Up(),N=Uf();q.useEffect(()=>{je()},[]);const je=async()=>{const xe={:await U.cancerTypes.count(),:await U.departments.count(),:await U.physicians.count(),:await U.imagingTypes.count(),:await U.eventTypes.count(),:await U.meetingTypes.count(),:await U.meetingLocations.count(),:await U.patients.count(),:await U.events.count(),:await U.workItems.count()};pe(xe)},ue=async()=>{o(!0);try{const xe=await qf();we.success(`${xe}`),be(new Date().toISOString().split("T")[0])}catch(xe){we.error(`${xe.message}`)}finally{o(!1)}},he=async xe=>{const Ge=xe.target.files?.[0];if(Ge){if(!confirm("")){Ce.current&&(Ce.current.value="");return}m(!0);try{const ve=await Lp(Ge);ve.success?(we.success(ve.message),window.location.reload()):we.error(ve.message)}catch(ve){we.error(`${ve.message}`)}finally{m(!1),Ce.current&&(Ce.current.value="")}}},ye=async()=>{_(!0);try{const xe=await U.patients.toArray(),Ge=await U.events.toArray(),ve=Ve(xe,["id","mrn","name","sex","cancerTypeId","status","createdAt","updatedAt"]);ft(ve,`patients_${Ye()}.csv`);const ke=Ve(Ge,["id","patientId","eventType","title","eventDate","dueDate","status","isCompleted","note","createdAt","updatedAt"]);ft(ke,`events_${Ye()}.csv`),we.success("CSV ")}catch(xe){we.error(`${xe.message}`)}finally{_(!1)}},Ye=()=>new Date().toISOString().replace(/[:.]/g,"").slice(0,15),Ve=(xe,Ge)=>{if(xe.length===0)return Ge.join(",")+`
`;const ve=Ge.join(","),ke=xe.map(V=>Ge.map(F=>{const I=V[F];return I==null?"":typeof I=="string"&&(I.includes(",")||I.includes('"')||I.includes(`
`))?`"${I.replace(/"/g,'""')}"`:String(I)}).join(","));return[ve,...ke].join(`
`)},ft=(xe,Ge)=>{const ke=new Blob(["\uFEFF"+xe],{type:"text/csv;charset=utf-8;"}),V=URL.createObjectURL(ke),F=document.createElement("a");F.href=V,F.download=Ge,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(V)},We=xe=>{try{return Dn(sl(xe),"yyyy/MM/dd HH:mm",{locale:_a})}catch{return xe}};return s.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-800",children:""}),s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(Df,{className:"w-5 h-5 text-primary-500"}),""]}),s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[N===new Date().toISOString().split("T")[0]?s.jsx(Vl,{className:"w-6 h-6 text-green-500"}):N?s.jsx(Vp,{className:"w-6 h-6 text-amber-500"}):s.jsx(Ta,{className:"w-6 h-6 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-800",children:N===new Date().toISOString().split("T")[0]?"":N?`${N}`:""}),s.jsx("p",{className:"text-sm text-slate-500",children:""})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("button",{onClick:ue,disabled:r,className:"btn-primary flex items-center justify-center gap-2",children:[Ei()?s.jsx(Ip,{className:"w-5 h-5"}):s.jsx(ou,{className:"w-5 h-5"}),r?"...":Ei()?"":""]}),s.jsxs("button",{onClick:()=>Ce.current?.click(),disabled:d,className:"btn-secondary flex items-center justify-center gap-2",children:[s.jsx(Cf,{className:"w-5 h-5"}),d?"...":""]})]}),s.jsx("input",{ref:Ce,type:"file",accept:".json",onChange:he,className:"hidden"})]}),s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(Vv,{className:"w-5 h-5 text-primary-500"})," CSV"]}),s.jsx("p",{className:"text-slate-600 mb-4",children:" CSV  Excel "}),s.jsxs("button",{onClick:ye,disabled:j,className:"btn-secondary flex items-center gap-2",children:[s.jsx(ou,{className:"w-5 h-5"}),j?"...":" CSV + "]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(Df,{className:"w-5 h-5 text-primary-500"}),""]}),s.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4 text-sm",children:Object.entries(ce).map(([xe,Ge])=>s.jsxs("div",{className:"bg-slate-50 rounded p-2 text-center",children:[s.jsx("div",{className:"font-medium text-slate-700",children:Ge}),s.jsx("div",{className:"text-xs text-slate-500",children:xe})]},xe))}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("button",{onClick:je,className:"btn-secondary flex items-center justify-center gap-2",children:[s.jsx(sg,{className:"w-4 h-4"}),""]}),s.jsxs("button",{onClick:()=>{const xe=String(Math.floor(1e3+Math.random()*9e3));me(xe),Y(""),T(!0)},disabled:G,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 disabled:opacity-50 flex items-center justify-center gap-2",children:[s.jsx(qn,{className:"w-4 h-4"}),G?"...":""]})]}),s.jsx("p",{className:"text-xs text-slate-400 mt-3",children:""})]}),C&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full p-6 shadow-xl",children:[s.jsxs("h3",{className:"text-lg font-bold text-red-600 mb-4 flex items-center gap-2",children:[s.jsx(Ta,{className:"w-6 h-6"}),""]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-slate-600 mb-2",children:" "}),s.jsx("p",{className:"text-slate-600 mb-4",children:""}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center mb-4",children:s.jsx("span",{className:"text-3xl font-mono font-bold text-red-600 tracking-widest",children:re})}),s.jsx("input",{type:"text",value:ee,onChange:xe=>Y(xe.target.value.replace(/\D/g,"").slice(0,4)),placeholder:" 4 ",className:"input text-center text-2xl font-mono tracking-widest",maxLength:4,autoFocus:!0})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>T(!1),className:"flex-1 btn-secondary",children:""}),s.jsx("button",{onClick:async()=>{if(ee!==re){we.error("");return}T(!1),L(!0);try{await U.transaction("rw",[U.patients,U.events,U.cancerTypes,U.physicians,U.departments,U.imagingTypes,U.eventTypes,U.meetingTypes,U.meetingLocations,U.workItems,U.patientPhysicians],async()=>{await U.patients.clear(),await U.events.clear(),await U.cancerTypes.clear(),await U.physicians.clear(),await U.departments.clear(),await U.imagingTypes.clear(),await U.eventTypes.clear(),await U.meetingTypes.clear(),await U.meetingLocations.clear(),await U.workItems.clear(),await U.patientPhysicians.clear()}),await zp(),we.success(""),je()}catch(xe){we.error(`${xe.message}`)}finally{L(!1)}},disabled:ee.length!==4,className:"flex-1 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 disabled:opacity-50",children:""})]})]})}),Ee.length>0&&s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"font-semibold text-slate-800 mb-4",children:""}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-auto",children:Ee.slice(0,10).map((xe,Ge)=>s.jsxs("div",{className:"flex items-center justify-between text-sm py-2 border-b border-slate-100 last:border-0",children:[s.jsx("span",{className:"text-slate-600",children:We(xe.date)}),s.jsxs("span",{className:"text-slate-400",children:[xe.recordCount," "]})]},Ge))})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"font-semibold text-slate-800 mb-4",children:""}),s.jsxs("p",{className:"text-2xl font-bold text-primary-500 mb-4",children:["V",vu]}),s.jsx("div",{className:"space-y-4",children:iv.slice(0,3).map(xe=>s.jsxs("div",{className:"border-l-2 border-slate-200 pl-4",children:[s.jsxs("p",{className:"font-medium text-slate-700",children:["V",xe.version," - ",xe.date]}),s.jsx("ul",{className:"text-sm text-slate-500 mt-1 space-y-0.5",children:xe.changes.map((Ge,ve)=>s.jsxs("li",{children:[" ",Ge]},ve))})]},xe.version))})]}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ta,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-amber-800",children:""}),s.jsxs("ul",{className:"text-sm text-amber-700 mt-1 space-y-1",children:[s.jsx("li",{children:" "}),s.jsx("li",{children:" iOS Safari  7 "}),s.jsx("li",{children:" iCloudGoogle Drive"})]})]})]})})]})}function M1(){const[r,o]=q.useState(!0),[d,m]=q.useState(null),{isBackupModalOpen:j,isDataLossModalOpen:_,openBackupModal:G,openDataLossModal:L,setLastBackupDate:C}=Da(),{currentPage:T}=Ai();q.useEffect(()=>{ee()},[]);const ee=async()=>{try{await lv();const me=await fv(),ce=await ov(),pe=Uf();if(C(pe),pe&&ce){console.log("[App] "),L(),o(!1);return}me&&!rv()&&(console.log("[App] "),G()),o(!1)}catch(me){console.error("[App] :",me),m(me.message),o(!1)}},Y=()=>{console.log("[App] ")};if(r)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"..."})]})});if(d)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:s.jsxs("div",{className:"card max-w-md w-full text-center",children:[s.jsx("div",{className:"text-red-500 text-5xl mb-4",children:""}),s.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:""}),s.jsx("p",{className:"text-slate-600 mb-4",children:d}),s.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:""})]})});const re=()=>{switch(T){case"dashboard":return s.jsx(Sp,{});case"patients":return s.jsx(m1,{});case"events":return s.jsx(y1,{});case"work":return s.jsx(b1,{});case"masterdata":return s.jsx(S1,{});case"tools":return s.jsx(O1,{});default:return s.jsx(Sp,{})}};return s.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[s.jsx(_g,{}),s.jsx("main",{className:"flex-1 pb-20 md:pb-0 overflow-auto",children:re()}),s.jsx(Sg,{}),s.jsx(jg,{}),j&&s.jsx(dp,{onComplete:Y}),_&&s.jsx(dp,{onComplete:Y,isDataLoss:!0})]})}Jy.createRoot(document.getElementById("root")).render(s.jsx(q.StrictMode,{children:s.jsx(M1,{})}));
