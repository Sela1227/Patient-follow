(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))m(b);new MutationObserver(b=>{for(const T of b)if(T.type==="childList")for(const Y of T.addedNodes)Y.tagName==="LINK"&&Y.rel==="modulepreload"&&m(Y)}).observe(document,{childList:!0,subtree:!0});function d(b){const T={};return b.integrity&&(T.integrity=b.integrity),b.referrerPolicy&&(T.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?T.credentials="include":b.crossOrigin==="anonymous"?T.credentials="omit":T.credentials="same-origin",T}function m(b){if(b.ep)return;b.ep=!0;const T=d(b);fetch(b.href,T)}})();var Yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gf={exports:{}},Rr={};var Fh;function Ly(){if(Fh)return Rr;Fh=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function d(m,b,T){var Y=null;if(T!==void 0&&(Y=""+T),b.key!==void 0&&(Y=""+b.key),"key"in b){T={};for(var L in b)L!=="key"&&(T[L]=b[L])}else T=b;return b=T.ref,{$$typeof:r,type:m,key:Y,ref:b!==void 0?b:null,props:T}}return Rr.Fragment=o,Rr.jsx=d,Rr.jsxs=d,Rr}var Wh;function Ky(){return Wh||(Wh=1,gf.exports=Ly()),gf.exports}var l=Ky(),xf={exports:{}},Ie={};var Ph;function Xy(){if(Ph)return Ie;Ph=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),ee=Symbol.iterator;function ue(N){return N===null||typeof N!="object"?null:(N=ee&&N[ee]||N["@@iterator"],typeof N=="function"?N:null)}var oe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},de=Object.assign,_e={};function be(N,X,je){this.props=N,this.context=X,this.refs=_e,this.updater=je||oe}be.prototype.isReactComponent={},be.prototype.setState=function(N,X){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,X,"setState")},be.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Ae(){}Ae.prototype=be.prototype;function w(N,X,je){this.props=N,this.context=X,this.refs=_e,this.updater=je||oe}var ge=w.prototype=new Ae;ge.constructor=w,de(ge,be.prototype),ge.isPureReactComponent=!0;var ve=Array.isArray;function fe(){}var ce={H:null,A:null,T:null,S:null},He=Object.prototype.hasOwnProperty;function Fe(N,X,je){var Ne=je.ref;return{$$typeof:r,type:N,key:X,ref:Ne!==void 0?Ne:null,props:je}}function nt(N,X){return Fe(N.type,X,N.props)}function st(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function te(N){var X={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(je){return X[je]})}var xe=/\/+/g;function me(N,X){return typeof N=="object"&&N!==null&&N.key!=null?te(""+N.key):X.toString(36)}function De(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(fe,fe):(N.status="pending",N.then(function(X){N.status==="pending"&&(N.status="fulfilled",N.value=X)},function(X){N.status==="pending"&&(N.status="rejected",N.reason=X)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function _(N,X,je,Ne,Xe){var Qe=typeof N;(Qe==="undefined"||Qe==="boolean")&&(N=null);var Ve=!1;if(N===null)Ve=!0;else switch(Qe){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(N.$$typeof){case r:case o:Ve=!0;break;case P:return Ve=N._init,_(Ve(N._payload),X,je,Ne,Xe)}}if(Ve)return Xe=Xe(N),Ve=Ne===""?"."+me(N,0):Ne,ve(Xe)?(je="",Ve!=null&&(je=Ve.replace(xe,"$&/")+"/"),_(Xe,X,je,"",function(Ue){return Ue})):Xe!=null&&(st(Xe)&&(Xe=nt(Xe,je+(Xe.key==null||N&&N.key===Xe.key?"":(""+Xe.key).replace(xe,"$&/")+"/")+Ve)),X.push(Xe)),1;Ve=0;var kt=Ne===""?".":Ne+":";if(ve(N))for(var _t=0;_t<N.length;_t++)Ne=N[_t],Qe=kt+me(Ne,_t),Ve+=_(Ne,X,je,Qe,Xe);else if(_t=ue(N),typeof _t=="function")for(N=_t.call(N),_t=0;!(Ne=N.next()).done;)Ne=Ne.value,Qe=kt+me(Ne,_t++),Ve+=_(Ne,X,je,Qe,Xe);else if(Qe==="object"){if(typeof N.then=="function")return _(De(N),X,je,Ne,Xe);throw X=String(N),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function se(N,X,je){if(N==null)return N;var Ne=[],Xe=0;return _(N,Ne,"","",function(Qe){return X.call(je,Qe,Xe++)}),Ne}function F(N){if(N._status===-1){var X=N._result;X=X(),X.then(function(je){(N._status===0||N._status===-1)&&(N._status=1,N._result=je)},function(je){(N._status===0||N._status===-1)&&(N._status=2,N._result=je)}),N._status===-1&&(N._status=0,N._result=X)}if(N._status===1)return N._result.default;throw N._result}var ze=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},ie={map:se,forEach:function(N,X,je){se(N,function(){X.apply(this,arguments)},je)},count:function(N){var X=0;return se(N,function(){X++}),X},toArray:function(N){return se(N,function(X){return X})||[]},only:function(N){if(!st(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Ie.Activity=q,Ie.Children=ie,Ie.Component=be,Ie.Fragment=d,Ie.Profiler=b,Ie.PureComponent=w,Ie.StrictMode=m,Ie.Suspense=C,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ce.H.useMemoCache(N)}},Ie.cache=function(N){return function(){return N.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(N,X,je){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var Ne=de({},N.props),Xe=N.key;if(X!=null)for(Qe in X.key!==void 0&&(Xe=""+X.key),X)!He.call(X,Qe)||Qe==="key"||Qe==="__self"||Qe==="__source"||Qe==="ref"&&X.ref===void 0||(Ne[Qe]=X[Qe]);var Qe=arguments.length-2;if(Qe===1)Ne.children=je;else if(1<Qe){for(var Ve=Array(Qe),kt=0;kt<Qe;kt++)Ve[kt]=arguments[kt+2];Ne.children=Ve}return Fe(N.type,Xe,Ne)},Ie.createContext=function(N){return N={$$typeof:Y,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:T,_context:N},N},Ie.createElement=function(N,X,je){var Ne,Xe={},Qe=null;if(X!=null)for(Ne in X.key!==void 0&&(Qe=""+X.key),X)He.call(X,Ne)&&Ne!=="key"&&Ne!=="__self"&&Ne!=="__source"&&(Xe[Ne]=X[Ne]);var Ve=arguments.length-2;if(Ve===1)Xe.children=je;else if(1<Ve){for(var kt=Array(Ve),_t=0;_t<Ve;_t++)kt[_t]=arguments[_t+2];Xe.children=kt}if(N&&N.defaultProps)for(Ne in Ve=N.defaultProps,Ve)Xe[Ne]===void 0&&(Xe[Ne]=Ve[Ne]);return Fe(N,Qe,Xe)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(N){return{$$typeof:L,render:N}},Ie.isValidElement=st,Ie.lazy=function(N){return{$$typeof:P,_payload:{_status:-1,_result:N},_init:F}},Ie.memo=function(N,X){return{$$typeof:D,type:N,compare:X===void 0?null:X}},Ie.startTransition=function(N){var X=ce.T,je={};ce.T=je;try{var Ne=N(),Xe=ce.S;Xe!==null&&Xe(je,Ne),typeof Ne=="object"&&Ne!==null&&typeof Ne.then=="function"&&Ne.then(fe,ze)}catch(Qe){ze(Qe)}finally{X!==null&&je.types!==null&&(X.types=je.types),ce.T=X}},Ie.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Ie.use=function(N){return ce.H.use(N)},Ie.useActionState=function(N,X,je){return ce.H.useActionState(N,X,je)},Ie.useCallback=function(N,X){return ce.H.useCallback(N,X)},Ie.useContext=function(N){return ce.H.useContext(N)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(N,X){return ce.H.useDeferredValue(N,X)},Ie.useEffect=function(N,X){return ce.H.useEffect(N,X)},Ie.useEffectEvent=function(N){return ce.H.useEffectEvent(N)},Ie.useId=function(){return ce.H.useId()},Ie.useImperativeHandle=function(N,X,je){return ce.H.useImperativeHandle(N,X,je)},Ie.useInsertionEffect=function(N,X){return ce.H.useInsertionEffect(N,X)},Ie.useLayoutEffect=function(N,X){return ce.H.useLayoutEffect(N,X)},Ie.useMemo=function(N,X){return ce.H.useMemo(N,X)},Ie.useOptimistic=function(N,X){return ce.H.useOptimistic(N,X)},Ie.useReducer=function(N,X,je){return ce.H.useReducer(N,X,je)},Ie.useRef=function(N){return ce.H.useRef(N)},Ie.useState=function(N){return ce.H.useState(N)},Ie.useSyncExternalStore=function(N,X,je){return ce.H.useSyncExternalStore(N,X,je)},Ie.useTransition=function(){return ce.H.useTransition()},Ie.version="19.2.4",Ie}var ep;function zf(){return ep||(ep=1,xf.exports=Xy()),xf.exports}var U=zf();const au=Bp(U);var bf={exports:{}},Ur={},jf={exports:{}},wf={};var tp;function Gy(){return tp||(tp=1,(function(r){function o(_,se){var F=_.length;_.push(se);e:for(;0<F;){var ze=F-1>>>1,ie=_[ze];if(0<b(ie,se))_[ze]=se,_[F]=ie,F=ze;else break e}}function d(_){return _.length===0?null:_[0]}function m(_){if(_.length===0)return null;var se=_[0],F=_.pop();if(F!==se){_[0]=F;e:for(var ze=0,ie=_.length,N=ie>>>1;ze<N;){var X=2*(ze+1)-1,je=_[X],Ne=X+1,Xe=_[Ne];if(0>b(je,F))Ne<ie&&0>b(Xe,je)?(_[ze]=Xe,_[Ne]=F,ze=Ne):(_[ze]=je,_[X]=F,ze=X);else if(Ne<ie&&0>b(Xe,F))_[ze]=Xe,_[Ne]=F,ze=Ne;else break e}}return se}function b(_,se){var F=_.sortIndex-se.sortIndex;return F!==0?F:_.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var T=performance;r.unstable_now=function(){return T.now()}}else{var Y=Date,L=Y.now();r.unstable_now=function(){return Y.now()-L}}var C=[],D=[],P=1,q=null,ee=3,ue=!1,oe=!1,de=!1,_e=!1,be=typeof setTimeout=="function"?setTimeout:null,Ae=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function ge(_){for(var se=d(D);se!==null;){if(se.callback===null)m(D);else if(se.startTime<=_)m(D),se.sortIndex=se.expirationTime,o(C,se);else break;se=d(D)}}function ve(_){if(de=!1,ge(_),!oe)if(d(C)!==null)oe=!0,fe||(fe=!0,te());else{var se=d(D);se!==null&&De(ve,se.startTime-_)}}var fe=!1,ce=-1,He=5,Fe=-1;function nt(){return _e?!0:!(r.unstable_now()-Fe<He)}function st(){if(_e=!1,fe){var _=r.unstable_now();Fe=_;var se=!0;try{e:{oe=!1,de&&(de=!1,Ae(ce),ce=-1),ue=!0;var F=ee;try{t:{for(ge(_),q=d(C);q!==null&&!(q.expirationTime>_&&nt());){var ze=q.callback;if(typeof ze=="function"){q.callback=null,ee=q.priorityLevel;var ie=ze(q.expirationTime<=_);if(_=r.unstable_now(),typeof ie=="function"){q.callback=ie,ge(_),se=!0;break t}q===d(C)&&m(C),ge(_)}else m(C);q=d(C)}if(q!==null)se=!0;else{var N=d(D);N!==null&&De(ve,N.startTime-_),se=!1}}break e}finally{q=null,ee=F,ue=!1}se=void 0}}finally{se?te():fe=!1}}}var te;if(typeof w=="function")te=function(){w(st)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,me=xe.port2;xe.port1.onmessage=st,te=function(){me.postMessage(null)}}else te=function(){be(st,0)};function De(_,se){ce=be(function(){_(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(_){_.callback=null},r.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):He=0<_?Math.floor(1e3/_):5},r.unstable_getCurrentPriorityLevel=function(){return ee},r.unstable_next=function(_){switch(ee){case 1:case 2:case 3:var se=3;break;default:se=ee}var F=ee;ee=se;try{return _()}finally{ee=F}},r.unstable_requestPaint=function(){_e=!0},r.unstable_runWithPriority=function(_,se){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var F=ee;ee=_;try{return se()}finally{ee=F}},r.unstable_scheduleCallback=function(_,se,F){var ze=r.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ze+F:ze):F=ze,_){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=F+ie,_={id:P++,callback:se,priorityLevel:_,startTime:F,expirationTime:ie,sortIndex:-1},F>ze?(_.sortIndex=F,o(D,_),d(C)===null&&_===d(D)&&(de?(Ae(ce),ce=-1):de=!0,De(ve,F-ze))):(_.sortIndex=ie,o(C,_),oe||ue||(oe=!0,fe||(fe=!0,te()))),_},r.unstable_shouldYield=nt,r.unstable_wrapCallback=function(_){var se=ee;return function(){var F=ee;ee=se;try{return _.apply(this,arguments)}finally{ee=F}}}})(wf)),wf}var np;function Qy(){return np||(np=1,jf.exports=Gy()),jf.exports}var Nf={exports:{}},pn={};var ap;function Vy(){if(ap)return pn;ap=1;var r=zf();function o(C){var D="https://react.dev/errors/"+C;if(1<arguments.length){D+="?args[]="+encodeURIComponent(arguments[1]);for(var P=2;P<arguments.length;P++)D+="&args[]="+encodeURIComponent(arguments[P])}return"Minified React error #"+C+"; visit "+D+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var m={d:{f:d,r:function(){throw Error(o(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},b=Symbol.for("react.portal");function T(C,D,P){var q=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:q==null?null:""+q,children:C,containerInfo:D,implementation:P}}var Y=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function L(C,D){if(C==="font")return"";if(typeof D=="string")return D==="use-credentials"?D:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=m,pn.createPortal=function(C,D){var P=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D||D.nodeType!==1&&D.nodeType!==9&&D.nodeType!==11)throw Error(o(299));return T(C,D,null,P)},pn.flushSync=function(C){var D=Y.T,P=m.p;try{if(Y.T=null,m.p=2,C)return C()}finally{Y.T=D,m.p=P,m.d.f()}},pn.preconnect=function(C,D){typeof C=="string"&&(D?(D=D.crossOrigin,D=typeof D=="string"?D==="use-credentials"?D:"":void 0):D=null,m.d.C(C,D))},pn.prefetchDNS=function(C){typeof C=="string"&&m.d.D(C)},pn.preinit=function(C,D){if(typeof C=="string"&&D&&typeof D.as=="string"){var P=D.as,q=L(P,D.crossOrigin),ee=typeof D.integrity=="string"?D.integrity:void 0,ue=typeof D.fetchPriority=="string"?D.fetchPriority:void 0;P==="style"?m.d.S(C,typeof D.precedence=="string"?D.precedence:void 0,{crossOrigin:q,integrity:ee,fetchPriority:ue}):P==="script"&&m.d.X(C,{crossOrigin:q,integrity:ee,fetchPriority:ue,nonce:typeof D.nonce=="string"?D.nonce:void 0})}},pn.preinitModule=function(C,D){if(typeof C=="string")if(typeof D=="object"&&D!==null){if(D.as==null||D.as==="script"){var P=L(D.as,D.crossOrigin);m.d.M(C,{crossOrigin:P,integrity:typeof D.integrity=="string"?D.integrity:void 0,nonce:typeof D.nonce=="string"?D.nonce:void 0})}}else D==null&&m.d.M(C)},pn.preload=function(C,D){if(typeof C=="string"&&typeof D=="object"&&D!==null&&typeof D.as=="string"){var P=D.as,q=L(P,D.crossOrigin);m.d.L(C,P,{crossOrigin:q,integrity:typeof D.integrity=="string"?D.integrity:void 0,nonce:typeof D.nonce=="string"?D.nonce:void 0,type:typeof D.type=="string"?D.type:void 0,fetchPriority:typeof D.fetchPriority=="string"?D.fetchPriority:void 0,referrerPolicy:typeof D.referrerPolicy=="string"?D.referrerPolicy:void 0,imageSrcSet:typeof D.imageSrcSet=="string"?D.imageSrcSet:void 0,imageSizes:typeof D.imageSizes=="string"?D.imageSizes:void 0,media:typeof D.media=="string"?D.media:void 0})}},pn.preloadModule=function(C,D){if(typeof C=="string")if(D){var P=L(D.as,D.crossOrigin);m.d.m(C,{as:typeof D.as=="string"&&D.as!=="script"?D.as:void 0,crossOrigin:P,integrity:typeof D.integrity=="string"?D.integrity:void 0})}else m.d.m(C)},pn.requestFormReset=function(C){m.d.r(C)},pn.unstable_batchedUpdates=function(C,D){return C(D)},pn.useFormState=function(C,D,P){return Y.H.useFormState(C,D,P)},pn.useFormStatus=function(){return Y.H.useHostTransitionStatus()},pn.version="19.2.4",pn}var lp;function Zy(){if(lp)return Nf.exports;lp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),Nf.exports=Vy(),Nf.exports}var sp;function Jy(){if(sp)return Ur;sp=1;var r=Qy(),o=zf(),d=Zy();function m(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function T(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Y(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function L(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function C(e){if(T(e)!==e)throw Error(m(188))}function D(e){var t=e.alternate;if(!t){if(t=T(e),t===null)throw Error(m(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var c=i.alternate;if(c===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===c.child){for(c=i.child;c;){if(c===n)return C(i),e;if(c===a)return C(i),t;c=c.sibling}throw Error(m(188))}if(n.return!==a.return)n=i,a=c;else{for(var p=!1,g=i.child;g;){if(g===n){p=!0,n=i,a=c;break}if(g===a){p=!0,a=i,n=c;break}g=g.sibling}if(!p){for(g=c.child;g;){if(g===n){p=!0,n=c,a=i;break}if(g===a){p=!0,a=c,n=i;break}g=g.sibling}if(!p)throw Error(m(189))}}if(n.alternate!==a)throw Error(m(190))}if(n.tag!==3)throw Error(m(188));return n.stateNode.current===n?e:t}function P(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=P(e),t!==null)return t;e=e.sibling}return null}var q=Object.assign,ee=Symbol.for("react.element"),ue=Symbol.for("react.transitional.element"),oe=Symbol.for("react.portal"),de=Symbol.for("react.fragment"),_e=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),Ae=Symbol.for("react.consumer"),w=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),Fe=Symbol.for("react.activity"),nt=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=st&&e[st]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Symbol.for("react.client.reference");function me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===xe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case de:return"Fragment";case be:return"Profiler";case _e:return"StrictMode";case ve:return"Suspense";case fe:return"SuspenseList";case Fe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case oe:return"Portal";case w:return e.displayName||"Context";case Ae:return(e._context.displayName||"Context")+".Consumer";case ge:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ce:return t=e.displayName||null,t!==null?t:me(e.type)||"Memo";case He:t=e._payload,e=e._init;try{return me(e(t))}catch{}}return null}var De=Array.isArray,_=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},ze=[],ie=-1;function N(e){return{current:e}}function X(e){0>ie||(e.current=ze[ie],ze[ie]=null,ie--)}function je(e,t){ie++,ze[ie]=e.current,e.current=t}var Ne=N(null),Xe=N(null),Qe=N(null),Ve=N(null);function kt(e,t){switch(je(Qe,t),je(Xe,e),je(Ne,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=bh(t),e=jh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(Ne),je(Ne,e)}function _t(){X(Ne),X(Xe),X(Qe)}function Ue(e){e.memoizedState!==null&&je(Ve,e);var t=Ne.current,n=jh(t,e.type);t!==n&&(je(Xe,e),je(Ne,n))}function Be(e){Xe.current===e&&(X(Ne),X(Xe)),Ve.current===e&&(X(Ve),Mr._currentValue=F)}var Ye,ht;function Cn(e){if(Ye===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",ht=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ye+e+ht}var cn=!1;function cl(e,t){if(!e||cn)return"";cn=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(W){var $=W}Reflect.construct(e,[],re)}else{try{re.call()}catch(W){$=W}e.call(re.prototype)}}else{try{throw Error()}catch(W){$=W}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(W){if(W&&$&&typeof W.stack=="string")return[W.stack,$.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),p=c[0],g=c[1];if(p&&g){var S=p.split(`
`),J=g.split(`
`);for(i=a=0;a<S.length&&!S[a].includes("DetermineComponentFrameRoot");)a++;for(;i<J.length&&!J[i].includes("DetermineComponentFrameRoot");)i++;if(a===S.length||i===J.length)for(a=S.length-1,i=J.length-1;1<=a&&0<=i&&S[a]!==J[i];)i--;for(;1<=a&&0<=i;a--,i--)if(S[a]!==J[i]){if(a!==1||i!==1)do if(a--,i--,0>i||S[a]!==J[i]){var ae=`
`+S[a].replace(" at new "," at ");return e.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",e.displayName)),ae}while(1<=a&&0<=i);break}}}finally{cn=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Cn(n):""}function Kr(e,t){switch(e.tag){case 26:case 27:case 5:return Cn(e.type);case 16:return Cn("Lazy");case 13:return e.child!==t&&t!==null?Cn("Suspense Fallback"):Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 15:return cl(e.type,!1);case 11:return cl(e.type.render,!1);case 1:return cl(e.type,!0);case 31:return Cn("Activity");default:return""}}function Jl(e){try{var t="",n=null;do t+=Kr(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var ra=Object.prototype.hasOwnProperty,Ea=r.unstable_scheduleCallback,bn=r.unstable_cancelCallback,Xr=r.unstable_shouldYield,Il=r.unstable_requestPaint,un=r.unstable_now,$l=r.unstable_getCurrentPriorityLevel,on=r.unstable_ImmediatePriority,ca=r.unstable_UserBlockingPriority,ul=r.unstable_NormalPriority,Fl=r.unstable_LowPriority,Os=r.unstable_IdlePriority,Ms=r.log,Aa=r.unstable_setDisableYieldValue,ua=null,Pt=null;function en(e){if(typeof Ms=="function"&&Aa(e),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(ua,e)}catch{}}var Oe=Math.clz32?Math.clz32:ks,Wl=Math.log,Oa=Math.LN2;function ks(e){return e>>>=0,e===0?32:31-(Wl(e)/Oa|0)|0}var Ce=256,ol=262144,Pl=4194304;function Wn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function es(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,c=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var g=a&134217727;return g!==0?(a=g&~c,a!==0?i=Wn(a):(p&=g,p!==0?i=Wn(p):n||(n=g&~e,n!==0&&(i=Wn(n))))):(g=a&~c,g!==0?i=Wn(g):p!==0?i=Wn(p):n||(n=a&~e,n!==0&&(i=Wn(n)))),i===0?0:t!==0&&t!==i&&(t&c)===0&&(c=i&-i,n=t&-t,c>=n||c===32&&(n&4194048)!==0)?t:i}function Ma(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Nu(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gr(){var e=Pl;return Pl<<=1,(Pl&62914560)===0&&(Pl=4194304),e}function oa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ri(e,t,n,a,i,c){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var g=e.entanglements,S=e.expirationTimes,J=e.hiddenUpdates;for(n=p&~n;0<n;){var ae=31-Oe(n),re=1<<ae;g[ae]=0,S[ae]=-1;var $=J[ae];if($!==null)for(J[ae]=null,ae=0;ae<$.length;ae++){var W=$[ae];W!==null&&(W.lane&=-536870913)}n&=~re}a!==0&&ts(e,a,0),c!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=c&~(p&~t))}function ts(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Oe(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function St(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Oe(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Ut(e,t){var n=t&-t;return n=(n&42)!==0?1:Ui(n),(n&(e.suspendedLanes|t))!==0?0:n}function Ui(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function fl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ns(){var e=se.p;return e!==0?e:(e=window.event,e===void 0?32:Gh(e.type))}function as(e,t){var n=se.p;try{return se.p=e,t()}finally{se.p=n}}var fa=Math.random().toString(36).slice(2),Dt="__reactFiber$"+fa,qt="__reactProps$"+fa,yn="__reactContainer$"+fa,dl="__reactEvents$"+fa,Su="__reactListeners$"+fa,da="__reactHandles$"+fa,qi="__reactResources$"+fa,En="__reactMarker$"+fa;function zs(e){delete e[Dt],delete e[qt],delete e[dl],delete e[Su],delete e[da]}function ma(e){var t=e[Dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yn]||n[Dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ch(e);e!==null;){if(n=e[Dt])return n;e=Ch(e)}return t}e=n,n=e.parentNode}return null}function xt(e){if(e=e[Dt]||e[yn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function An(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(m(33))}function fn(e){var t=e[qi];return t||(t=e[qi]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ht(e){e[En]=!0}var ka=new Set,ls={};function Pn(e,t){ha(e,t),ha(e+"Capture",t)}function ha(e,t){for(ls[e]=t,e=0;e<t.length;e++)ka.add(t[e])}var za=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hi={},ss={};function Qr(e){return ra.call(ss,e)?!0:ra.call(Hi,e)?!1:za.test(e)?ss[e]=!0:(Hi[e]=!0,!1)}function et(e,t,n){if(Qr(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function is(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Yn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ml(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vr(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,c=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){n=""+p,c.call(this,p)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bs(e){if(!e._valueTracker){var t=ml(e)?"checked":"value";e._valueTracker=Vr(e,t,""+e[t])}}function Yi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ml(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function dt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var rs=/[\n"\\]/g;function It(e){return e.replace(rs,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function pa(e,t,n,a,i,c,p,g){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+tn(t)):e.value!==""+tn(t)&&(e.value=""+tn(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?cs(e,p,tn(t)):n!=null?cs(e,p,tn(n)):a!=null&&e.removeAttribute("value"),i==null&&c!=null&&(e.defaultChecked=!!c),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+tn(g):e.removeAttribute("name")}function Rs(e,t,n,a,i,c,p,g){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||n!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Bs(e);return}n=n!=null?""+tn(n):"",t=t!=null?""+tn(t):n,g||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=g?e.checked:!!a,e.defaultChecked=!!a,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Bs(e)}function cs(e,t,n){t==="number"&&dt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ea(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+tn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Li(e,t,n){if(t!=null&&(t=""+tn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+tn(n):""}function us(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(m(92));if(De(a)){if(1<a.length)throw Error(m(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=tn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Bs(e)}function Ba(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ct(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Tu.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ki(e,t,n){if(t!=null&&typeof t!="object")throw Error(m(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&ct(e,i,a)}else for(var c in t)t.hasOwnProperty(c)&&ct(e,c,t[c])}function Xi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(e){return vn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var Ln=null;function Us(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ra=null,Ct=null;function On(e){var t=xt(e);if(t&&(e=t.stateNode)){var n=e[qt]||null;e:switch(e=t.stateNode,t.type){case"input":if(pa(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+It(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[qt]||null;if(!i)throw Error(m(90));pa(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Yi(a)}break e;case"textarea":Li(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ea(e,!!n.multiple,t,!1)}}}var Ua=!1;function hl(e,t,n){if(Ua)return e(t,n);Ua=!0;try{var a=e(t);return a}finally{if(Ua=!1,(Ra!==null||Ct!==null)&&(Bc(),Ra&&(t=Ra,e=Ct,Ct=Ra=null,On(t),e)))for(t=0;t<e.length;t++)On(e[t])}}function qa(e,t){var n=e.stateNode;if(n===null)return null;var a=n[qt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(m(231,t,typeof n));return n}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gi=!1;if($t)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{Gi=!1}var Kn=null,qs=null,pl=null;function yl(){if(pl)return pl;var e,t=qs,n=t.length,a,i="value"in Kn?Kn.value:Kn.textContent,c=i.length;for(e=0;e<n&&t[e]===i[e];e++);var p=n-e;for(a=1;a<=p&&t[n-a]===i[c-a];a++);return pl=i.slice(e,1<a?1-a:void 0)}function vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function os(){return!0}function Zr(){return!1}function Kt(e){function t(n,a,i,c,p){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=c,this.target=p,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?os:Zr,this.isPropagationStopped=Zr,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),t}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=Kt(Ha),ya=q({},Ha,{view:0,detail:0}),Ys=Kt(ya),fs,Qi,ds,Ls=q({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ds&&(ds&&e.type==="mousemove"?(fs=e.screenX-ds.screenX,Qi=e.screenY-ds.screenY):Qi=fs=0,ds=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:Qi}}),Ks=Kt(Ls),Vi=q({},Ls,{dataTransfer:0}),Jr=Kt(Vi),Xs=q({},ya,{relatedTarget:0}),gl=Kt(Xs),Gs=q({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),Ir=Kt(Gs),Du=q({},Ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xl=Kt(Du),Zi=q({},Ha,{data:0}),Qs=Kt(Zi),Ji={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ii={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ft={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ms(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ft[e])?!!t[e]:!1}function Ya(){return ms}var $r=q({},ya,{key:function(e){if(e.key){var t=Ji[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ii[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(e){return e.type==="keypress"?vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vs=Kt($r),Fr=q({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Kt(Fr),Zs=q({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),Fi=Kt(Zs),La=q({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wi=Kt(La),Pi=q({},Ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Js=Kt(Pi),er=q({},Ha,{newState:0,oldState:0}),Wr=Kt(er),Cu=[9,13,27,32],hs=$t&&"CompositionEvent"in window,va=null;$t&&"documentMode"in document&&(va=document.documentMode);var Eu=$t&&"TextEvent"in window&&!va,Is=$t&&(!hs||va&&8<va&&11>=va),$s=" ",Pr=!1;function tr(e,t){switch(e){case"keyup":return Cu.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ec(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ka=!1;function tc(e,t){switch(e){case"compositionend":return ec(t);case"keypress":return t.which!==32?null:(Pr=!0,$s);case"textInput":return e=t.data,e===$s&&Pr?null:e;default:return null}}function Au(e,t){if(Ka)return e==="compositionend"||!hs&&tr(e,t)?(e=yl(),pl=qs=Kn=null,Ka=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Is&&t.locale!=="ko"?null:t.data;default:return null}}var nc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nc[e.type]:t==="textarea"}function nr(e,t,n,a){Ra?Ct?Ct.push(a):Ct=[a]:Ra=a,t=Kc(t,"onChange"),0<t.length&&(n=new Hs("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var bl=null,ps=null;function Ou(e){hh(e,0)}function Ws(e){var t=An(e);if(Yi(t))return e}function ys(e,t){if(e==="change")return t}var Xn=!1;if($t){var Et;if($t){var jl="oninput"in document;if(!jl){var Xa=document.createElement("div");Xa.setAttribute("oninput","return;"),jl=typeof Xa.oninput=="function"}Et=jl}else Et=!1;Xn=Et&&(!document.documentMode||9<document.documentMode)}function ac(){bl&&(bl.detachEvent("onpropertychange",Ps),ps=bl=null)}function Ps(e){if(e.propertyName==="value"&&Ws(ps)){var t=[];nr(t,ps,e,Us(e)),hl(Ou,t)}}function lc(e,t,n){e==="focusin"?(ac(),bl=t,ps=n,bl.attachEvent("onpropertychange",Ps)):e==="focusout"&&ac()}function Ga(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ws(ps)}function ar(e,t){if(e==="click")return Ws(t)}function wl(e,t){if(e==="input"||e==="change")return Ws(t)}function ga(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mn=typeof Object.is=="function"?Object.is:ga;function s(e,t){if(mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!ra.call(t,i)||!mn(e[i],t[i]))return!1}return!0}function u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f(e,t){var n=u(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u(n)}}function h(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function y(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=dt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dt(e.document)}return t}function v(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var x=$t&&"documentMode"in document&&11>=document.documentMode,j=null,A=null,G=null,O=!1;function E(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;O||j==null||j!==dt(a)||(a=j,"selectionStart"in a&&v(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),G&&s(G,a)||(G=a,a=Kc(A,"onSelect"),0<a.length&&(t=new Hs("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=j)))}function z(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var R={animationend:z("Animation","AnimationEnd"),animationiteration:z("Animation","AnimationIteration"),animationstart:z("Animation","AnimationStart"),transitionrun:z("Transition","TransitionRun"),transitionstart:z("Transition","TransitionStart"),transitioncancel:z("Transition","TransitionCancel"),transitionend:z("Transition","TransitionEnd")},M={},k={};$t&&(k=document.createElement("div").style,"AnimationEvent"in window||(delete R.animationend.animation,delete R.animationiteration.animation,delete R.animationstart.animation),"TransitionEvent"in window||delete R.transitionend.transition);function V(e){if(M[e])return M[e];if(!R[e])return e;var t=R[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in k)return M[e]=t[n];return e}var I=V("animationend"),Q=V("animationiteration"),ne=V("animationstart"),he=V("transitionrun"),Se=V("transitionstart"),Te=V("transitioncancel"),pe=V("transitionend"),Me=new Map,Ee="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ee.push("scrollEnd");function ye(e,t){Me.set(e,t),Pn(t,[e])}var ke=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ze=[],tt=0,Le=0;function Je(){for(var e=tt,t=Le=tt=0;t<e;){var n=Ze[t];Ze[t++]=null;var a=Ze[t];Ze[t++]=null;var i=Ze[t];Ze[t++]=null;var c=Ze[t];if(Ze[t++]=null,a!==null&&i!==null){var p=a.pending;p===null?i.next=i:(i.next=p.next,p.next=i),a.pending=i}c!==0&&xa(n,i,c)}}function bt(e,t,n,a){Ze[tt++]=e,Ze[tt++]=t,Ze[tt++]=n,Ze[tt++]=a,Le|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function hn(e,t,n,a){return bt(e,t,n,a),Nl(e)}function pt(e,t){return bt(e,null,null,t),Nl(e)}function xa(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,c=e.return;c!==null;)c.childLanes|=n,a=c.alternate,a!==null&&(a.childLanes|=n),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(i=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,i&&t!==null&&(i=31-Oe(n),e=c.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),c):null}function Nl(e){if(50<Tr)throw Tr=0,Lo=null,Error(m(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ei={};function N0(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,t,n,a){return new N0(e,t,n,a)}function Mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qa(e,t){var n=e.alternate;return n===null?(n=Mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function $f(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function sc(e,t,n,a,i,c){var p=0;if(a=e,typeof e=="function")Mu(e)&&(p=1);else if(typeof e=="string")p=Cy(e,n,Ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Fe:return e=Mn(31,n,t,i),e.elementType=Fe,e.lanes=c,e;case de:return vs(n.children,i,c,t);case _e:p=8,i|=24;break;case be:return e=Mn(12,n,t,i|2),e.elementType=be,e.lanes=c,e;case ve:return e=Mn(13,n,t,i),e.elementType=ve,e.lanes=c,e;case fe:return e=Mn(19,n,t,i),e.elementType=fe,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w:p=10;break e;case Ae:p=9;break e;case ge:p=11;break e;case ce:p=14;break e;case He:p=16,a=null;break e}p=29,n=Error(m(130,e===null?"null":typeof e,"")),a=null}return t=Mn(p,n,t,i),t.elementType=e,t.type=a,t.lanes=c,t}function vs(e,t,n,a){return e=Mn(7,e,a,t),e.lanes=n,e}function ku(e,t,n){return e=Mn(6,e,null,t),e.lanes=n,e}function Ff(e){var t=Mn(18,null,null,0);return t.stateNode=e,t}function zu(e,t,n){return t=Mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wf=new WeakMap;function Gn(e,t){if(typeof e=="object"&&e!==null){var n=Wf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Jl(t)},Wf.set(e,t),t)}return{value:e,source:t,stack:Jl(t)}}var ti=[],ni=0,ic=null,lr=0,Qn=[],Vn=0,Sl=null,ba=1,ja="";function Va(e,t){ti[ni++]=lr,ti[ni++]=ic,ic=e,lr=t}function Pf(e,t,n){Qn[Vn++]=ba,Qn[Vn++]=ja,Qn[Vn++]=Sl,Sl=e;var a=ba;e=ja;var i=32-Oe(a)-1;a&=~(1<<i),n+=1;var c=32-Oe(t)+i;if(30<c){var p=i-i%5;c=(a&(1<<p)-1).toString(32),a>>=p,i-=p,ba=1<<32-Oe(t)+i|n<<i|a,ja=c+e}else ba=1<<c|n<<i|a,ja=e}function Bu(e){e.return!==null&&(Va(e,1),Pf(e,1,0))}function Ru(e){for(;e===ic;)ic=ti[--ni],ti[ni]=null,lr=ti[--ni],ti[ni]=null;for(;e===Sl;)Sl=Qn[--Vn],Qn[Vn]=null,ja=Qn[--Vn],Qn[Vn]=null,ba=Qn[--Vn],Qn[Vn]=null}function ed(e,t){Qn[Vn++]=ba,Qn[Vn++]=ja,Qn[Vn++]=Sl,ba=t.id,ja=t.overflow,Sl=e}var nn=null,At=null,ut=!1,Tl=null,Zn=!1,Uu=Error(m(519));function _l(e){var t=Error(m(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sr(Gn(t,e)),Uu}function td(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Dt]=e,t[qt]=a,n){case"dialog":lt("cancel",t),lt("close",t);break;case"iframe":case"object":case"embed":lt("load",t);break;case"video":case"audio":for(n=0;n<Dr.length;n++)lt(Dr[n],t);break;case"source":lt("error",t);break;case"img":case"image":case"link":lt("error",t),lt("load",t);break;case"details":lt("toggle",t);break;case"input":lt("invalid",t),Rs(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":lt("invalid",t);break;case"textarea":lt("invalid",t),us(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||gh(t.textContent,n)?(a.popover!=null&&(lt("beforetoggle",t),lt("toggle",t)),a.onScroll!=null&&lt("scroll",t),a.onScrollEnd!=null&&lt("scrollend",t),a.onClick!=null&&(t.onclick=jn),t=!0):t=!1,t||_l(e,!0)}function nd(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:nn=nn.return}}function ai(e){if(e!==nn)return!1;if(!ut)return nd(e),ut=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||nf(e.type,e.memoizedProps)),n=!n),n&&At&&_l(e),nd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(317));At=Dh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(317));At=Dh(e)}else t===27?(t=At,Yl(e.type)?(e=cf,cf=null,At=e):At=t):At=nn?In(e.stateNode.nextSibling):null;return!0}function gs(){At=nn=null,ut=!1}function qu(){var e=Tl;return e!==null&&(Tn===null?Tn=e:Tn.push.apply(Tn,e),Tl=null),e}function sr(e){Tl===null?Tl=[e]:Tl.push(e)}var Hu=N(null),xs=null,Za=null;function Dl(e,t,n){je(Hu,t._currentValue),t._currentValue=n}function Ja(e){e._currentValue=Hu.current,X(Hu)}function Yu(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Lu(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){var p=i.child;c=c.firstContext;e:for(;c!==null;){var g=c;c=i;for(var S=0;S<t.length;S++)if(g.context===t[S]){c.lanes|=n,g=c.alternate,g!==null&&(g.lanes|=n),Yu(c.return,n,e),a||(p=null);break e}c=g.next}}else if(i.tag===18){if(p=i.return,p===null)throw Error(m(341));p.lanes|=n,c=p.alternate,c!==null&&(c.lanes|=n),Yu(p,n,e),p=null}else p=i.child;if(p!==null)p.return=i;else for(p=i;p!==null;){if(p===e){p=null;break}if(i=p.sibling,i!==null){i.return=p.return,p=i;break}p=p.return}i=p}}function li(e,t,n,a){e=null;for(var i=t,c=!1;i!==null;){if(!c){if((i.flags&524288)!==0)c=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var p=i.alternate;if(p===null)throw Error(m(387));if(p=p.memoizedProps,p!==null){var g=i.type;mn(i.pendingProps.value,p.value)||(e!==null?e.push(g):e=[g])}}else if(i===Ve.current){if(p=i.alternate,p===null)throw Error(m(387));p.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Mr):e=[Mr])}i=i.return}e!==null&&Lu(t,e,n,a),t.flags|=262144}function rc(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bs(e){xs=e,Za=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function an(e){return ad(xs,e)}function cc(e,t){return xs===null&&bs(e),ad(e,t)}function ad(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Za===null){if(e===null)throw Error(m(308));Za=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Za=Za.next=t;return n}var S0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},T0=r.unstable_scheduleCallback,_0=r.unstable_NormalPriority,Xt={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ku(){return{controller:new S0,data:new Map,refCount:0}}function ir(e){e.refCount--,e.refCount===0&&T0(_0,function(){e.controller.abort()})}var rr=null,Xu=0,si=0,ii=null;function D0(e,t){if(rr===null){var n=rr=[];Xu=0,si=Zo(),ii={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Xu++,t.then(ld,ld),t}function ld(){if(--Xu===0&&rr!==null){ii!==null&&(ii.status="fulfilled");var e=rr;rr=null,si=0,ii=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function C0(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var sd=_.S;_.S=function(e,t){Km=un(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&D0(e,t),sd!==null&&sd(e,t)};var js=N(null);function Gu(){var e=js.current;return e!==null?e:Tt.pooledCache}function uc(e,t){t===null?je(js,js.current):je(js,t.pool)}function id(){var e=Gu();return e===null?null:{parent:Xt._currentValue,pool:e}}var ri=Error(m(460)),Qu=Error(m(474)),oc=Error(m(542)),fc={then:function(){}};function rd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function cd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(jn,jn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,od(e),e;default:if(typeof t.status=="string")t.then(jn,jn);else{if(e=Tt,e!==null&&100<e.shellSuspendCounter)throw Error(m(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,od(e),e}throw Ns=t,ri}}function ws(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ns=n,ri):n}}var Ns=null;function ud(){if(Ns===null)throw Error(m(459));var e=Ns;return Ns=null,e}function od(e){if(e===ri||e===oc)throw Error(m(483))}var ci=null,cr=0;function dc(e){var t=cr;return cr+=1,ci===null&&(ci=[]),cd(ci,e,t)}function ur(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function mc(e,t){throw t.$$typeof===ee?Error(m(525)):(e=Object.prototype.toString.call(t),Error(m(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function fd(e){function t(K,B){if(e){var Z=K.deletions;Z===null?(K.deletions=[B],K.flags|=16):Z.push(B)}}function n(K,B){if(!e)return null;for(;B!==null;)t(K,B),B=B.sibling;return null}function a(K){for(var B=new Map;K!==null;)K.key!==null?B.set(K.key,K):B.set(K.index,K),K=K.sibling;return B}function i(K,B){return K=Qa(K,B),K.index=0,K.sibling=null,K}function c(K,B,Z){return K.index=Z,e?(Z=K.alternate,Z!==null?(Z=Z.index,Z<B?(K.flags|=67108866,B):Z):(K.flags|=67108866,B)):(K.flags|=1048576,B)}function p(K){return e&&K.alternate===null&&(K.flags|=67108866),K}function g(K,B,Z,le){return B===null||B.tag!==6?(B=ku(Z,K.mode,le),B.return=K,B):(B=i(B,Z),B.return=K,B)}function S(K,B,Z,le){var Ke=Z.type;return Ke===de?ae(K,B,Z.props.children,le,Z.key):B!==null&&(B.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===He&&ws(Ke)===B.type)?(B=i(B,Z.props),ur(B,Z),B.return=K,B):(B=sc(Z.type,Z.key,Z.props,null,K.mode,le),ur(B,Z),B.return=K,B)}function J(K,B,Z,le){return B===null||B.tag!==4||B.stateNode.containerInfo!==Z.containerInfo||B.stateNode.implementation!==Z.implementation?(B=zu(Z,K.mode,le),B.return=K,B):(B=i(B,Z.children||[]),B.return=K,B)}function ae(K,B,Z,le,Ke){return B===null||B.tag!==7?(B=vs(Z,K.mode,le,Ke),B.return=K,B):(B=i(B,Z),B.return=K,B)}function re(K,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=ku(""+B,K.mode,Z),B.return=K,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ue:return Z=sc(B.type,B.key,B.props,null,K.mode,Z),ur(Z,B),Z.return=K,Z;case oe:return B=zu(B,K.mode,Z),B.return=K,B;case He:return B=ws(B),re(K,B,Z)}if(De(B)||te(B))return B=vs(B,K.mode,Z,null),B.return=K,B;if(typeof B.then=="function")return re(K,dc(B),Z);if(B.$$typeof===w)return re(K,cc(K,B),Z);mc(K,B)}return null}function $(K,B,Z,le){var Ke=B!==null?B.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ke!==null?null:g(K,B,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ue:return Z.key===Ke?S(K,B,Z,le):null;case oe:return Z.key===Ke?J(K,B,Z,le):null;case He:return Z=ws(Z),$(K,B,Z,le)}if(De(Z)||te(Z))return Ke!==null?null:ae(K,B,Z,le,null);if(typeof Z.then=="function")return $(K,B,dc(Z),le);if(Z.$$typeof===w)return $(K,B,cc(K,Z),le);mc(K,Z)}return null}function W(K,B,Z,le,Ke){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return K=K.get(Z)||null,g(B,K,""+le,Ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case ue:return K=K.get(le.key===null?Z:le.key)||null,S(B,K,le,Ke);case oe:return K=K.get(le.key===null?Z:le.key)||null,J(B,K,le,Ke);case He:return le=ws(le),W(K,B,Z,le,Ke)}if(De(le)||te(le))return K=K.get(Z)||null,ae(B,K,le,Ke,null);if(typeof le.then=="function")return W(K,B,Z,dc(le),Ke);if(le.$$typeof===w)return W(K,B,Z,cc(B,le),Ke);mc(B,le)}return null}function Re(K,B,Z,le){for(var Ke=null,ot=null,qe=B,Pe=B=0,rt=null;qe!==null&&Pe<Z.length;Pe++){qe.index>Pe?(rt=qe,qe=null):rt=qe.sibling;var ft=$(K,qe,Z[Pe],le);if(ft===null){qe===null&&(qe=rt);break}e&&qe&&ft.alternate===null&&t(K,qe),B=c(ft,B,Pe),ot===null?Ke=ft:ot.sibling=ft,ot=ft,qe=rt}if(Pe===Z.length)return n(K,qe),ut&&Va(K,Pe),Ke;if(qe===null){for(;Pe<Z.length;Pe++)qe=re(K,Z[Pe],le),qe!==null&&(B=c(qe,B,Pe),ot===null?Ke=qe:ot.sibling=qe,ot=qe);return ut&&Va(K,Pe),Ke}for(qe=a(qe);Pe<Z.length;Pe++)rt=W(qe,K,Pe,Z[Pe],le),rt!==null&&(e&&rt.alternate!==null&&qe.delete(rt.key===null?Pe:rt.key),B=c(rt,B,Pe),ot===null?Ke=rt:ot.sibling=rt,ot=rt);return e&&qe.forEach(function(Ql){return t(K,Ql)}),ut&&Va(K,Pe),Ke}function Ge(K,B,Z,le){if(Z==null)throw Error(m(151));for(var Ke=null,ot=null,qe=B,Pe=B=0,rt=null,ft=Z.next();qe!==null&&!ft.done;Pe++,ft=Z.next()){qe.index>Pe?(rt=qe,qe=null):rt=qe.sibling;var Ql=$(K,qe,ft.value,le);if(Ql===null){qe===null&&(qe=rt);break}e&&qe&&Ql.alternate===null&&t(K,qe),B=c(Ql,B,Pe),ot===null?Ke=Ql:ot.sibling=Ql,ot=Ql,qe=rt}if(ft.done)return n(K,qe),ut&&Va(K,Pe),Ke;if(qe===null){for(;!ft.done;Pe++,ft=Z.next())ft=re(K,ft.value,le),ft!==null&&(B=c(ft,B,Pe),ot===null?Ke=ft:ot.sibling=ft,ot=ft);return ut&&Va(K,Pe),Ke}for(qe=a(qe);!ft.done;Pe++,ft=Z.next())ft=W(qe,K,Pe,ft.value,le),ft!==null&&(e&&ft.alternate!==null&&qe.delete(ft.key===null?Pe:ft.key),B=c(ft,B,Pe),ot===null?Ke=ft:ot.sibling=ft,ot=ft);return e&&qe.forEach(function(Hy){return t(K,Hy)}),ut&&Va(K,Pe),Ke}function Nt(K,B,Z,le){if(typeof Z=="object"&&Z!==null&&Z.type===de&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ue:e:{for(var Ke=Z.key;B!==null;){if(B.key===Ke){if(Ke=Z.type,Ke===de){if(B.tag===7){n(K,B.sibling),le=i(B,Z.props.children),le.return=K,K=le;break e}}else if(B.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===He&&ws(Ke)===B.type){n(K,B.sibling),le=i(B,Z.props),ur(le,Z),le.return=K,K=le;break e}n(K,B);break}else t(K,B);B=B.sibling}Z.type===de?(le=vs(Z.props.children,K.mode,le,Z.key),le.return=K,K=le):(le=sc(Z.type,Z.key,Z.props,null,K.mode,le),ur(le,Z),le.return=K,K=le)}return p(K);case oe:e:{for(Ke=Z.key;B!==null;){if(B.key===Ke)if(B.tag===4&&B.stateNode.containerInfo===Z.containerInfo&&B.stateNode.implementation===Z.implementation){n(K,B.sibling),le=i(B,Z.children||[]),le.return=K,K=le;break e}else{n(K,B);break}else t(K,B);B=B.sibling}le=zu(Z,K.mode,le),le.return=K,K=le}return p(K);case He:return Z=ws(Z),Nt(K,B,Z,le)}if(De(Z))return Re(K,B,Z,le);if(te(Z)){if(Ke=te(Z),typeof Ke!="function")throw Error(m(150));return Z=Ke.call(Z),Ge(K,B,Z,le)}if(typeof Z.then=="function")return Nt(K,B,dc(Z),le);if(Z.$$typeof===w)return Nt(K,B,cc(K,Z),le);mc(K,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,B!==null&&B.tag===6?(n(K,B.sibling),le=i(B,Z),le.return=K,K=le):(n(K,B),le=ku(Z,K.mode,le),le.return=K,K=le),p(K)):n(K,B)}return function(K,B,Z,le){try{cr=0;var Ke=Nt(K,B,Z,le);return ci=null,Ke}catch(qe){if(qe===ri||qe===oc)throw qe;var ot=Mn(29,qe,null,K.mode);return ot.lanes=le,ot.return=K,ot}}}var Ss=fd(!0),dd=fd(!1),Cl=!1;function Vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function El(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Al(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(mt&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Nl(e),xa(e,null,n),t}return bt(e,a,t,n),Nl(e)}function or(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,St(e,n)}}function Ju(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};c===null?i=c=p:c=c.next=p,n=n.next}while(n!==null);c===null?i=c=t:c=c.next=t}else i=c=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Iu=!1;function fr(){if(Iu){var e=ii;if(e!==null)throw e}}function dr(e,t,n,a){Iu=!1;var i=e.updateQueue;Cl=!1;var c=i.firstBaseUpdate,p=i.lastBaseUpdate,g=i.shared.pending;if(g!==null){i.shared.pending=null;var S=g,J=S.next;S.next=null,p===null?c=J:p.next=J,p=S;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,g=ae.lastBaseUpdate,g!==p&&(g===null?ae.firstBaseUpdate=J:g.next=J,ae.lastBaseUpdate=S))}if(c!==null){var re=i.baseState;p=0,ae=J=S=null,g=c;do{var $=g.lane&-536870913,W=$!==g.lane;if(W?(it&$)===$:(a&$)===$){$!==0&&$===si&&(Iu=!0),ae!==null&&(ae=ae.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var Re=e,Ge=g;$=t;var Nt=n;switch(Ge.tag){case 1:if(Re=Ge.payload,typeof Re=="function"){re=Re.call(Nt,re,$);break e}re=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ge.payload,$=typeof Re=="function"?Re.call(Nt,re,$):Re,$==null)break e;re=q({},re,$);break e;case 2:Cl=!0}}$=g.callback,$!==null&&(e.flags|=64,W&&(e.flags|=8192),W=i.callbacks,W===null?i.callbacks=[$]:W.push($))}else W={lane:$,tag:g.tag,payload:g.payload,callback:g.callback,next:null},ae===null?(J=ae=W,S=re):ae=ae.next=W,p|=$;if(g=g.next,g===null){if(g=i.shared.pending,g===null)break;W=g,g=W.next,W.next=null,i.lastBaseUpdate=W,i.shared.pending=null}}while(!0);ae===null&&(S=re),i.baseState=S,i.firstBaseUpdate=J,i.lastBaseUpdate=ae,c===null&&(i.shared.lanes=0),Bl|=p,e.lanes=p,e.memoizedState=re}}function md(e,t){if(typeof e!="function")throw Error(m(191,e));e.call(t)}function hd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)md(n[e],t)}var ui=N(null),hc=N(0);function pd(e,t){e=al,je(hc,e),je(ui,t),al=e|t.baseLanes}function $u(){je(hc,al),je(ui,ui.current)}function Fu(){al=hc.current,X(ui),X(hc)}var kn=N(null),Jn=null;function Ol(e){var t=e.alternate;je(Yt,Yt.current&1),je(kn,e),Jn===null&&(t===null||ui.current!==null||t.memoizedState!==null)&&(Jn=e)}function Wu(e){je(Yt,Yt.current),je(kn,e),Jn===null&&(Jn=e)}function yd(e){e.tag===22?(je(Yt,Yt.current),je(kn,e),Jn===null&&(Jn=e)):Ml()}function Ml(){je(Yt,Yt.current),je(kn,kn.current)}function zn(e){X(kn),Jn===e&&(Jn=null),X(Yt)}var Yt=N(0);function pc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||sf(n)||rf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ia=0,We=null,jt=null,Gt=null,yc=!1,oi=!1,Ts=!1,vc=0,mr=0,fi=null,E0=0;function zt(){throw Error(m(321))}function Pu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mn(e[n],t[n]))return!1;return!0}function eo(e,t,n,a,i,c){return Ia=c,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_.H=e===null||e.memoizedState===null?Pd:yo,Ts=!1,c=n(a,i),Ts=!1,oi&&(c=gd(t,n,a,i)),vd(e),c}function vd(e){_.H=yr;var t=jt!==null&&jt.next!==null;if(Ia=0,Gt=jt=We=null,yc=!1,mr=0,fi=null,t)throw Error(m(300));e===null||Qt||(e=e.dependencies,e!==null&&rc(e)&&(Qt=!0))}function gd(e,t,n,a){We=e;var i=0;do{if(oi&&(fi=null),mr=0,oi=!1,25<=i)throw Error(m(301));if(i+=1,Gt=jt=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}_.H=em,c=t(n,a)}while(oi);return c}function A0(){var e=_.H,t=e.useState()[0];return t=typeof t.then=="function"?hr(t):t,e=e.useState()[0],(jt!==null?jt.memoizedState:null)!==e&&(We.flags|=1024),t}function to(){var e=vc!==0;return vc=0,e}function no(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ao(e){if(yc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}yc=!1}Ia=0,Gt=jt=We=null,oi=!1,mr=vc=0,fi=null}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?We.memoizedState=Gt=e:Gt=Gt.next=e,Gt}function Lt(){if(jt===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var t=Gt===null?We.memoizedState:Gt.next;if(t!==null)Gt=t,jt=e;else{if(e===null)throw We.alternate===null?Error(m(467)):Error(m(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Gt===null?We.memoizedState=Gt=e:Gt=Gt.next=e}return Gt}function gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hr(e){var t=mr;return mr+=1,fi===null&&(fi=[]),e=cd(fi,e,t),t=We,(Gt===null?t.memoizedState:Gt.next)===null&&(t=t.alternate,_.H=t===null||t.memoizedState===null?Pd:yo),e}function xc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return hr(e);if(e.$$typeof===w)return an(e)}throw Error(m(438,String(e)))}function lo(e){var t=null,n=We.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=We.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=gc(),We.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=nt;return t.index++,n}function $a(e,t){return typeof t=="function"?t(e):t}function bc(e){var t=Lt();return so(t,jt,e)}function so(e,t,n){var a=e.queue;if(a===null)throw Error(m(311));a.lastRenderedReducer=n;var i=e.baseQueue,c=a.pending;if(c!==null){if(i!==null){var p=i.next;i.next=c.next,c.next=p}t.baseQueue=i=c,a.pending=null}if(c=e.baseState,i===null)e.memoizedState=c;else{t=i.next;var g=p=null,S=null,J=t,ae=!1;do{var re=J.lane&-536870913;if(re!==J.lane?(it&re)===re:(Ia&re)===re){var $=J.revertLane;if($===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),re===si&&(ae=!0);else if((Ia&$)===$){J=J.next,$===si&&(ae=!0);continue}else re={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},S===null?(g=S=re,p=c):S=S.next=re,We.lanes|=$,Bl|=$;re=J.action,Ts&&n(c,re),c=J.hasEagerState?J.eagerState:n(c,re)}else $={lane:re,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},S===null?(g=S=$,p=c):S=S.next=$,We.lanes|=re,Bl|=re;J=J.next}while(J!==null&&J!==t);if(S===null?p=c:S.next=g,!mn(c,e.memoizedState)&&(Qt=!0,ae&&(n=ii,n!==null)))throw n;e.memoizedState=c,e.baseState=p,e.baseQueue=S,a.lastRenderedState=c}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function io(e){var t=Lt(),n=t.queue;if(n===null)throw Error(m(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,c=t.memoizedState;if(i!==null){n.pending=null;var p=i=i.next;do c=e(c,p.action),p=p.next;while(p!==i);mn(c,t.memoizedState)||(Qt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,a]}function xd(e,t,n){var a=We,i=Lt(),c=ut;if(c){if(n===void 0)throw Error(m(407));n=n()}else n=t();var p=!mn((jt||i).memoizedState,n);if(p&&(i.memoizedState=n,Qt=!0),i=i.queue,uo(wd.bind(null,a,i,e),[e]),i.getSnapshot!==t||p||Gt!==null&&Gt.memoizedState.tag&1){if(a.flags|=2048,di(9,{destroy:void 0},jd.bind(null,a,i,n,t),null),Tt===null)throw Error(m(349));c||(Ia&127)!==0||bd(a,t,n)}return n}function bd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=We.updateQueue,t===null?(t=gc(),We.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jd(e,t,n,a){t.value=n,t.getSnapshot=a,Nd(t)&&Sd(e)}function wd(e,t,n){return n(function(){Nd(t)&&Sd(e)})}function Nd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mn(e,n)}catch{return!0}}function Sd(e){var t=pt(e,2);t!==null&&_n(t,e,2)}function ro(e){var t=gn();if(typeof e=="function"){var n=e;if(e=n(),Ts){en(!0);try{n()}finally{en(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:e},t}function Td(e,t,n,a){return e.baseState=n,so(e,jt,typeof a=="function"?a:$a)}function O0(e,t,n,a,i){if(Nc(e))throw Error(m(485));if(e=t.action,e!==null){var c={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){c.listeners.push(p)}};_.T!==null?n(!0):c.isTransition=!1,a(c),n=t.pending,n===null?(c.next=t.pending=c,_d(t,c)):(c.next=n.next,t.pending=n.next=c)}}function _d(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var c=_.T,p={};_.T=p;try{var g=n(i,a),S=_.S;S!==null&&S(p,g),Dd(e,t,g)}catch(J){co(e,t,J)}finally{c!==null&&p.types!==null&&(c.types=p.types),_.T=c}}else try{c=n(i,a),Dd(e,t,c)}catch(J){co(e,t,J)}}function Dd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Cd(e,t,a)},function(a){return co(e,t,a)}):Cd(e,t,n)}function Cd(e,t,n){t.status="fulfilled",t.value=n,Ed(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,_d(e,n)))}function co(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Ed(t),t=t.next;while(t!==a)}e.action=null}function Ed(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ad(e,t){return t}function Od(e,t){if(ut){var n=Tt.formState;if(n!==null){e:{var a=We;if(ut){if(At){t:{for(var i=At,c=Zn;i.nodeType!==8;){if(!c){i=null;break t}if(i=In(i.nextSibling),i===null){i=null;break t}}c=i.data,i=c==="F!"||c==="F"?i:null}if(i){At=In(i.nextSibling),a=i.data==="F!";break e}}_l(a)}a=!1}a&&(t=n[0])}}return n=gn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ad,lastRenderedState:t},n.queue=a,n=$d.bind(null,We,a),a.dispatch=n,a=ro(!1),c=po.bind(null,We,!1,a.queue),a=gn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=O0.bind(null,We,i,c,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Md(e){var t=Lt();return kd(t,jt,e)}function kd(e,t,n){if(t=so(e,t,Ad)[0],e=bc($a)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=hr(t)}catch(p){throw p===ri?oc:p}else a=t;t=Lt();var i=t.queue,c=i.dispatch;return n!==t.memoizedState&&(We.flags|=2048,di(9,{destroy:void 0},M0.bind(null,i,n),null)),[a,c,e]}function M0(e,t){e.action=t}function zd(e){var t=Lt(),n=jt;if(n!==null)return kd(t,n,e);Lt(),t=t.memoizedState,n=Lt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function di(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=We.updateQueue,t===null&&(t=gc(),We.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Bd(){return Lt().memoizedState}function jc(e,t,n,a){var i=gn();We.flags|=e,i.memoizedState=di(1|t,{destroy:void 0},n,a===void 0?null:a)}function wc(e,t,n,a){var i=Lt();a=a===void 0?null:a;var c=i.memoizedState.inst;jt!==null&&a!==null&&Pu(a,jt.memoizedState.deps)?i.memoizedState=di(t,c,n,a):(We.flags|=e,i.memoizedState=di(1|t,c,n,a))}function Rd(e,t){jc(8390656,8,e,t)}function uo(e,t){wc(2048,8,e,t)}function k0(e){We.flags|=4;var t=We.updateQueue;if(t===null)t=gc(),We.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Ud(e){var t=Lt().memoizedState;return k0({ref:t,nextImpl:e}),function(){if((mt&2)!==0)throw Error(m(440));return t.impl.apply(void 0,arguments)}}function qd(e,t){return wc(4,2,e,t)}function Hd(e,t){return wc(4,4,e,t)}function Yd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ld(e,t,n){n=n!=null?n.concat([e]):null,wc(4,4,Yd.bind(null,t,e),n)}function oo(){}function Kd(e,t){var n=Lt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Pu(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Xd(e,t){var n=Lt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Pu(t,a[1]))return a[0];if(a=e(),Ts){en(!0);try{e()}finally{en(!1)}}return n.memoizedState=[a,t],a}function fo(e,t,n){return n===void 0||(Ia&1073741824)!==0&&(it&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Gm(),We.lanes|=e,Bl|=e,n)}function Gd(e,t,n,a){return mn(n,t)?n:ui.current!==null?(e=fo(e,n,a),mn(e,t)||(Qt=!0),e):(Ia&42)===0||(Ia&1073741824)!==0&&(it&261930)===0?(Qt=!0,e.memoizedState=n):(e=Gm(),We.lanes|=e,Bl|=e,t)}function Qd(e,t,n,a,i){var c=se.p;se.p=c!==0&&8>c?c:8;var p=_.T,g={};_.T=g,po(e,!1,t,n);try{var S=i(),J=_.S;if(J!==null&&J(g,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var ae=C0(S,a);pr(e,t,ae,Un(e))}else pr(e,t,a,Un(e))}catch(re){pr(e,t,{then:function(){},status:"rejected",reason:re},Un())}finally{se.p=c,p!==null&&g.types!==null&&(p.types=g.types),_.T=p}}function z0(){}function mo(e,t,n,a){if(e.tag!==5)throw Error(m(476));var i=Vd(e).queue;Qd(e,i,t,F,n===null?z0:function(){return Zd(e),n(a)})}function Vd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:F},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Zd(e){var t=Vd(e);t.next===null&&(t=e.alternate.memoizedState),pr(e,t.next.queue,{},Un())}function ho(){return an(Mr)}function Jd(){return Lt().memoizedState}function Id(){return Lt().memoizedState}function B0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Un();e=El(n);var a=Al(t,e,n);a!==null&&(_n(a,t,n),or(a,t,n)),t={cache:Ku()},e.payload=t;return}t=t.return}}function R0(e,t,n){var a=Un();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Nc(e)?Fd(t,n):(n=hn(e,t,n,a),n!==null&&(_n(n,e,a),Wd(n,t,a)))}function $d(e,t,n){var a=Un();pr(e,t,n,a)}function pr(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nc(e))Fd(t,i);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var p=t.lastRenderedState,g=c(p,n);if(i.hasEagerState=!0,i.eagerState=g,mn(g,p))return bt(e,t,i,0),Tt===null&&Je(),!1}catch{}if(n=hn(e,t,i,a),n!==null)return _n(n,e,a),Wd(n,t,a),!0}return!1}function po(e,t,n,a){if(a={lane:2,revertLane:Zo(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(e)){if(t)throw Error(m(479))}else t=hn(e,n,a,2),t!==null&&_n(t,e,2)}function Nc(e){var t=e.alternate;return e===We||t!==null&&t===We}function Fd(e,t){oi=yc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wd(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,St(e,n)}}var yr={readContext:an,use:xc,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};yr.useEffectEvent=zt;var Pd={readContext:an,use:xc,useCallback:function(e,t){return gn().memoizedState=[e,t===void 0?null:t],e},useContext:an,useEffect:Rd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,jc(4194308,4,Yd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jc(4194308,4,e,t)},useInsertionEffect:function(e,t){jc(4,2,e,t)},useMemo:function(e,t){var n=gn();t=t===void 0?null:t;var a=e();if(Ts){en(!0);try{e()}finally{en(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=gn();if(n!==void 0){var i=n(t);if(Ts){en(!0);try{n(t)}finally{en(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=R0.bind(null,We,e),[a.memoizedState,e]},useRef:function(e){var t=gn();return e={current:e},t.memoizedState=e},useState:function(e){e=ro(e);var t=e.queue,n=$d.bind(null,We,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:oo,useDeferredValue:function(e,t){var n=gn();return fo(n,e,t)},useTransition:function(){var e=ro(!1);return e=Qd.bind(null,We,e.queue,!0,!1),gn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=We,i=gn();if(ut){if(n===void 0)throw Error(m(407));n=n()}else{if(n=t(),Tt===null)throw Error(m(349));(it&127)!==0||bd(a,t,n)}i.memoizedState=n;var c={value:n,getSnapshot:t};return i.queue=c,Rd(wd.bind(null,a,c,e),[e]),a.flags|=2048,di(9,{destroy:void 0},jd.bind(null,a,c,n,t),null),n},useId:function(){var e=gn(),t=Tt.identifierPrefix;if(ut){var n=ja,a=ba;n=(a&~(1<<32-Oe(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=vc++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=E0++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ho,useFormState:Od,useActionState:Od,useOptimistic:function(e){var t=gn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=po.bind(null,We,!0,n),n.dispatch=t,[e,t]},useMemoCache:lo,useCacheRefresh:function(){return gn().memoizedState=B0.bind(null,We)},useEffectEvent:function(e){var t=gn(),n={impl:e};return t.memoizedState=n,function(){if((mt&2)!==0)throw Error(m(440));return n.impl.apply(void 0,arguments)}}},yo={readContext:an,use:xc,useCallback:Kd,useContext:an,useEffect:uo,useImperativeHandle:Ld,useInsertionEffect:qd,useLayoutEffect:Hd,useMemo:Xd,useReducer:bc,useRef:Bd,useState:function(){return bc($a)},useDebugValue:oo,useDeferredValue:function(e,t){var n=Lt();return Gd(n,jt.memoizedState,e,t)},useTransition:function(){var e=bc($a)[0],t=Lt().memoizedState;return[typeof e=="boolean"?e:hr(e),t]},useSyncExternalStore:xd,useId:Jd,useHostTransitionStatus:ho,useFormState:Md,useActionState:Md,useOptimistic:function(e,t){var n=Lt();return Td(n,jt,e,t)},useMemoCache:lo,useCacheRefresh:Id};yo.useEffectEvent=Ud;var em={readContext:an,use:xc,useCallback:Kd,useContext:an,useEffect:uo,useImperativeHandle:Ld,useInsertionEffect:qd,useLayoutEffect:Hd,useMemo:Xd,useReducer:io,useRef:Bd,useState:function(){return io($a)},useDebugValue:oo,useDeferredValue:function(e,t){var n=Lt();return jt===null?fo(n,e,t):Gd(n,jt.memoizedState,e,t)},useTransition:function(){var e=io($a)[0],t=Lt().memoizedState;return[typeof e=="boolean"?e:hr(e),t]},useSyncExternalStore:xd,useId:Jd,useHostTransitionStatus:ho,useFormState:zd,useActionState:zd,useOptimistic:function(e,t){var n=Lt();return jt!==null?Td(n,jt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:lo,useCacheRefresh:Id};em.useEffectEvent=Ud;function vo(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var go={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Un(),i=El(a);i.payload=t,n!=null&&(i.callback=n),t=Al(e,i,a),t!==null&&(_n(t,e,a),or(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Un(),i=El(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Al(e,i,a),t!==null&&(_n(t,e,a),or(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Un(),a=El(n);a.tag=2,t!=null&&(a.callback=t),t=Al(e,a,n),t!==null&&(_n(t,e,n),or(t,e,n))}};function tm(e,t,n,a,i,c,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,p):t.prototype&&t.prototype.isPureReactComponent?!s(n,a)||!s(i,c):!0}function nm(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function _s(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=q({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function am(e){ke(e)}function lm(e){console.error(e)}function sm(e){ke(e)}function Sc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function im(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function xo(e,t,n){return n=El(n),n.tag=3,n.payload={element:null},n.callback=function(){Sc(e,t)},n}function rm(e){return e=El(e),e.tag=3,e}function cm(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var c=a.value;e.payload=function(){return i(c)},e.callback=function(){im(t,n,a)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){im(t,n,a),typeof i!="function"&&(Rl===null?Rl=new Set([this]):Rl.add(this));var g=a.stack;this.componentDidCatch(a.value,{componentStack:g!==null?g:""})})}function U0(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&li(t,n,i,!0),n=kn.current,n!==null){switch(n.tag){case 31:case 13:return Jn===null?Rc():n.alternate===null&&Bt===0&&(Bt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===fc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Go(e,a,i)),!1;case 22:return n.flags|=65536,a===fc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Go(e,a,i)),!1}throw Error(m(435,n.tag))}return Go(e,a,i),Rc(),!1}if(ut)return t=kn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Uu&&(e=Error(m(422),{cause:a}),sr(Gn(e,n)))):(a!==Uu&&(t=Error(m(423),{cause:a}),sr(Gn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Gn(a,n),i=xo(e.stateNode,a,i),Ju(e,i),Bt!==4&&(Bt=2)),!1;var c=Error(m(520),{cause:a});if(c=Gn(c,n),Sr===null?Sr=[c]:Sr.push(c),Bt!==4&&(Bt=2),t===null)return!0;a=Gn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=xo(n.stateNode,a,e),Ju(n,e),!1;case 1:if(t=n.type,c=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Rl===null||!Rl.has(c))))return n.flags|=65536,i&=-i,n.lanes|=i,i=rm(i),cm(i,e,n,a),Ju(n,i),!1}n=n.return}while(n!==null);return!1}var bo=Error(m(461)),Qt=!1;function ln(e,t,n,a){t.child=e===null?dd(t,null,n,a):Ss(t,e.child,n,a)}function um(e,t,n,a,i){n=n.render;var c=t.ref;if("ref"in a){var p={};for(var g in a)g!=="ref"&&(p[g]=a[g])}else p=a;return bs(t),a=eo(e,t,n,p,c,i),g=to(),e!==null&&!Qt?(no(e,t,i),Fa(e,t,i)):(ut&&g&&Bu(t),t.flags|=1,ln(e,t,a,i),t.child)}function om(e,t,n,a,i){if(e===null){var c=n.type;return typeof c=="function"&&!Mu(c)&&c.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=c,fm(e,t,c,a,i)):(e=sc(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Co(e,i)){var p=c.memoizedProps;if(n=n.compare,n=n!==null?n:s,n(p,a)&&e.ref===t.ref)return Fa(e,t,i)}return t.flags|=1,e=Qa(c,a),e.ref=t.ref,e.return=t,t.child=e}function fm(e,t,n,a,i){if(e!==null){var c=e.memoizedProps;if(s(c,a)&&e.ref===t.ref)if(Qt=!1,t.pendingProps=a=c,Co(e,i))(e.flags&131072)!==0&&(Qt=!0);else return t.lanes=e.lanes,Fa(e,t,i)}return jo(e,t,n,a,i)}function dm(e,t,n,a){var i=a.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~c}else a=0,t.child=null;return mm(e,t,c,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&uc(t,c!==null?c.cachePool:null),c!==null?pd(t,c):$u(),yd(t);else return a=t.lanes=536870912,mm(e,t,c!==null?c.baseLanes|n:n,n,a)}else c!==null?(uc(t,c.cachePool),pd(t,c),Ml(),t.memoizedState=null):(e!==null&&uc(t,null),$u(),Ml());return ln(e,t,i,n),t.child}function vr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function mm(e,t,n,a,i){var c=Gu();return c=c===null?null:{parent:Xt._currentValue,pool:c},t.memoizedState={baseLanes:n,cachePool:c},e!==null&&uc(t,null),$u(),yd(t),e!==null&&li(e,t,a,!0),t.childLanes=i,null}function Tc(e,t){return t=Dc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hm(e,t,n){return Ss(t,e.child,null,n),e=Tc(t,t.pendingProps),e.flags|=2,zn(t),t.memoizedState=null,e}function q0(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ut){if(a.mode==="hidden")return e=Tc(t,a),t.lanes=536870912,vr(null,e);if(Wu(t),(e=At)?(e=_h(e,Zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sl!==null?{id:ba,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},n=Ff(e),n.return=t,t.child=n,nn=t,At=null)):e=null,e===null)throw _l(t);return t.lanes=536870912,null}return Tc(t,a)}var c=e.memoizedState;if(c!==null){var p=c.dehydrated;if(Wu(t),i)if(t.flags&256)t.flags&=-257,t=hm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(m(558));else if(Qt||li(e,t,n,!1),i=(n&e.childLanes)!==0,Qt||i){if(a=Tt,a!==null&&(p=Ut(a,n),p!==0&&p!==c.retryLane))throw c.retryLane=p,pt(e,p),_n(a,e,p),bo;Rc(),t=hm(e,t,n)}else e=c.treeContext,At=In(p.nextSibling),nn=t,ut=!0,Tl=null,Zn=!1,e!==null&&ed(t,e),t=Tc(t,a),t.flags|=4096;return t}return e=Qa(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function _c(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(m(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function jo(e,t,n,a,i){return bs(t),n=eo(e,t,n,a,void 0,i),a=to(),e!==null&&!Qt?(no(e,t,i),Fa(e,t,i)):(ut&&a&&Bu(t),t.flags|=1,ln(e,t,n,i),t.child)}function pm(e,t,n,a,i,c){return bs(t),t.updateQueue=null,n=gd(t,a,n,i),vd(e),a=to(),e!==null&&!Qt?(no(e,t,c),Fa(e,t,c)):(ut&&a&&Bu(t),t.flags|=1,ln(e,t,n,c),t.child)}function ym(e,t,n,a,i){if(bs(t),t.stateNode===null){var c=ei,p=n.contextType;typeof p=="object"&&p!==null&&(c=an(p)),c=new n(a,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=go,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=a,c.state=t.memoizedState,c.refs={},Vu(t),p=n.contextType,c.context=typeof p=="object"&&p!==null?an(p):ei,c.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(vo(t,n,p,a),c.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(p=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),p!==c.state&&go.enqueueReplaceState(c,c.state,null),dr(t,a,c,i),fr(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){c=t.stateNode;var g=t.memoizedProps,S=_s(n,g);c.props=S;var J=c.context,ae=n.contextType;p=ei,typeof ae=="object"&&ae!==null&&(p=an(ae));var re=n.getDerivedStateFromProps;ae=typeof re=="function"||typeof c.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,ae||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g||J!==p)&&nm(t,c,a,p),Cl=!1;var $=t.memoizedState;c.state=$,dr(t,a,c,i),fr(),J=t.memoizedState,g||$!==J||Cl?(typeof re=="function"&&(vo(t,n,re,a),J=t.memoizedState),(S=Cl||tm(t,n,S,a,$,J,p))?(ae||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=J),c.props=a,c.state=J,c.context=p,a=S):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,Zu(e,t),p=t.memoizedProps,ae=_s(n,p),c.props=ae,re=t.pendingProps,$=c.context,J=n.contextType,S=ei,typeof J=="object"&&J!==null&&(S=an(J)),g=n.getDerivedStateFromProps,(J=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==re||$!==S)&&nm(t,c,a,S),Cl=!1,$=t.memoizedState,c.state=$,dr(t,a,c,i),fr();var W=t.memoizedState;p!==re||$!==W||Cl||e!==null&&e.dependencies!==null&&rc(e.dependencies)?(typeof g=="function"&&(vo(t,n,g,a),W=t.memoizedState),(ae=Cl||tm(t,n,ae,a,$,W,S)||e!==null&&e.dependencies!==null&&rc(e.dependencies))?(J||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,W,S),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,W,S)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=W),c.props=a,c.state=W,c.context=S,a=ae):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),a=!1)}return c=a,_c(e,t),a=(t.flags&128)!==0,c||a?(c=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&a?(t.child=Ss(t,e.child,null,i),t.child=Ss(t,null,n,i)):ln(e,t,n,i),t.memoizedState=c.state,e=t.child):e=Fa(e,t,i),e}function vm(e,t,n,a){return gs(),t.flags|=256,ln(e,t,n,a),t.child}var wo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function No(e){return{baseLanes:e,cachePool:id()}}function So(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Rn),e}function gm(e,t,n){var a=t.pendingProps,i=!1,c=(t.flags&128)!==0,p;if((p=c)||(p=e!==null&&e.memoizedState===null?!1:(Yt.current&2)!==0),p&&(i=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(ut){if(i?Ol(t):Ml(),(e=At)?(e=_h(e,Zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sl!==null?{id:ba,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},n=Ff(e),n.return=t,t.child=n,nn=t,At=null)):e=null,e===null)throw _l(t);return rf(e)?t.lanes=32:t.lanes=536870912,null}var g=a.children;return a=a.fallback,i?(Ml(),i=t.mode,g=Dc({mode:"hidden",children:g},i),a=vs(a,i,n,null),g.return=t,a.return=t,g.sibling=a,t.child=g,a=t.child,a.memoizedState=No(n),a.childLanes=So(e,p,n),t.memoizedState=wo,vr(null,a)):(Ol(t),To(t,g))}var S=e.memoizedState;if(S!==null&&(g=S.dehydrated,g!==null)){if(c)t.flags&256?(Ol(t),t.flags&=-257,t=_o(e,t,n)):t.memoizedState!==null?(Ml(),t.child=e.child,t.flags|=128,t=null):(Ml(),g=a.fallback,i=t.mode,a=Dc({mode:"visible",children:a.children},i),g=vs(g,i,n,null),g.flags|=2,a.return=t,g.return=t,a.sibling=g,t.child=a,Ss(t,e.child,null,n),a=t.child,a.memoizedState=No(n),a.childLanes=So(e,p,n),t.memoizedState=wo,t=vr(null,a));else if(Ol(t),rf(g)){if(p=g.nextSibling&&g.nextSibling.dataset,p)var J=p.dgst;p=J,a=Error(m(419)),a.stack="",a.digest=p,sr({value:a,source:null,stack:null}),t=_o(e,t,n)}else if(Qt||li(e,t,n,!1),p=(n&e.childLanes)!==0,Qt||p){if(p=Tt,p!==null&&(a=Ut(p,n),a!==0&&a!==S.retryLane))throw S.retryLane=a,pt(e,a),_n(p,e,a),bo;sf(g)||Rc(),t=_o(e,t,n)}else sf(g)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,At=In(g.nextSibling),nn=t,ut=!0,Tl=null,Zn=!1,e!==null&&ed(t,e),t=To(t,a.children),t.flags|=4096);return t}return i?(Ml(),g=a.fallback,i=t.mode,S=e.child,J=S.sibling,a=Qa(S,{mode:"hidden",children:a.children}),a.subtreeFlags=S.subtreeFlags&65011712,J!==null?g=Qa(J,g):(g=vs(g,i,n,null),g.flags|=2),g.return=t,a.return=t,a.sibling=g,t.child=a,vr(null,a),a=t.child,g=e.child.memoizedState,g===null?g=No(n):(i=g.cachePool,i!==null?(S=Xt._currentValue,i=i.parent!==S?{parent:S,pool:S}:i):i=id(),g={baseLanes:g.baseLanes|n,cachePool:i}),a.memoizedState=g,a.childLanes=So(e,p,n),t.memoizedState=wo,vr(e.child,a)):(Ol(t),n=e.child,e=n.sibling,n=Qa(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function To(e,t){return t=Dc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Dc(e,t){return e=Mn(22,e,null,t),e.lanes=0,e}function _o(e,t,n){return Ss(t,e.child,null,n),e=To(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xm(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Yu(e.return,t,n)}function Do(e,t,n,a,i,c){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:c}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=n,p.tailMode=i,p.treeForkCount=c)}function bm(e,t,n){var a=t.pendingProps,i=a.revealOrder,c=a.tail;a=a.children;var p=Yt.current,g=(p&2)!==0;if(g?(p=p&1|2,t.flags|=128):p&=1,je(Yt,p),ln(e,t,a,n),a=ut?lr:0,!g&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xm(e,n,t);else if(e.tag===19)xm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&pc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Do(t,!1,i,n,c,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&pc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Do(t,!0,n,null,c,a);break;case"together":Do(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Fa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(li(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(m(153));if(t.child!==null){for(e=t.child,n=Qa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Co(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&rc(e)))}function H0(e,t,n){switch(t.tag){case 3:kt(t,t.stateNode.containerInfo),Dl(t,Xt,e.memoizedState.cache),gs();break;case 27:case 5:Ue(t);break;case 4:kt(t,t.stateNode.containerInfo);break;case 10:Dl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Wu(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ol(t),t.flags|=128,null):(n&t.child.childLanes)!==0?gm(e,t,n):(Ol(t),e=Fa(e,t,n),e!==null?e.sibling:null);Ol(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(li(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return bm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Yt,Yt.current),a)break;return null;case 22:return t.lanes=0,dm(e,t,n,t.pendingProps);case 24:Dl(t,Xt,e.memoizedState.cache)}return Fa(e,t,n)}function jm(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qt=!0;else{if(!Co(e,n)&&(t.flags&128)===0)return Qt=!1,H0(e,t,n);Qt=(e.flags&131072)!==0}else Qt=!1,ut&&(t.flags&1048576)!==0&&Pf(t,lr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=ws(t.elementType),t.type=e,typeof e=="function")Mu(e)?(a=_s(e,a),t.tag=1,t=ym(null,t,e,a,n)):(t.tag=0,t=jo(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===ge){t.tag=11,t=um(null,t,e,a,n);break e}else if(i===ce){t.tag=14,t=om(null,t,e,a,n);break e}}throw t=me(e)||e,Error(m(306,t,""))}}return t;case 0:return jo(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=_s(a,t.pendingProps),ym(e,t,a,i,n);case 3:e:{if(kt(t,t.stateNode.containerInfo),e===null)throw Error(m(387));a=t.pendingProps;var c=t.memoizedState;i=c.element,Zu(e,t),dr(t,a,null,n);var p=t.memoizedState;if(a=p.cache,Dl(t,Xt,a),a!==c.cache&&Lu(t,[Xt],n,!0),fr(),a=p.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=vm(e,t,a,n);break e}else if(a!==i){i=Gn(Error(m(424)),t),sr(i),t=vm(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,At=In(e.firstChild),nn=t,ut=!0,Tl=null,Zn=!0,n=dd(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gs(),a===i){t=Fa(e,t,n);break e}ln(e,t,a,n)}t=t.child}return t;case 26:return _c(e,t),e===null?(n=Mh(t.type,null,t.pendingProps,null))?t.memoizedState=n:ut||(n=t.type,e=t.pendingProps,a=Xc(Qe.current).createElement(n),a[Dt]=t,a[qt]=e,sn(a,n,e),Ht(a),t.stateNode=a):t.memoizedState=Mh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ue(t),e===null&&ut&&(a=t.stateNode=Eh(t.type,t.pendingProps,Qe.current),nn=t,Zn=!0,i=At,Yl(t.type)?(cf=i,At=In(a.firstChild)):At=i),ln(e,t,t.pendingProps.children,n),_c(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ut&&((i=a=At)&&(a=py(a,t.type,t.pendingProps,Zn),a!==null?(t.stateNode=a,nn=t,At=In(a.firstChild),Zn=!1,i=!0):i=!1),i||_l(t)),Ue(t),i=t.type,c=t.pendingProps,p=e!==null?e.memoizedProps:null,a=c.children,nf(i,c)?a=null:p!==null&&nf(i,p)&&(t.flags|=32),t.memoizedState!==null&&(i=eo(e,t,A0,null,null,n),Mr._currentValue=i),_c(e,t),ln(e,t,a,n),t.child;case 6:return e===null&&ut&&((e=n=At)&&(n=yy(n,t.pendingProps,Zn),n!==null?(t.stateNode=n,nn=t,At=null,e=!0):e=!1),e||_l(t)),null;case 13:return gm(e,t,n);case 4:return kt(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ss(t,null,a,n):ln(e,t,a,n),t.child;case 11:return um(e,t,t.type,t.pendingProps,n);case 7:return ln(e,t,t.pendingProps,n),t.child;case 8:return ln(e,t,t.pendingProps.children,n),t.child;case 12:return ln(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Dl(t,t.type,a.value),ln(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,bs(t),i=an(i),a=a(i),t.flags|=1,ln(e,t,a,n),t.child;case 14:return om(e,t,t.type,t.pendingProps,n);case 15:return fm(e,t,t.type,t.pendingProps,n);case 19:return bm(e,t,n);case 31:return q0(e,t,n);case 22:return dm(e,t,n,t.pendingProps);case 24:return bs(t),a=an(Xt),e===null?(i=Gu(),i===null&&(i=Tt,c=Ku(),i.pooledCache=c,c.refCount++,c!==null&&(i.pooledCacheLanes|=n),i=c),t.memoizedState={parent:a,cache:i},Vu(t),Dl(t,Xt,i)):((e.lanes&n)!==0&&(Zu(e,t),dr(t,null,null,n),fr()),i=e.memoizedState,c=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Dl(t,Xt,a)):(a=c.cache,Dl(t,Xt,a),a!==i.cache&&Lu(t,[Xt],n,!0))),ln(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(m(156,t.tag))}function Wa(e){e.flags|=4}function Eo(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Jm())e.flags|=8192;else throw Ns=fc,Qu}else e.flags&=-16777217}function wm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Uh(t))if(Jm())e.flags|=8192;else throw Ns=fc,Qu}function Cc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Gr():536870912,e.lanes|=t,yi|=t)}function gr(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Y0(e,t,n){var a=t.pendingProps;switch(Ru(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(t),null;case 1:return Ot(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ja(Xt),_t(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ai(t)?Wa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,qu())),Ot(t),null;case 26:var i=t.type,c=t.memoizedState;return e===null?(Wa(t),c!==null?(Ot(t),wm(t,c)):(Ot(t),Eo(t,i,null,a,n))):c?c!==e.memoizedState?(Wa(t),Ot(t),wm(t,c)):(Ot(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Wa(t),Ot(t),Eo(t,i,e,a,n)),null;case 27:if(Be(t),n=Qe.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Wa(t);else{if(!a){if(t.stateNode===null)throw Error(m(166));return Ot(t),null}e=Ne.current,ai(t)?td(t):(e=Eh(i,a,n),t.stateNode=e,Wa(t))}return Ot(t),null;case 5:if(Be(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Wa(t);else{if(!a){if(t.stateNode===null)throw Error(m(166));return Ot(t),null}if(c=Ne.current,ai(t))td(t);else{var p=Xc(Qe.current);switch(c){case 1:c=p.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:c=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":c=p.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":c=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":c=p.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof a.is=="string"?p.createElement("select",{is:a.is}):p.createElement("select"),a.multiple?c.multiple=!0:a.size&&(c.size=a.size);break;default:c=typeof a.is=="string"?p.createElement(i,{is:a.is}):p.createElement(i)}}c[Dt]=t,c[qt]=a;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)c.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=c;e:switch(sn(c,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Wa(t)}}return Ot(t),Eo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Wa(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(m(166));if(e=Qe.current,ai(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=nn,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Dt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||gh(e.nodeValue,n)),e||_l(t,!0)}else e=Xc(e).createTextNode(a),e[Dt]=t,t.stateNode=e}return Ot(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=ai(t),n!==null){if(e===null){if(!a)throw Error(m(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(557));e[Dt]=t}else gs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ot(t),e=!1}else n=qu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(zn(t),t):(zn(t),null);if((t.flags&128)!==0)throw Error(m(558))}return Ot(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=ai(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(m(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(m(317));i[Dt]=t}else gs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ot(t),i=!1}else i=qu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(zn(t),t):(zn(t),null)}return zn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Cc(t,t.updateQueue),Ot(t),null);case 4:return _t(),e===null&&Fo(t.stateNode.containerInfo),Ot(t),null;case 10:return Ja(t.type),Ot(t),null;case 19:if(X(Yt),a=t.memoizedState,a===null)return Ot(t),null;if(i=(t.flags&128)!==0,c=a.rendering,c===null)if(i)gr(a,!1);else{if(Bt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=pc(e),c!==null){for(t.flags|=128,gr(a,!1),e=c.updateQueue,t.updateQueue=e,Cc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)$f(n,e),n=n.sibling;return je(Yt,Yt.current&1|2),ut&&Va(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&un()>kc&&(t.flags|=128,i=!0,gr(a,!1),t.lanes=4194304)}else{if(!i)if(e=pc(c),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Cc(t,e),gr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!ut)return Ot(t),null}else 2*un()-a.renderingStartTime>kc&&n!==536870912&&(t.flags|=128,i=!0,gr(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(e=a.last,e!==null?e.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=un(),e.sibling=null,n=Yt.current,je(Yt,i?n&1|2:n&1),ut&&Va(t,a.treeForkCount),e):(Ot(t),null);case 22:case 23:return zn(t),Fu(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Ot(t),t.subtreeFlags&6&&(t.flags|=8192)):Ot(t),n=t.updateQueue,n!==null&&Cc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&X(js),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ja(Xt),Ot(t),null;case 25:return null;case 30:return null}throw Error(m(156,t.tag))}function L0(e,t){switch(Ru(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ja(Xt),_t(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Be(t),null;case 31:if(t.memoizedState!==null){if(zn(t),t.alternate===null)throw Error(m(340));gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(zn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(m(340));gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X(Yt),null;case 4:return _t(),null;case 10:return Ja(t.type),null;case 22:case 23:return zn(t),Fu(),e!==null&&X(js),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ja(Xt),null;case 25:return null;default:return null}}function Nm(e,t){switch(Ru(t),t.tag){case 3:Ja(Xt),_t();break;case 26:case 27:case 5:Be(t);break;case 4:_t();break;case 31:t.memoizedState!==null&&zn(t);break;case 13:zn(t);break;case 19:X(Yt);break;case 10:Ja(t.type);break;case 22:case 23:zn(t),Fu(),e!==null&&X(js);break;case 24:Ja(Xt)}}function xr(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var c=n.create,p=n.inst;a=c(),p.destroy=a}n=n.next}while(n!==i)}}catch(g){vt(t,t.return,g)}}function kl(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var c=i.next;a=c;do{if((a.tag&e)===e){var p=a.inst,g=p.destroy;if(g!==void 0){p.destroy=void 0,i=t;var S=n,J=g;try{J()}catch(ae){vt(i,S,ae)}}}a=a.next}while(a!==c)}}catch(ae){vt(t,t.return,ae)}}function Sm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{hd(t,n)}catch(a){vt(e,e.return,a)}}}function Tm(e,t,n){n.props=_s(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){vt(e,t,a)}}function br(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){vt(e,t,i)}}function wa(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){vt(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){vt(e,t,i)}else n.current=null}function _m(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){vt(e,e.return,i)}}function Ao(e,t,n){try{var a=e.stateNode;uy(a,e.type,n,t),a[qt]=t}catch(i){vt(e,e.return,i)}}function Dm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yl(e.type)||e.tag===4}function Oo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mo(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=jn));else if(a!==4&&(a===27&&Yl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Mo(e,t,n),e=e.sibling;e!==null;)Mo(e,t,n),e=e.sibling}function Ec(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Yl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ec(e,t,n),e=e.sibling;e!==null;)Ec(e,t,n),e=e.sibling}function Cm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);sn(t,a,n),t[Dt]=e,t[qt]=n}catch(c){vt(e,e.return,c)}}var Pa=!1,Vt=!1,ko=!1,Em=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function K0(e,t){if(e=e.containerInfo,ef=$c,e=y(e),v(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var p=0,g=-1,S=-1,J=0,ae=0,re=e,$=null;t:for(;;){for(var W;re!==n||i!==0&&re.nodeType!==3||(g=p+i),re!==c||a!==0&&re.nodeType!==3||(S=p+a),re.nodeType===3&&(p+=re.nodeValue.length),(W=re.firstChild)!==null;)$=re,re=W;for(;;){if(re===e)break t;if($===n&&++J===i&&(g=p),$===c&&++ae===a&&(S=p),(W=re.nextSibling)!==null)break;re=$,$=re.parentNode}re=W}n=g===-1||S===-1?null:{start:g,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(tf={focusedElem:e,selectionRange:n},$c=!1,Wt=t;Wt!==null;)if(t=Wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Wt=e;else for(;Wt!==null;){switch(t=Wt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,n=t,i=c.memoizedProps,c=c.memoizedState,a=n.stateNode;try{var Re=_s(n.type,i);e=a.getSnapshotBeforeUpdate(Re,c),a.__reactInternalSnapshotBeforeUpdate=e}catch(Ge){vt(n,n.return,Ge)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)lf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(m(163))}if(e=t.sibling,e!==null){e.return=t.return,Wt=e;break}Wt=t.return}}function Am(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:tl(e,n),a&4&&xr(5,n);break;case 1:if(tl(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){vt(n,n.return,p)}else{var i=_s(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){vt(n,n.return,p)}}a&64&&Sm(n),a&512&&br(n,n.return);break;case 3:if(tl(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{hd(e,t)}catch(p){vt(n,n.return,p)}}break;case 27:t===null&&a&4&&Cm(n);case 26:case 5:tl(e,n),t===null&&a&4&&_m(n),a&512&&br(n,n.return);break;case 12:tl(e,n);break;case 31:tl(e,n),a&4&&km(e,n);break;case 13:tl(e,n),a&4&&zm(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=F0.bind(null,n),vy(e,n))));break;case 22:if(a=n.memoizedState!==null||Pa,!a){t=t!==null&&t.memoizedState!==null||Vt,i=Pa;var c=Vt;Pa=a,(Vt=t)&&!c?nl(e,n,(n.subtreeFlags&8772)!==0):tl(e,n),Pa=i,Vt=c}break;case 30:break;default:tl(e,n)}}function Om(e){var t=e.alternate;t!==null&&(e.alternate=null,Om(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&zs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Mt=null,wn=!1;function el(e,t,n){for(n=n.child;n!==null;)Mm(e,t,n),n=n.sibling}function Mm(e,t,n){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(ua,n)}catch{}switch(n.tag){case 26:Vt||wa(n,t),el(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Vt||wa(n,t);var a=Mt,i=wn;Yl(n.type)&&(Mt=n.stateNode,wn=!1),el(e,t,n),Er(n.stateNode),Mt=a,wn=i;break;case 5:Vt||wa(n,t);case 6:if(a=Mt,i=wn,Mt=null,el(e,t,n),Mt=a,wn=i,Mt!==null)if(wn)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(n.stateNode)}catch(c){vt(n,t,c)}else try{Mt.removeChild(n.stateNode)}catch(c){vt(n,t,c)}break;case 18:Mt!==null&&(wn?(e=Mt,Sh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Si(e)):Sh(Mt,n.stateNode));break;case 4:a=Mt,i=wn,Mt=n.stateNode.containerInfo,wn=!0,el(e,t,n),Mt=a,wn=i;break;case 0:case 11:case 14:case 15:kl(2,n,t),Vt||kl(4,n,t),el(e,t,n);break;case 1:Vt||(wa(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Tm(n,t,a)),el(e,t,n);break;case 21:el(e,t,n);break;case 22:Vt=(a=Vt)||n.memoizedState!==null,el(e,t,n),Vt=a;break;default:el(e,t,n)}}function km(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Si(e)}catch(n){vt(t,t.return,n)}}}function zm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Si(e)}catch(n){vt(t,t.return,n)}}function X0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Em),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Em),t;default:throw Error(m(435,e.tag))}}function Ac(e,t){var n=X0(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=W0.bind(null,e,a);a.then(i,i)}})}function Nn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],c=e,p=t,g=p;e:for(;g!==null;){switch(g.tag){case 27:if(Yl(g.type)){Mt=g.stateNode,wn=!1;break e}break;case 5:Mt=g.stateNode,wn=!1;break e;case 3:case 4:Mt=g.stateNode.containerInfo,wn=!0;break e}g=g.return}if(Mt===null)throw Error(m(160));Mm(c,p,i),Mt=null,wn=!1,c=i.alternate,c!==null&&(c.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Bm(t,e),t=t.sibling}var na=null;function Bm(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nn(t,e),Sn(e),a&4&&(kl(3,e,e.return),xr(3,e),kl(5,e,e.return));break;case 1:Nn(t,e),Sn(e),a&512&&(Vt||n===null||wa(n,n.return)),a&64&&Pa&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=na;if(Nn(t,e),Sn(e),a&512&&(Vt||n===null||wa(n,n.return)),a&4){var c=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":c=i.getElementsByTagName("title")[0],(!c||c[En]||c[Dt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=i.createElement(a),i.head.insertBefore(c,i.querySelector("head > title"))),sn(c,a,n),c[Dt]=e,Ht(c),a=c;break e;case"link":var p=Bh("link","href",i).get(a+(n.href||""));if(p){for(var g=0;g<p.length;g++)if(c=p[g],c.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&c.getAttribute("rel")===(n.rel==null?null:n.rel)&&c.getAttribute("title")===(n.title==null?null:n.title)&&c.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(g,1);break t}}c=i.createElement(a),sn(c,a,n),i.head.appendChild(c);break;case"meta":if(p=Bh("meta","content",i).get(a+(n.content||""))){for(g=0;g<p.length;g++)if(c=p[g],c.getAttribute("content")===(n.content==null?null:""+n.content)&&c.getAttribute("name")===(n.name==null?null:n.name)&&c.getAttribute("property")===(n.property==null?null:n.property)&&c.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&c.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(g,1);break t}}c=i.createElement(a),sn(c,a,n),i.head.appendChild(c);break;default:throw Error(m(468,a))}c[Dt]=e,Ht(c),a=c}e.stateNode=a}else Rh(i,e.type,e.stateNode);else e.stateNode=zh(i,a,e.memoizedProps);else c!==a?(c===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):c.count--,a===null?Rh(i,e.type,e.stateNode):zh(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Ao(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nn(t,e),Sn(e),a&512&&(Vt||n===null||wa(n,n.return)),n!==null&&a&4&&Ao(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nn(t,e),Sn(e),a&512&&(Vt||n===null||wa(n,n.return)),e.flags&32){i=e.stateNode;try{Ba(i,"")}catch(Re){vt(e,e.return,Re)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,Ao(e,i,n!==null?n.memoizedProps:i)),a&1024&&(ko=!0);break;case 6:if(Nn(t,e),Sn(e),a&4){if(e.stateNode===null)throw Error(m(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Re){vt(e,e.return,Re)}}break;case 3:if(Vc=null,i=na,na=Gc(t.containerInfo),Nn(t,e),na=i,Sn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Si(t.containerInfo)}catch(Re){vt(e,e.return,Re)}ko&&(ko=!1,Rm(e));break;case 4:a=na,na=Gc(e.stateNode.containerInfo),Nn(t,e),Sn(e),na=a;break;case 12:Nn(t,e),Sn(e);break;case 31:Nn(t,e),Sn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ac(e,a)));break;case 13:Nn(t,e),Sn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Mc=un()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ac(e,a)));break;case 22:i=e.memoizedState!==null;var S=n!==null&&n.memoizedState!==null,J=Pa,ae=Vt;if(Pa=J||i,Vt=ae||S,Nn(t,e),Vt=ae,Pa=J,Sn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||S||Pa||Vt||Ds(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){S=n=t;try{if(c=S.stateNode,i)p=c.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{g=S.stateNode;var re=S.memoizedProps.style,$=re!=null&&re.hasOwnProperty("display")?re.display:null;g.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Re){vt(S,S.return,Re)}}}else if(t.tag===6){if(n===null){S=t;try{S.stateNode.nodeValue=i?"":S.memoizedProps}catch(Re){vt(S,S.return,Re)}}}else if(t.tag===18){if(n===null){S=t;try{var W=S.stateNode;i?Th(W,!0):Th(S.stateNode,!1)}catch(Re){vt(S,S.return,Re)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Ac(e,n))));break;case 19:Nn(t,e),Sn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ac(e,a)));break;case 30:break;case 21:break;default:Nn(t,e),Sn(e)}}function Sn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Dm(a)){n=a;break}a=a.return}if(n==null)throw Error(m(160));switch(n.tag){case 27:var i=n.stateNode,c=Oo(e);Ec(e,c,i);break;case 5:var p=n.stateNode;n.flags&32&&(Ba(p,""),n.flags&=-33);var g=Oo(e);Ec(e,g,p);break;case 3:case 4:var S=n.stateNode.containerInfo,J=Oo(e);Mo(e,J,S);break;default:throw Error(m(161))}}catch(ae){vt(e,e.return,ae)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Rm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function tl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Am(e,t.alternate,t),t=t.sibling}function Ds(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:kl(4,t,t.return),Ds(t);break;case 1:wa(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Tm(t,t.return,n),Ds(t);break;case 27:Er(t.stateNode);case 26:case 5:wa(t,t.return),Ds(t);break;case 22:t.memoizedState===null&&Ds(t);break;case 30:Ds(t);break;default:Ds(t)}e=e.sibling}}function nl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,c=t,p=c.flags;switch(c.tag){case 0:case 11:case 15:nl(i,c,n),xr(4,c);break;case 1:if(nl(i,c,n),a=c,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(J){vt(a,a.return,J)}if(a=c,i=a.updateQueue,i!==null){var g=a.stateNode;try{var S=i.shared.hiddenCallbacks;if(S!==null)for(i.shared.hiddenCallbacks=null,i=0;i<S.length;i++)md(S[i],g)}catch(J){vt(a,a.return,J)}}n&&p&64&&Sm(c),br(c,c.return);break;case 27:Cm(c);case 26:case 5:nl(i,c,n),n&&a===null&&p&4&&_m(c),br(c,c.return);break;case 12:nl(i,c,n);break;case 31:nl(i,c,n),n&&p&4&&km(i,c);break;case 13:nl(i,c,n),n&&p&4&&zm(i,c);break;case 22:c.memoizedState===null&&nl(i,c,n),br(c,c.return);break;case 30:break;default:nl(i,c,n)}t=t.sibling}}function zo(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ir(n))}function Bo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ir(e))}function aa(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Um(e,t,n,a),t=t.sibling}function Um(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:aa(e,t,n,a),i&2048&&xr(9,t);break;case 1:aa(e,t,n,a);break;case 3:aa(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ir(e)));break;case 12:if(i&2048){aa(e,t,n,a),e=t.stateNode;try{var c=t.memoizedProps,p=c.id,g=c.onPostCommit;typeof g=="function"&&g(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){vt(t,t.return,S)}}else aa(e,t,n,a);break;case 31:aa(e,t,n,a);break;case 13:aa(e,t,n,a);break;case 23:break;case 22:c=t.stateNode,p=t.alternate,t.memoizedState!==null?c._visibility&2?aa(e,t,n,a):jr(e,t):c._visibility&2?aa(e,t,n,a):(c._visibility|=2,mi(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&zo(p,t);break;case 24:aa(e,t,n,a),i&2048&&Bo(t.alternate,t);break;default:aa(e,t,n,a)}}function mi(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,p=t,g=n,S=a,J=p.flags;switch(p.tag){case 0:case 11:case 15:mi(c,p,g,S,i),xr(8,p);break;case 23:break;case 22:var ae=p.stateNode;p.memoizedState!==null?ae._visibility&2?mi(c,p,g,S,i):jr(c,p):(ae._visibility|=2,mi(c,p,g,S,i)),i&&J&2048&&zo(p.alternate,p);break;case 24:mi(c,p,g,S,i),i&&J&2048&&Bo(p.alternate,p);break;default:mi(c,p,g,S,i)}t=t.sibling}}function jr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:jr(n,a),i&2048&&zo(a.alternate,a);break;case 24:jr(n,a),i&2048&&Bo(a.alternate,a);break;default:jr(n,a)}t=t.sibling}}var wr=8192;function hi(e,t,n){if(e.subtreeFlags&wr)for(e=e.child;e!==null;)qm(e,t,n),e=e.sibling}function qm(e,t,n){switch(e.tag){case 26:hi(e,t,n),e.flags&wr&&e.memoizedState!==null&&Ey(n,na,e.memoizedState,e.memoizedProps);break;case 5:hi(e,t,n);break;case 3:case 4:var a=na;na=Gc(e.stateNode.containerInfo),hi(e,t,n),na=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=wr,wr=16777216,hi(e,t,n),wr=a):hi(e,t,n));break;default:hi(e,t,n)}}function Hm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Nr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Wt=a,Lm(a,e)}Hm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ym(e),e=e.sibling}function Ym(e){switch(e.tag){case 0:case 11:case 15:Nr(e),e.flags&2048&&kl(9,e,e.return);break;case 3:Nr(e);break;case 12:Nr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Oc(e)):Nr(e);break;default:Nr(e)}}function Oc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Wt=a,Lm(a,e)}Hm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:kl(8,t,t.return),Oc(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Oc(t));break;default:Oc(t)}e=e.sibling}}function Lm(e,t){for(;Wt!==null;){var n=Wt;switch(n.tag){case 0:case 11:case 15:kl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ir(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Wt=a;else e:for(n=e;Wt!==null;){a=Wt;var i=a.sibling,c=a.return;if(Om(a),a===n){Wt=null;break e}if(i!==null){i.return=c,Wt=i;break e}Wt=c}}}var G0={getCacheForType:function(e){var t=an(Xt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return an(Xt).controller.signal}},Q0=typeof WeakMap=="function"?WeakMap:Map,mt=0,Tt=null,at=null,it=0,yt=0,Bn=null,zl=!1,pi=!1,Ro=!1,al=0,Bt=0,Bl=0,Cs=0,Uo=0,Rn=0,yi=0,Sr=null,Tn=null,qo=!1,Mc=0,Km=0,kc=1/0,zc=null,Rl=null,Zt=0,Ul=null,vi=null,ll=0,Ho=0,Yo=null,Xm=null,Tr=0,Lo=null;function Un(){return(mt&2)!==0&&it!==0?it&-it:_.T!==null?Zo():ns()}function Gm(){if(Rn===0)if((it&536870912)===0||ut){var e=ol;ol<<=1,(ol&3932160)===0&&(ol=262144),Rn=e}else Rn=536870912;return e=kn.current,e!==null&&(e.flags|=32),Rn}function _n(e,t,n){(e===Tt&&(yt===2||yt===9)||e.cancelPendingCommit!==null)&&(gi(e,0),ql(e,it,Rn,!1)),Hn(e,n),((mt&2)===0||e!==Tt)&&(e===Tt&&((mt&2)===0&&(Cs|=n),Bt===4&&ql(e,it,Rn,!1)),Na(e))}function Qm(e,t,n){if((mt&6)!==0)throw Error(m(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ma(e,t),i=a?J0(e,t):Xo(e,t,!0),c=a;do{if(i===0){pi&&!a&&ql(e,t,0,!1);break}else{if(n=e.current.alternate,c&&!V0(n)){i=Xo(e,t,!1),c=!1;continue}if(i===2){if(c=t,e.errorRecoveryDisabledLanes&c)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var g=e;i=Sr;var S=g.current.memoizedState.isDehydrated;if(S&&(gi(g,p).flags|=256),p=Xo(g,p,!1),p!==2){if(Ro&&!S){g.errorRecoveryDisabledLanes|=c,Cs|=c,i=4;break e}c=Tn,Tn=i,c!==null&&(Tn===null?Tn=c:Tn.push.apply(Tn,c))}i=p}if(c=!1,i!==2)continue}}if(i===1){gi(e,0),ql(e,t,0,!0);break}e:{switch(a=e,c=i,c){case 0:case 1:throw Error(m(345));case 4:if((t&4194048)!==t)break;case 6:ql(a,t,Rn,!zl);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(m(329))}if((t&62914560)===t&&(i=Mc+300-un(),10<i)){if(ql(a,t,Rn,!zl),es(a,0,!0)!==0)break e;ll=t,a.timeoutHandle=wh(Vm.bind(null,a,n,Tn,zc,qo,t,Rn,Cs,yi,zl,c,"Throttled",-0,0),i);break e}Vm(a,n,Tn,zc,qo,t,Rn,Cs,yi,zl,c,null,-0,0)}}break}while(!0);Na(e)}function Vm(e,t,n,a,i,c,p,g,S,J,ae,re,$,W){if(e.timeoutHandle=-1,re=t.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},qm(t,c,re);var Re=(c&62914560)===c?Mc-un():(c&4194048)===c?Km-un():0;if(Re=Ay(re,Re),Re!==null){ll=c,e.cancelPendingCommit=Re(eh.bind(null,e,t,c,n,a,i,p,g,S,ae,re,null,$,W)),ql(e,c,p,!J);return}}eh(e,t,c,n,a,i,p,g,S)}function V0(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],c=i.getSnapshot;i=i.value;try{if(!mn(c(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ql(e,t,n,a){t&=~Uo,t&=~Cs,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var c=31-Oe(i),p=1<<c;a[c]=-1,i&=~p}n!==0&&ts(e,n,t)}function Bc(){return(mt&6)===0?(_r(0),!1):!0}function Ko(){if(at!==null){if(yt===0)var e=at.return;else e=at,Za=xs=null,ao(e),ci=null,cr=0,e=at;for(;e!==null;)Nm(e.alternate,e),e=e.return;at=null}}function gi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,dy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ll=0,Ko(),Tt=e,at=n=Qa(e.current,null),it=t,yt=0,Bn=null,zl=!1,pi=Ma(e,t),Ro=!1,yi=Rn=Uo=Cs=Bl=Bt=0,Tn=Sr=null,qo=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Oe(a),c=1<<i;t|=e[i],a&=~c}return al=t,Je(),n}function Zm(e,t){We=null,_.H=yr,t===ri||t===oc?(t=ud(),yt=3):t===Qu?(t=ud(),yt=4):yt=t===bo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bn=t,at===null&&(Bt=1,Sc(e,Gn(t,e.current)))}function Jm(){var e=kn.current;return e===null?!0:(it&4194048)===it?Jn===null:(it&62914560)===it||(it&536870912)!==0?e===Jn:!1}function Im(){var e=_.H;return _.H=yr,e===null?yr:e}function $m(){var e=_.A;return _.A=G0,e}function Rc(){Bt=4,zl||(it&4194048)!==it&&kn.current!==null||(pi=!0),(Bl&134217727)===0&&(Cs&134217727)===0||Tt===null||ql(Tt,it,Rn,!1)}function Xo(e,t,n){var a=mt;mt|=2;var i=Im(),c=$m();(Tt!==e||it!==t)&&(zc=null,gi(e,t)),t=!1;var p=Bt;e:do try{if(yt!==0&&at!==null){var g=at,S=Bn;switch(yt){case 8:Ko(),p=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(t=!0);var J=yt;if(yt=0,Bn=null,xi(e,g,S,J),n&&pi){p=0;break e}break;default:J=yt,yt=0,Bn=null,xi(e,g,S,J)}}Z0(),p=Bt;break}catch(ae){Zm(e,ae)}while(!0);return t&&e.shellSuspendCounter++,Za=xs=null,mt=a,_.H=i,_.A=c,at===null&&(Tt=null,it=0,Je()),p}function Z0(){for(;at!==null;)Fm(at)}function J0(e,t){var n=mt;mt|=2;var a=Im(),i=$m();Tt!==e||it!==t?(zc=null,kc=un()+500,gi(e,t)):pi=Ma(e,t);e:do try{if(yt!==0&&at!==null){t=at;var c=Bn;t:switch(yt){case 1:yt=0,Bn=null,xi(e,t,c,1);break;case 2:case 9:if(rd(c)){yt=0,Bn=null,Wm(t);break}t=function(){yt!==2&&yt!==9||Tt!==e||(yt=7),Na(e)},c.then(t,t);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:rd(c)?(yt=0,Bn=null,Wm(t)):(yt=0,Bn=null,xi(e,t,c,7));break;case 5:var p=null;switch(at.tag){case 26:p=at.memoizedState;case 5:case 27:var g=at;if(p?Uh(p):g.stateNode.complete){yt=0,Bn=null;var S=g.sibling;if(S!==null)at=S;else{var J=g.return;J!==null?(at=J,Uc(J)):at=null}break t}}yt=0,Bn=null,xi(e,t,c,5);break;case 6:yt=0,Bn=null,xi(e,t,c,6);break;case 8:Ko(),Bt=6;break e;default:throw Error(m(462))}}I0();break}catch(ae){Zm(e,ae)}while(!0);return Za=xs=null,_.H=a,_.A=i,mt=n,at!==null?0:(Tt=null,it=0,Je(),Bt)}function I0(){for(;at!==null&&!Xr();)Fm(at)}function Fm(e){var t=jm(e.alternate,e,al);e.memoizedProps=e.pendingProps,t===null?Uc(e):at=t}function Wm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=pm(n,t,t.pendingProps,t.type,void 0,it);break;case 11:t=pm(n,t,t.pendingProps,t.type.render,t.ref,it);break;case 5:ao(t);default:Nm(n,t),t=at=$f(t,al),t=jm(n,t,al)}e.memoizedProps=e.pendingProps,t===null?Uc(e):at=t}function xi(e,t,n,a){Za=xs=null,ao(t),ci=null,cr=0;var i=t.return;try{if(U0(e,i,t,n,it)){Bt=1,Sc(e,Gn(n,e.current)),at=null;return}}catch(c){if(i!==null)throw at=i,c;Bt=1,Sc(e,Gn(n,e.current)),at=null;return}t.flags&32768?(ut||a===1?e=!0:pi||(it&536870912)!==0?e=!1:(zl=e=!0,(a===2||a===9||a===3||a===6)&&(a=kn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Pm(t,e)):Uc(t)}function Uc(e){var t=e;do{if((t.flags&32768)!==0){Pm(t,zl);return}e=t.return;var n=Y0(t.alternate,t,al);if(n!==null){at=n;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);Bt===0&&(Bt=5)}function Pm(e,t){do{var n=L0(e.alternate,e);if(n!==null){n.flags&=32767,at=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){at=e;return}at=e=n}while(e!==null);Bt=6,at=null}function eh(e,t,n,a,i,c,p,g,S){e.cancelPendingCommit=null;do qc();while(Zt!==0);if((mt&6)!==0)throw Error(m(327));if(t!==null){if(t===e.current)throw Error(m(177));if(c=t.lanes|t.childLanes,c|=Le,Ri(e,n,c,p,g,S),e===Tt&&(at=Tt=null,it=0),vi=t,Ul=e,ll=n,Ho=c,Yo=i,Xm=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,P0(ul,function(){return sh(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=_.T,_.T=null,i=se.p,se.p=2,p=mt,mt|=4;try{K0(e,t,n)}finally{mt=p,se.p=i,_.T=a}}Zt=1,th(),nh(),ah()}}function th(){if(Zt===1){Zt=0;var e=Ul,t=vi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=_.T,_.T=null;var a=se.p;se.p=2;var i=mt;mt|=4;try{Bm(t,e);var c=tf,p=y(e.containerInfo),g=c.focusedElem,S=c.selectionRange;if(p!==g&&g&&g.ownerDocument&&h(g.ownerDocument.documentElement,g)){if(S!==null&&v(g)){var J=S.start,ae=S.end;if(ae===void 0&&(ae=J),"selectionStart"in g)g.selectionStart=J,g.selectionEnd=Math.min(ae,g.value.length);else{var re=g.ownerDocument||document,$=re&&re.defaultView||window;if($.getSelection){var W=$.getSelection(),Re=g.textContent.length,Ge=Math.min(S.start,Re),Nt=S.end===void 0?Ge:Math.min(S.end,Re);!W.extend&&Ge>Nt&&(p=Nt,Nt=Ge,Ge=p);var K=f(g,Ge),B=f(g,Nt);if(K&&B&&(W.rangeCount!==1||W.anchorNode!==K.node||W.anchorOffset!==K.offset||W.focusNode!==B.node||W.focusOffset!==B.offset)){var Z=re.createRange();Z.setStart(K.node,K.offset),W.removeAllRanges(),Ge>Nt?(W.addRange(Z),W.extend(B.node,B.offset)):(Z.setEnd(B.node,B.offset),W.addRange(Z))}}}}for(re=[],W=g;W=W.parentNode;)W.nodeType===1&&re.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<re.length;g++){var le=re[g];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}$c=!!ef,tf=ef=null}finally{mt=i,se.p=a,_.T=n}}e.current=t,Zt=2}}function nh(){if(Zt===2){Zt=0;var e=Ul,t=vi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=_.T,_.T=null;var a=se.p;se.p=2;var i=mt;mt|=4;try{Am(e,t.alternate,t)}finally{mt=i,se.p=a,_.T=n}}Zt=3}}function ah(){if(Zt===4||Zt===3){Zt=0,Il();var e=Ul,t=vi,n=ll,a=Xm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Zt=5:(Zt=0,vi=Ul=null,lh(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Rl=null),fl(n),t=t.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(ua,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=_.T,i=se.p,se.p=2,_.T=null;try{for(var c=e.onRecoverableError,p=0;p<a.length;p++){var g=a[p];c(g.value,{componentStack:g.stack})}}finally{_.T=t,se.p=i}}(ll&3)!==0&&qc(),Na(e),i=e.pendingLanes,(n&261930)!==0&&(i&42)!==0?e===Lo?Tr++:(Tr=0,Lo=e):Tr=0,_r(0)}}function lh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ir(t)))}function qc(){return th(),nh(),ah(),sh()}function sh(){if(Zt!==5)return!1;var e=Ul,t=Ho;Ho=0;var n=fl(ll),a=_.T,i=se.p;try{se.p=32>n?32:n,_.T=null,n=Yo,Yo=null;var c=Ul,p=ll;if(Zt=0,vi=Ul=null,ll=0,(mt&6)!==0)throw Error(m(331));var g=mt;if(mt|=4,Ym(c.current),Um(c,c.current,p,n),mt=g,_r(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(ua,c)}catch{}return!0}finally{se.p=i,_.T=a,lh(e,t)}}function ih(e,t,n){t=Gn(n,t),t=xo(e.stateNode,t,2),e=Al(e,t,2),e!==null&&(Hn(e,2),Na(e))}function vt(e,t,n){if(e.tag===3)ih(e,e,n);else for(;t!==null;){if(t.tag===3){ih(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Rl===null||!Rl.has(a))){e=Gn(n,e),n=rm(2),a=Al(t,n,2),a!==null&&(cm(n,a,t,e),Hn(a,2),Na(a));break}}t=t.return}}function Go(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Q0;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Ro=!0,i.add(n),e=$0.bind(null,e,t,n),t.then(e,e))}function $0(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Tt===e&&(it&n)===n&&(Bt===4||Bt===3&&(it&62914560)===it&&300>un()-Mc?(mt&2)===0&&gi(e,0):Uo|=n,yi===it&&(yi=0)),Na(e)}function rh(e,t){t===0&&(t=Gr()),e=pt(e,t),e!==null&&(Hn(e,t),Na(e))}function F0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rh(e,n)}function W0(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(m(314))}a!==null&&a.delete(t),rh(e,n)}function P0(e,t){return Ea(e,t)}var Hc=null,bi=null,Qo=!1,Yc=!1,Vo=!1,Hl=0;function Na(e){e!==bi&&e.next===null&&(bi===null?Hc=bi=e:bi=bi.next=e),Yc=!0,Qo||(Qo=!0,ty())}function _r(e,t){if(!Vo&&Yc){Vo=!0;do for(var n=!1,a=Hc;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var c=0;else{var p=a.suspendedLanes,g=a.pingedLanes;c=(1<<31-Oe(42|e)+1)-1,c&=i&~(p&~g),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(n=!0,fh(a,c))}else c=it,c=es(a,a===Tt?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(c&3)===0||Ma(a,c)||(n=!0,fh(a,c));a=a.next}while(n);Vo=!1}}function ey(){ch()}function ch(){Yc=Qo=!1;var e=0;Hl!==0&&fy()&&(e=Hl);for(var t=un(),n=null,a=Hc;a!==null;){var i=a.next,c=uh(a,t);c===0?(a.next=null,n===null?Hc=i:n.next=i,i===null&&(bi=n)):(n=a,(e!==0||(c&3)!==0)&&(Yc=!0)),a=i}Zt!==0&&Zt!==5||_r(e),Hl!==0&&(Hl=0)}function uh(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var p=31-Oe(c),g=1<<p,S=i[p];S===-1?((g&n)===0||(g&a)!==0)&&(i[p]=Nu(g,t)):S<=t&&(e.expiredLanes|=g),c&=~g}if(t=Tt,n=it,n=es(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(yt===2||yt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&bn(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ma(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&bn(a),fl(n)){case 2:case 8:n=ca;break;case 32:n=ul;break;case 268435456:n=Os;break;default:n=ul}return a=oh.bind(null,e),n=Ea(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&bn(a),e.callbackPriority=2,e.callbackNode=null,2}function oh(e,t){if(Zt!==0&&Zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(qc()&&e.callbackNode!==n)return null;var a=it;return a=es(e,e===Tt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Qm(e,a,t),uh(e,un()),e.callbackNode!=null&&e.callbackNode===n?oh.bind(null,e):null)}function fh(e,t){if(qc())return null;Qm(e,t,!0)}function ty(){my(function(){(mt&6)!==0?Ea(on,ey):ch()})}function Zo(){if(Hl===0){var e=si;e===0&&(e=Ce,Ce<<=1,(Ce&261888)===0&&(Ce=256)),Hl=e}return Hl}function dh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ta(""+e)}function mh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function ny(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var c=dh((i[qt]||null).action),p=a.submitter;p&&(t=(t=p[qt]||null)?dh(t.formAction):p.getAttribute("formAction"),t!==null&&(c=t,p=null));var g=new Hs("action","action",null,a,i);e.push({event:g,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Hl!==0){var S=p?mh(i,p):new FormData(i);mo(n,{pending:!0,data:S,method:i.method,action:c},null,S)}}else typeof c=="function"&&(g.preventDefault(),S=p?mh(i,p):new FormData(i),mo(n,{pending:!0,data:S,method:i.method,action:c},c,S))},currentTarget:i}]})}}for(var Jo=0;Jo<Ee.length;Jo++){var Io=Ee[Jo],ay=Io.toLowerCase(),ly=Io[0].toUpperCase()+Io.slice(1);ye(ay,"on"+ly)}ye(I,"onAnimationEnd"),ye(Q,"onAnimationIteration"),ye(ne,"onAnimationStart"),ye("dblclick","onDoubleClick"),ye("focusin","onFocus"),ye("focusout","onBlur"),ye(he,"onTransitionRun"),ye(Se,"onTransitionStart"),ye(Te,"onTransitionCancel"),ye(pe,"onTransitionEnd"),ha("onMouseEnter",["mouseout","mouseover"]),ha("onMouseLeave",["mouseout","mouseover"]),ha("onPointerEnter",["pointerout","pointerover"]),ha("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dr));function hh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var p=a.length-1;0<=p;p--){var g=a[p],S=g.instance,J=g.currentTarget;if(g=g.listener,S!==c&&i.isPropagationStopped())break e;c=g,i.currentTarget=J;try{c(i)}catch(ae){ke(ae)}i.currentTarget=null,c=S}else for(p=0;p<a.length;p++){if(g=a[p],S=g.instance,J=g.currentTarget,g=g.listener,S!==c&&i.isPropagationStopped())break e;c=g,i.currentTarget=J;try{c(i)}catch(ae){ke(ae)}i.currentTarget=null,c=S}}}}function lt(e,t){var n=t[dl];n===void 0&&(n=t[dl]=new Set);var a=e+"__bubble";n.has(a)||(ph(t,e,2,!1),n.add(a))}function $o(e,t,n){var a=0;t&&(a|=4),ph(n,e,a,t)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Fo(e){if(!e[Lc]){e[Lc]=!0,ka.forEach(function(n){n!=="selectionchange"&&(sy.has(n)||$o(n,!1,e),$o(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lc]||(t[Lc]=!0,$o("selectionchange",!1,t))}}function ph(e,t,n,a){switch(Gh(t)){case 2:var i=ky;break;case 8:i=zy;break;default:i=mf}n=i.bind(null,t,n,e),i=void 0,!Gi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wo(e,t,n,a,i){var c=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var g=a.stateNode.containerInfo;if(g===i)break;if(p===4)for(p=a.return;p!==null;){var S=p.tag;if((S===3||S===4)&&p.stateNode.containerInfo===i)return;p=p.return}for(;g!==null;){if(p=ma(g),p===null)return;if(S=p.tag,S===5||S===6||S===26||S===27){a=c=p;continue e}g=g.parentNode}}a=a.return}hl(function(){var J=c,ae=Us(n),re=[];e:{var $=Me.get(e);if($!==void 0){var W=Hs,Re=e;switch(e){case"keypress":if(vl(n)===0)break e;case"keydown":case"keyup":W=Vs;break;case"focusin":Re="focus",W=gl;break;case"focusout":Re="blur",W=gl;break;case"beforeblur":case"afterblur":W=gl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ks;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Jr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Fi;break;case I:case Q:case ne:W=Ir;break;case pe:W=Wi;break;case"scroll":case"scrollend":W=Ys;break;case"wheel":W=Js;break;case"copy":case"cut":case"paste":W=xl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=$i;break;case"toggle":case"beforetoggle":W=Wr}var Ge=(t&4)!==0,Nt=!Ge&&(e==="scroll"||e==="scrollend"),K=Ge?$!==null?$+"Capture":null:$;Ge=[];for(var B=J,Z;B!==null;){var le=B;if(Z=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Z===null||K===null||(le=qa(B,K),le!=null&&Ge.push(Cr(B,le,Z))),Nt)break;B=B.return}0<Ge.length&&($=new W($,Re,null,n,ae),re.push({event:$,listeners:Ge}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",$&&n!==Ln&&(Re=n.relatedTarget||n.fromElement)&&(ma(Re)||Re[yn]))break e;if((W||$)&&($=ae.window===ae?ae:($=ae.ownerDocument)?$.defaultView||$.parentWindow:window,W?(Re=n.relatedTarget||n.toElement,W=J,Re=Re?ma(Re):null,Re!==null&&(Nt=T(Re),Ge=Re.tag,Re!==Nt||Ge!==5&&Ge!==27&&Ge!==6)&&(Re=null)):(W=null,Re=J),W!==Re)){if(Ge=Ks,le="onMouseLeave",K="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Ge=$i,le="onPointerLeave",K="onPointerEnter",B="pointer"),Nt=W==null?$:An(W),Z=Re==null?$:An(Re),$=new Ge(le,B+"leave",W,n,ae),$.target=Nt,$.relatedTarget=Z,le=null,ma(ae)===J&&(Ge=new Ge(K,B+"enter",Re,n,ae),Ge.target=Z,Ge.relatedTarget=Nt,le=Ge),Nt=le,W&&Re)t:{for(Ge=iy,K=W,B=Re,Z=0,le=K;le;le=Ge(le))Z++;le=0;for(var Ke=B;Ke;Ke=Ge(Ke))le++;for(;0<Z-le;)K=Ge(K),Z--;for(;0<le-Z;)B=Ge(B),le--;for(;Z--;){if(K===B||B!==null&&K===B.alternate){Ge=K;break t}K=Ge(K),B=Ge(B)}Ge=null}else Ge=null;W!==null&&yh(re,$,W,Ge,!1),Re!==null&&Nt!==null&&yh(re,Nt,Re,Ge,!0)}}e:{if($=J?An(J):window,W=$.nodeName&&$.nodeName.toLowerCase(),W==="select"||W==="input"&&$.type==="file")var ot=ys;else if(Fs($))if(Xn)ot=wl;else{ot=Ga;var qe=lc}else W=$.nodeName,!W||W.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?J&&Xi(J.elementType)&&(ot=ys):ot=ar;if(ot&&(ot=ot(e,J))){nr(re,ot,n,ae);break e}qe&&qe(e,$,J),e==="focusout"&&J&&$.type==="number"&&J.memoizedProps.value!=null&&cs($,"number",$.value)}switch(qe=J?An(J):window,e){case"focusin":(Fs(qe)||qe.contentEditable==="true")&&(j=qe,A=J,G=null);break;case"focusout":G=A=j=null;break;case"mousedown":O=!0;break;case"contextmenu":case"mouseup":case"dragend":O=!1,E(re,n,ae);break;case"selectionchange":if(x)break;case"keydown":case"keyup":E(re,n,ae)}var Pe;if(hs)e:{switch(e){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Ka?tr(e,n)&&(rt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(rt="onCompositionStart");rt&&(Is&&n.locale!=="ko"&&(Ka||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Ka&&(Pe=yl()):(Kn=ae,qs="value"in Kn?Kn.value:Kn.textContent,Ka=!0)),qe=Kc(J,rt),0<qe.length&&(rt=new Qs(rt,e,null,n,ae),re.push({event:rt,listeners:qe}),Pe?rt.data=Pe:(Pe=ec(n),Pe!==null&&(rt.data=Pe)))),(Pe=Eu?tc(e,n):Au(e,n))&&(rt=Kc(J,"onBeforeInput"),0<rt.length&&(qe=new Qs("onBeforeInput","beforeinput",null,n,ae),re.push({event:qe,listeners:rt}),qe.data=Pe)),ny(re,e,J,n,ae)}hh(re,t)})}function Cr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kc(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,c=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||c===null||(i=qa(e,n),i!=null&&a.unshift(Cr(e,i,c)),i=qa(e,t),i!=null&&a.push(Cr(e,i,c))),e.tag===3)return a;e=e.return}return[]}function iy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function yh(e,t,n,a,i){for(var c=t._reactName,p=[];n!==null&&n!==a;){var g=n,S=g.alternate,J=g.stateNode;if(g=g.tag,S!==null&&S===a)break;g!==5&&g!==26&&g!==27||J===null||(S=J,i?(J=qa(n,c),J!=null&&p.unshift(Cr(n,J,S))):i||(J=qa(n,c),J!=null&&p.push(Cr(n,J,S)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var ry=/\r\n?/g,cy=/\u0000|\uFFFD/g;function vh(e){return(typeof e=="string"?e:""+e).replace(ry,`
`).replace(cy,"")}function gh(e,t){return t=vh(t),vh(e)===t}function wt(e,t,n,a,i,c){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ba(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ba(e,""+a);break;case"className":is(e,"class",a);break;case"tabIndex":is(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":is(e,n,a);break;case"style":Ki(e,a,c);break;case"data":if(t!=="object"){is(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ta(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(n==="formAction"?(t!=="input"&&wt(e,t,"name",i.name,i,null),wt(e,t,"formEncType",i.formEncType,i,null),wt(e,t,"formMethod",i.formMethod,i,null),wt(e,t,"formTarget",i.formTarget,i,null)):(wt(e,t,"encType",i.encType,i,null),wt(e,t,"method",i.method,i,null),wt(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ta(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=jn);break;case"onScroll":a!=null&&lt("scroll",e);break;case"onScrollEnd":a!=null&&lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(m(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(m(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=ta(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":lt("beforetoggle",e),lt("toggle",e),et(e,"popover",a);break;case"xlinkActuate":Yn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Yn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Yn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Yn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Yn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Yn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Yn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Yn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Yn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":et(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=_u.get(n)||n,et(e,n,a))}}function Po(e,t,n,a,i,c){switch(n){case"style":Ki(e,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(m(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(m(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Ba(e,a):(typeof a=="number"||typeof a=="bigint")&&Ba(e,""+a);break;case"onScroll":a!=null&&lt("scroll",e);break;case"onScrollEnd":a!=null&&lt("scrollend",e);break;case"onClick":a!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ls.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),c=e[qt]||null,c=c!=null?c[n]:null,typeof c=="function"&&e.removeEventListener(t,c,i),typeof a=="function")){typeof c!="function"&&c!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):et(e,n,a)}}}function sn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",e),lt("load",e);var a=!1,i=!1,c;for(c in n)if(n.hasOwnProperty(c)){var p=n[c];if(p!=null)switch(c){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(m(137,t));default:wt(e,t,c,p,n,null)}}i&&wt(e,t,"srcSet",n.srcSet,n,null),a&&wt(e,t,"src",n.src,n,null);return;case"input":lt("invalid",e);var g=c=p=i=null,S=null,J=null;for(a in n)if(n.hasOwnProperty(a)){var ae=n[a];if(ae!=null)switch(a){case"name":i=ae;break;case"type":p=ae;break;case"checked":S=ae;break;case"defaultChecked":J=ae;break;case"value":c=ae;break;case"defaultValue":g=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(m(137,t));break;default:wt(e,t,a,ae,n,null)}}Rs(e,c,g,S,J,p,i,!1);return;case"select":lt("invalid",e),a=p=c=null;for(i in n)if(n.hasOwnProperty(i)&&(g=n[i],g!=null))switch(i){case"value":c=g;break;case"defaultValue":p=g;break;case"multiple":a=g;default:wt(e,t,i,g,n,null)}t=c,n=p,e.multiple=!!a,t!=null?ea(e,!!a,t,!1):n!=null&&ea(e,!!a,n,!0);return;case"textarea":lt("invalid",e),c=i=a=null;for(p in n)if(n.hasOwnProperty(p)&&(g=n[p],g!=null))switch(p){case"value":a=g;break;case"defaultValue":i=g;break;case"children":c=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(m(91));break;default:wt(e,t,p,g,n,null)}us(e,a,i,c);return;case"option":for(S in n)n.hasOwnProperty(S)&&(a=n[S],a!=null)&&(S==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":wt(e,t,S,a,n,null));return;case"dialog":lt("beforetoggle",e),lt("toggle",e),lt("cancel",e),lt("close",e);break;case"iframe":case"object":lt("load",e);break;case"video":case"audio":for(a=0;a<Dr.length;a++)lt(Dr[a],e);break;case"image":lt("error",e),lt("load",e);break;case"details":lt("toggle",e);break;case"embed":case"source":case"link":lt("error",e),lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in n)if(n.hasOwnProperty(J)&&(a=n[J],a!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(m(137,t));default:wt(e,t,J,a,n,null)}return;default:if(Xi(t)){for(ae in n)n.hasOwnProperty(ae)&&(a=n[ae],a!==void 0&&Po(e,t,ae,a,n,void 0));return}}for(g in n)n.hasOwnProperty(g)&&(a=n[g],a!=null&&wt(e,t,g,a,n,null))}function uy(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,c=null,p=null,g=null,S=null,J=null,ae=null;for(W in n){var re=n[W];if(n.hasOwnProperty(W)&&re!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":S=re;default:a.hasOwnProperty(W)||wt(e,t,W,null,a,re)}}for(var $ in a){var W=a[$];if(re=n[$],a.hasOwnProperty($)&&(W!=null||re!=null))switch($){case"type":c=W;break;case"name":i=W;break;case"checked":J=W;break;case"defaultChecked":ae=W;break;case"value":p=W;break;case"defaultValue":g=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(m(137,t));break;default:W!==re&&wt(e,t,$,W,a,re)}}pa(e,p,g,S,J,ae,c,i);return;case"select":W=p=g=$=null;for(c in n)if(S=n[c],n.hasOwnProperty(c)&&S!=null)switch(c){case"value":break;case"multiple":W=S;default:a.hasOwnProperty(c)||wt(e,t,c,null,a,S)}for(i in a)if(c=a[i],S=n[i],a.hasOwnProperty(i)&&(c!=null||S!=null))switch(i){case"value":$=c;break;case"defaultValue":g=c;break;case"multiple":p=c;default:c!==S&&wt(e,t,i,c,a,S)}t=g,n=p,a=W,$!=null?ea(e,!!n,$,!1):!!a!=!!n&&(t!=null?ea(e,!!n,t,!0):ea(e,!!n,n?[]:"",!1));return;case"textarea":W=$=null;for(g in n)if(i=n[g],n.hasOwnProperty(g)&&i!=null&&!a.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:wt(e,t,g,null,a,i)}for(p in a)if(i=a[p],c=n[p],a.hasOwnProperty(p)&&(i!=null||c!=null))switch(p){case"value":$=i;break;case"defaultValue":W=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(m(91));break;default:i!==c&&wt(e,t,p,i,a,c)}Li(e,$,W);return;case"option":for(var Re in n)$=n[Re],n.hasOwnProperty(Re)&&$!=null&&!a.hasOwnProperty(Re)&&(Re==="selected"?e.selected=!1:wt(e,t,Re,null,a,$));for(S in a)$=a[S],W=n[S],a.hasOwnProperty(S)&&$!==W&&($!=null||W!=null)&&(S==="selected"?e.selected=$&&typeof $!="function"&&typeof $!="symbol":wt(e,t,S,$,a,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in n)$=n[Ge],n.hasOwnProperty(Ge)&&$!=null&&!a.hasOwnProperty(Ge)&&wt(e,t,Ge,null,a,$);for(J in a)if($=a[J],W=n[J],a.hasOwnProperty(J)&&$!==W&&($!=null||W!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(m(137,t));break;default:wt(e,t,J,$,a,W)}return;default:if(Xi(t)){for(var Nt in n)$=n[Nt],n.hasOwnProperty(Nt)&&$!==void 0&&!a.hasOwnProperty(Nt)&&Po(e,t,Nt,void 0,a,$);for(ae in a)$=a[ae],W=n[ae],!a.hasOwnProperty(ae)||$===W||$===void 0&&W===void 0||Po(e,t,ae,$,a,W);return}}for(var K in n)$=n[K],n.hasOwnProperty(K)&&$!=null&&!a.hasOwnProperty(K)&&wt(e,t,K,null,a,$);for(re in a)$=a[re],W=n[re],!a.hasOwnProperty(re)||$===W||$==null&&W==null||wt(e,t,re,$,a,W)}function xh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],c=i.transferSize,p=i.initiatorType,g=i.duration;if(c&&g&&xh(p)){for(p=0,g=i.responseEnd,a+=1;a<n.length;a++){var S=n[a],J=S.startTime;if(J>g)break;var ae=S.transferSize,re=S.initiatorType;ae&&xh(re)&&(S=S.responseEnd,p+=ae*(S<g?1:(g-J)/(S-J)))}if(--a,t+=8*(c+p)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ef=null,tf=null;function Xc(e){return e.nodeType===9?e:e.ownerDocument}function bh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function nf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var af=null;function fy(){var e=window.event;return e&&e.type==="popstate"?e===af?!1:(af=e,!0):(af=null,!1)}var wh=typeof setTimeout=="function"?setTimeout:void 0,dy=typeof clearTimeout=="function"?clearTimeout:void 0,Nh=typeof Promise=="function"?Promise:void 0,my=typeof queueMicrotask=="function"?queueMicrotask:typeof Nh<"u"?function(e){return Nh.resolve(null).then(e).catch(hy)}:wh;function hy(e){setTimeout(function(){throw e})}function Yl(e){return e==="head"}function Sh(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Si(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Er(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Er(n);for(var c=n.firstChild;c;){var p=c.nextSibling,g=c.nodeName;c[En]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&c.rel.toLowerCase()==="stylesheet"||n.removeChild(c),c=p}}else n==="body"&&Er(e.ownerDocument.body);n=i}while(n);Si(t)}function Th(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function lf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":lf(n),zs(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function py(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[En])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=In(e.nextSibling),e===null)break}return null}function yy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=In(e.nextSibling),e===null))return null;return e}function _h(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=In(e.nextSibling),e===null))return null;return e}function sf(e){return e.data==="$?"||e.data==="$~"}function rf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function vy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function In(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var cf=null;function Dh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return In(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Ch(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Eh(e,t,n){switch(t=Xc(n),e){case"html":if(e=t.documentElement,!e)throw Error(m(452));return e;case"head":if(e=t.head,!e)throw Error(m(453));return e;case"body":if(e=t.body,!e)throw Error(m(454));return e;default:throw Error(m(451))}}function Er(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);zs(e)}var $n=new Map,Ah=new Set;function Gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sl=se.d;se.d={f:gy,r:xy,D:by,C:jy,L:wy,m:Ny,X:Ty,S:Sy,M:_y};function gy(){var e=sl.f(),t=Bc();return e||t}function xy(e){var t=xt(e);t!==null&&t.tag===5&&t.type==="form"?Zd(t):sl.r(e)}var ji=typeof document>"u"?null:document;function Oh(e,t,n){var a=ji;if(a&&typeof t=="string"&&t){var i=It(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Ah.has(i)||(Ah.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),sn(t,"link",e),Ht(t),a.head.appendChild(t)))}}function by(e){sl.D(e),Oh("dns-prefetch",e,null)}function jy(e,t){sl.C(e,t),Oh("preconnect",e,t)}function wy(e,t,n){sl.L(e,t,n);var a=ji;if(a&&e&&t){var i='link[rel="preload"][as="'+It(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+It(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+It(n.imageSizes)+'"]')):i+='[href="'+It(e)+'"]';var c=i;switch(t){case"style":c=wi(e);break;case"script":c=Ni(e)}$n.has(c)||(e=q({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),$n.set(c,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(Ar(c))||t==="script"&&a.querySelector(Or(c))||(t=a.createElement("link"),sn(t,"link",e),Ht(t),a.head.appendChild(t)))}}function Ny(e,t){sl.m(e,t);var n=ji;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+It(a)+'"][href="'+It(e)+'"]',c=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Ni(e)}if(!$n.has(c)&&(e=q({rel:"modulepreload",href:e},t),$n.set(c,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Or(c)))return}a=n.createElement("link"),sn(a,"link",e),Ht(a),n.head.appendChild(a)}}}function Sy(e,t,n){sl.S(e,t,n);var a=ji;if(a&&e){var i=fn(a).hoistableStyles,c=wi(e);t=t||"default";var p=i.get(c);if(!p){var g={loading:0,preload:null};if(p=a.querySelector(Ar(c)))g.loading=5;else{e=q({rel:"stylesheet",href:e,"data-precedence":t},n),(n=$n.get(c))&&uf(e,n);var S=p=a.createElement("link");Ht(S),sn(S,"link",e),S._p=new Promise(function(J,ae){S.onload=J,S.onerror=ae}),S.addEventListener("load",function(){g.loading|=1}),S.addEventListener("error",function(){g.loading|=2}),g.loading|=4,Qc(p,t,a)}p={type:"stylesheet",instance:p,count:1,state:g},i.set(c,p)}}}function Ty(e,t){sl.X(e,t);var n=ji;if(n&&e){var a=fn(n).hoistableScripts,i=Ni(e),c=a.get(i);c||(c=n.querySelector(Or(i)),c||(e=q({src:e,async:!0},t),(t=$n.get(i))&&of(e,t),c=n.createElement("script"),Ht(c),sn(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(i,c))}}function _y(e,t){sl.M(e,t);var n=ji;if(n&&e){var a=fn(n).hoistableScripts,i=Ni(e),c=a.get(i);c||(c=n.querySelector(Or(i)),c||(e=q({src:e,async:!0,type:"module"},t),(t=$n.get(i))&&of(e,t),c=n.createElement("script"),Ht(c),sn(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(i,c))}}function Mh(e,t,n,a){var i=(i=Qe.current)?Gc(i):null;if(!i)throw Error(m(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=wi(n.href),n=fn(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=wi(n.href);var c=fn(i).hoistableStyles,p=c.get(e);if(p||(i=i.ownerDocument||i,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,p),(c=i.querySelector(Ar(e)))&&!c._p&&(p.instance=c,p.state.loading=5),$n.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},$n.set(e,n),c||Dy(i,e,n,p.state))),t&&a===null)throw Error(m(528,""));return p}if(t&&a!==null)throw Error(m(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ni(n),n=fn(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(m(444,e))}}function wi(e){return'href="'+It(e)+'"'}function Ar(e){return'link[rel="stylesheet"]['+e+"]"}function kh(e){return q({},e,{"data-precedence":e.precedence,precedence:null})}function Dy(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),sn(t,"link",n),Ht(t),e.head.appendChild(t))}function Ni(e){return'[src="'+It(e)+'"]'}function Or(e){return"script[async]"+e}function zh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+It(n.href)+'"]');if(a)return t.instance=a,Ht(a),a;var i=q({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ht(a),sn(a,"style",i),Qc(a,n.precedence,e),t.instance=a;case"stylesheet":i=wi(n.href);var c=e.querySelector(Ar(i));if(c)return t.state.loading|=4,t.instance=c,Ht(c),c;a=kh(n),(i=$n.get(i))&&uf(a,i),c=(e.ownerDocument||e).createElement("link"),Ht(c);var p=c;return p._p=new Promise(function(g,S){p.onload=g,p.onerror=S}),sn(c,"link",a),t.state.loading|=4,Qc(c,n.precedence,e),t.instance=c;case"script":return c=Ni(n.src),(i=e.querySelector(Or(c)))?(t.instance=i,Ht(i),i):(a=n,(i=$n.get(c))&&(a=q({},n),of(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Ht(i),sn(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(m(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Qc(a,n.precedence,e));return t.instance}function Qc(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,c=i,p=0;p<a.length;p++){var g=a[p];if(g.dataset.precedence===t)c=g;else if(c!==i)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function uf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function of(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Vc=null;function Bh(e,t,n){if(Vc===null){var a=new Map,i=Vc=new Map;i.set(n,a)}else i=Vc,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var c=n[i];if(!(c[En]||c[Dt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var p=c.getAttribute(t)||"";p=e+p;var g=a.get(p);g?g.push(c):a.set(p,[c])}}return a}function Rh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Cy(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Uh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ey(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var i=wi(a.href),c=t.querySelector(Ar(i));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Zc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=c,Ht(c);return}c=t.ownerDocument||t,a=kh(a),(i=$n.get(i))&&uf(a,i),c=c.createElement("link"),Ht(c);var p=c;p._p=new Promise(function(g,S){p.onload=g,p.onerror=S}),sn(c,"link",a),n.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Zc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var ff=0;function Ay(e,t){return e.stylesheets&&e.count===0&&Ic(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Ic(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&ff===0&&(ff=62500*oy());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ic(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>ff?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Jc=null;function Ic(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Jc=new Map,t.forEach(Oy,e),Jc=null,Zc.call(e))}function Oy(e,t){if(!(t.state.loading&4)){var n=Jc.get(e);if(n)var a=n.get(null);else{n=new Map,Jc.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<i.length;c++){var p=i[c];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),a=p)}a&&n.set(null,a)}i=t.instance,p=i.getAttribute("data-precedence"),c=n.get(p)||a,c===a&&n.set(null,i),n.set(p,i),this.count++,a=Zc.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),c?c.parentNode.insertBefore(i,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Mr={$$typeof:w,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function My(e,t,n,a,i,c,p,g,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oa(0),this.hiddenUpdates=oa(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=c,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function qh(e,t,n,a,i,c,p,g,S,J,ae,re){return e=new My(e,t,n,p,S,J,ae,re,g),t=1,c===!0&&(t|=24),c=Mn(3,null,null,t),e.current=c,c.stateNode=e,t=Ku(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:a,isDehydrated:n,cache:t},Vu(c),e}function Hh(e){return e?(e=ei,e):ei}function Yh(e,t,n,a,i,c){i=Hh(i),a.context===null?a.context=i:a.pendingContext=i,a=El(t),a.payload={element:n},c=c===void 0?null:c,c!==null&&(a.callback=c),n=Al(e,a,t),n!==null&&(_n(n,e,t),or(n,e,t))}function Lh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function df(e,t){Lh(e,t),(e=e.alternate)&&Lh(e,t)}function Kh(e){if(e.tag===13||e.tag===31){var t=pt(e,67108864);t!==null&&_n(t,e,67108864),df(e,67108864)}}function Xh(e){if(e.tag===13||e.tag===31){var t=Un();t=Ui(t);var n=pt(e,t);n!==null&&_n(n,e,t),df(e,t)}}var $c=!0;function ky(e,t,n,a){var i=_.T;_.T=null;var c=se.p;try{se.p=2,mf(e,t,n,a)}finally{se.p=c,_.T=i}}function zy(e,t,n,a){var i=_.T;_.T=null;var c=se.p;try{se.p=8,mf(e,t,n,a)}finally{se.p=c,_.T=i}}function mf(e,t,n,a){if($c){var i=hf(a);if(i===null)Wo(e,t,a,Fc,n),Qh(e,a);else if(Ry(i,e,t,n,a))a.stopPropagation();else if(Qh(e,a),t&4&&-1<By.indexOf(e)){for(;i!==null;){var c=xt(i);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var p=Wn(c.pendingLanes);if(p!==0){var g=c;for(g.pendingLanes|=2,g.entangledLanes|=2;p;){var S=1<<31-Oe(p);g.entanglements[1]|=S,p&=~S}Na(c),(mt&6)===0&&(kc=un()+500,_r(0))}}break;case 31:case 13:g=pt(c,2),g!==null&&_n(g,c,2),Bc(),df(c,2)}if(c=hf(a),c===null&&Wo(e,t,a,Fc,n),c===i)break;i=c}i!==null&&a.stopPropagation()}else Wo(e,t,a,null,n)}}function hf(e){return e=Us(e),pf(e)}var Fc=null;function pf(e){if(Fc=null,e=ma(e),e!==null){var t=T(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Y(t),e!==null)return e;e=null}else if(n===31){if(e=L(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Fc=e,null}function Gh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($l()){case on:return 2;case ca:return 8;case ul:case Fl:return 32;case Os:return 268435456;default:return 32}default:return 32}}var yf=!1,Ll=null,Kl=null,Xl=null,kr=new Map,zr=new Map,Gl=[],By="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qh(e,t){switch(e){case"focusin":case"focusout":Ll=null;break;case"dragenter":case"dragleave":Kl=null;break;case"mouseover":case"mouseout":Xl=null;break;case"pointerover":case"pointerout":kr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zr.delete(t.pointerId)}}function Br(e,t,n,a,i,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:c,targetContainers:[i]},t!==null&&(t=xt(t),t!==null&&Kh(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ry(e,t,n,a,i){switch(t){case"focusin":return Ll=Br(Ll,e,t,n,a,i),!0;case"dragenter":return Kl=Br(Kl,e,t,n,a,i),!0;case"mouseover":return Xl=Br(Xl,e,t,n,a,i),!0;case"pointerover":var c=i.pointerId;return kr.set(c,Br(kr.get(c)||null,e,t,n,a,i)),!0;case"gotpointercapture":return c=i.pointerId,zr.set(c,Br(zr.get(c)||null,e,t,n,a,i)),!0}return!1}function Vh(e){var t=ma(e.target);if(t!==null){var n=T(t);if(n!==null){if(t=n.tag,t===13){if(t=Y(n),t!==null){e.blockedOn=t,as(e.priority,function(){Xh(n)});return}}else if(t===31){if(t=L(n),t!==null){e.blockedOn=t,as(e.priority,function(){Xh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Ln=a,n.target.dispatchEvent(a),Ln=null}else return t=xt(n),t!==null&&Kh(t),e.blockedOn=n,!1;t.shift()}return!0}function Zh(e,t,n){Wc(e)&&n.delete(t)}function Uy(){yf=!1,Ll!==null&&Wc(Ll)&&(Ll=null),Kl!==null&&Wc(Kl)&&(Kl=null),Xl!==null&&Wc(Xl)&&(Xl=null),kr.forEach(Zh),zr.forEach(Zh)}function Pc(e,t){e.blockedOn===t&&(e.blockedOn=null,yf||(yf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Uy)))}var eu=null;function Jh(e){eu!==e&&(eu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){eu===e&&(eu=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(pf(a||n)===null)continue;break}var c=xt(n);c!==null&&(e.splice(t,3),t-=3,mo(c,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Si(e){function t(S){return Pc(S,e)}Ll!==null&&Pc(Ll,e),Kl!==null&&Pc(Kl,e),Xl!==null&&Pc(Xl,e),kr.forEach(t),zr.forEach(t);for(var n=0;n<Gl.length;n++){var a=Gl[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Gl.length&&(n=Gl[0],n.blockedOn===null);)Vh(n),n.blockedOn===null&&Gl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],c=n[a+1],p=i[qt]||null;if(typeof c=="function")p||Jh(n);else if(p){var g=null;if(c&&c.hasAttribute("formAction")){if(i=c,p=c[qt]||null)g=p.formAction;else if(pf(i)!==null)continue}else g=p.action;typeof g=="function"?n[a+1]=g:(n.splice(a,3),a-=3),Jh(n)}}}function Ih(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(p){return i=p})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function vf(e){this._internalRoot=e}tu.prototype.render=vf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(m(409));var n=t.current,a=Un();Yh(n,a,e,t,null,null)},tu.prototype.unmount=vf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yh(e.current,2,null,e,null,null),Bc(),t[yn]=null}};function tu(e){this._internalRoot=e}tu.prototype.unstable_scheduleHydration=function(e){if(e){var t=ns();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gl.length&&t!==0&&t<Gl[n].priority;n++);Gl.splice(n,0,e),n===0&&Vh(e)}};var $h=o.version;if($h!=="19.2.4")throw Error(m(527,$h,"19.2.4"));se.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(m(188)):(e=Object.keys(e).join(","),Error(m(268,e)));return e=D(t),e=e!==null?P(e):null,e=e===null?null:e.stateNode,e};var qy={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{ua=nu.inject(qy),Pt=nu}catch{}}return Ur.createRoot=function(e,t){if(!b(e))throw Error(m(299));var n=!1,a="",i=am,c=lm,p=sm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=qh(e,1,!1,null,null,n,a,null,i,c,p,Ih),e[yn]=t.current,Fo(e),new vf(t)},Ur.hydrateRoot=function(e,t,n){if(!b(e))throw Error(m(299));var a=!1,i="",c=am,p=lm,g=sm,S=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.formState!==void 0&&(S=n.formState)),t=qh(e,1,!0,t,n??null,a,i,S,c,p,g,Ih),t.context=Hh(null),n=t.current,a=Un(),a=Ui(a),i=El(a),i.callback=null,Al(n,i,a),n=a,t.current.lanes=n,Hn(t,n),Na(t),e[yn]=t.current,Fo(e),new tu(t)},Ur.version="19.2.4",Ur}var ip;function Iy(){if(ip)return bf.exports;ip=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),bf.exports=Jy(),bf.exports}var $y=Iy(),ru={exports:{}},Fy=ru.exports,rp;function Wy(){return rp||(rp=1,(function(r,o){((d,m)=>{r.exports=m()})(Fy,function(){var d=function(s,u){return(d=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(f,h){f.__proto__=h}:function(f,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(f[y]=h[y])}))(s,u)},m=function(){return(m=Object.assign||function(s){for(var u,f=1,h=arguments.length;f<h;f++)for(var y in u=arguments[f])Object.prototype.hasOwnProperty.call(u,y)&&(s[y]=u[y]);return s}).apply(this,arguments)};function b(s,u,f){for(var h,y=0,v=u.length;y<v;y++)!h&&y in u||((h=h||Array.prototype.slice.call(u,0,y))[y]=u[y]);return s.concat(h||Array.prototype.slice.call(u))}var T=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Yy,Y=Object.keys,L=Array.isArray;function C(s,u){return typeof u=="object"&&Y(u).forEach(function(f){s[f]=u[f]}),s}typeof Promise>"u"||T.Promise||(T.Promise=Promise);var D=Object.getPrototypeOf,P={}.hasOwnProperty;function q(s,u){return P.call(s,u)}function ee(s,u){typeof u=="function"&&(u=u(D(s))),(typeof Reflect>"u"?Y:Reflect.ownKeys)(u).forEach(function(f){oe(s,f,u[f])})}var ue=Object.defineProperty;function oe(s,u,f,h){ue(s,u,C(f&&q(f,"get")&&typeof f.get=="function"?{get:f.get,set:f.set,configurable:!0}:{value:f,configurable:!0,writable:!0},h))}function de(s){return{from:function(u){return s.prototype=Object.create(u.prototype),oe(s.prototype,"constructor",s),{extend:ee.bind(null,s.prototype)}}}}var _e=Object.getOwnPropertyDescriptor,be=[].slice;function Ae(s,u,f){return be.call(s,u,f)}function w(s,u){return u(s)}function ge(s){if(!s)throw new Error("Assertion Failed")}function ve(s){T.setImmediate?setImmediate(s):setTimeout(s,0)}function fe(s,u){if(typeof u=="string"&&q(s,u))return s[u];if(!u)return s;if(typeof u!="string"){for(var f=[],h=0,y=u.length;h<y;++h){var v=fe(s,u[h]);f.push(v)}return f}var x,j=u.indexOf(".");return j===-1||(x=s[u.substr(0,j)])==null?void 0:fe(x,u.substr(j+1))}function ce(s,u,f){if(s&&u!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof u!="string"&&"length"in u){ge(typeof f!="string"&&"length"in f);for(var h=0,y=u.length;h<y;++h)ce(s,u[h],f[h])}else{var v,x,j=u.indexOf(".");j!==-1?(v=u.substr(0,j),(j=u.substr(j+1))===""?f===void 0?L(s)&&!isNaN(parseInt(v))?s.splice(v,1):delete s[v]:s[v]=f:ce(x=(x=s[v])&&q(s,v)?x:s[v]={},j,f)):f===void 0?L(s)&&!isNaN(parseInt(u))?s.splice(u,1):delete s[u]:s[u]=f}}function He(s){var u,f={};for(u in s)q(s,u)&&(f[u]=s[u]);return f}var Fe=[].concat;function nt(s){return Fe.apply([],s)}var X="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(nt([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(u){return u+s+"Array"})}))).filter(function(s){return T[s]}),st=new Set(X.map(function(s){return T[s]})),te=null;function xe(s){return te=new WeakMap,s=(function u(f){if(!f||typeof f!="object")return f;var h=te.get(f);if(h)return h;if(L(f)){h=[],te.set(f,h);for(var y=0,v=f.length;y<v;++y)h.push(u(f[y]))}else if(st.has(f.constructor))h=f;else{var x,j=D(f);for(x in h=j===Object.prototype?{}:Object.create(j),te.set(f,h),f)q(f,x)&&(h[x]=u(f[x]))}return h})(s),te=null,s}var me={}.toString;function De(s){return me.call(s).slice(8,-1)}var _=typeof Symbol<"u"?Symbol.iterator:"@@iterator",se=typeof _=="symbol"?function(s){var u;return s!=null&&(u=s[_])&&u.apply(s)}:function(){return null};function F(s,u){u=s.indexOf(u),0<=u&&s.splice(u,1)}var ze={};function ie(s){var u,f,h,y;if(arguments.length===1){if(L(s))return s.slice();if(this===ze&&typeof s=="string")return[s];if(y=se(s))for(f=[];!(h=y.next()).done;)f.push(h.value);else{if(s==null)return[s];if(typeof(u=s.length)!="number")return[s];for(f=new Array(u);u--;)f[u]=s[u]}}else for(u=arguments.length,f=new Array(u);u--;)f[u]=arguments[u];return f}var N=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},X=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],on=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(X),je={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ne(s,u){this.name=s,this.message=u}function Xe(s,u){return s+". Errors: "+Object.keys(u).map(function(f){return u[f].toString()}).filter(function(f,h,y){return y.indexOf(f)===h}).join(`
`)}function Qe(s,u,f,h){this.failures=u,this.failedKeys=h,this.successCount=f,this.message=Xe(s,u)}function Ve(s,u){this.name="BulkError",this.failures=Object.keys(u).map(function(f){return u[f]}),this.failuresByPos=u,this.message=Xe(s,this.failures)}de(Ne).from(Error).extend({toString:function(){return this.name+": "+this.message}}),de(Qe).from(Ne),de(Ve).from(Ne);var kt=on.reduce(function(s,u){return s[u]=u+"Error",s},{}),_t=Ne,Ue=on.reduce(function(s,u){var f=u+"Error";function h(y,v){this.name=f,y?typeof y=="string"?(this.message="".concat(y).concat(v?`
 `+v:""),this.inner=v||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=je[u]||f,this.inner=null)}return de(h).from(_t),s[u]=h,s},{}),Be=(Ue.Syntax=SyntaxError,Ue.Type=TypeError,Ue.Range=RangeError,X.reduce(function(s,u){return s[u+"Error"]=Ue[u],s},{}));X=on.reduce(function(s,u){return["Syntax","Type","Range"].indexOf(u)===-1&&(s[u+"Error"]=Ue[u]),s},{});function Ye(){}function ht(s){return s}function Cn(s,u){return s==null||s===ht?u:function(f){return u(s(f))}}function cn(s,u){return function(){s.apply(this,arguments),u.apply(this,arguments)}}function cl(s,u){return s===Ye?u:function(){var f=s.apply(this,arguments),h=(f!==void 0&&(arguments[0]=f),this.onsuccess),y=this.onerror,v=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return h&&(this.onsuccess=this.onsuccess?cn(h,this.onsuccess):h),y&&(this.onerror=this.onerror?cn(y,this.onerror):y),v!==void 0?v:f}}function Kr(s,u){return s===Ye?u:function(){s.apply(this,arguments);var f=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,u.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?cn(f,this.onsuccess):f),h&&(this.onerror=this.onerror?cn(h,this.onerror):h)}}function Jl(s,u){return s===Ye?u:function(y){var h=s.apply(this,arguments),y=(C(y,h),this.onsuccess),v=this.onerror,x=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return y&&(this.onsuccess=this.onsuccess?cn(y,this.onsuccess):y),v&&(this.onerror=this.onerror?cn(v,this.onerror):v),h===void 0?x===void 0?void 0:x:C(h,x)}}function ra(s,u){return s===Ye?u:function(){return u.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function Ea(s,u){return s===Ye?u:function(){var f=s.apply(this,arguments);if(f&&typeof f.then=="function"){for(var h=this,y=arguments.length,v=new Array(y);y--;)v[y]=arguments[y];return f.then(function(){return u.apply(h,v)})}return u.apply(this,arguments)}}X.ModifyError=Qe,X.DexieError=Ne,X.BulkError=Ve;var bn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Xr(s){bn=s}var Il={},un=100,$l=typeof Promise>"u"?[]:(on=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[$l=crypto.subtle.digest("SHA-512",new Uint8Array([0])),D($l),on]:[on,D(on),on]),on=$l[0],Xa=$l[1],Xa=Xa&&Xa.then,ca=on&&on.constructor,ul=!!$l[2],Fl=function(s,u){Wl.push([s,u]),Ms&&(queueMicrotask(Gr),Ms=!1)},Os=!0,Ms=!0,Aa=[],ua=[],Pt=ht,en={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ye,pgp:!1,env:{},finalize:Ye},Oe=en,Wl=[],Oa=0,ks=[];function Ce(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var u=this._PSD=Oe;if(typeof s!="function"){if(s!==Il)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Wn(this,this._value)}else this._state=null,this._value=null,++u.ref,(function f(h,y){try{y(function(v){if(h._state===null){if(v===h)throw new TypeError("A promise cannot be resolved with itself.");var x=h._lib&&oa();v&&typeof v.then=="function"?f(h,function(j,A){v instanceof Ce?v._then(j,A):v.then(j,A)}):(h._state=!0,h._value=v,es(h)),x&&Hn()}},Wn.bind(null,h))}catch(v){Wn(h,v)}})(this,s)}var ol={get:function(){var s=Oe,u=as;function f(h,y){var v=this,x=!s.global&&(s!==Oe||u!==as),j=x&&!yn(),A=new Ce(function(G,O){Ma(v,new Pl(zs(h,s,x,j),zs(y,s,x,j),G,O,s))});return this._consoleTask&&(A._consoleTask=this._consoleTask),A}return f.prototype=Il,f},set:function(s){oe(this,"then",s&&s.prototype===Il?ol:{get:function(){return s},set:ol.set})}};function Pl(s,u,f,h,y){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof u=="function"?u:null,this.resolve=f,this.reject=h,this.psd=y}function Wn(s,u){var f,h;ua.push(u),s._state===null&&(f=s._lib&&oa(),u=Pt(u),s._state=!1,s._value=u,h=s,Aa.some(function(y){return y._value===h._value})||Aa.push(h),es(s),f)&&Hn()}function es(s){var u=s._listeners;s._listeners=[];for(var f=0,h=u.length;f<h;++f)Ma(s,u[f]);var y=s._PSD;--y.ref||y.finalize(),Oa===0&&(++Oa,Fl(function(){--Oa==0&&Ri()},[]))}function Ma(s,u){if(s._state===null)s._listeners.push(u);else{var f=s._state?u.onFulfilled:u.onRejected;if(f===null)return(s._state?u.resolve:u.reject)(s._value);++u.psd.ref,++Oa,Fl(Nu,[f,s,u])}}function Nu(s,u,f){try{var h,y=u._value;!u._state&&ua.length&&(ua=[]),h=bn&&u._consoleTask?u._consoleTask.run(function(){return s(y)}):s(y),u._state||ua.indexOf(y)!==-1||(v=>{for(var x=Aa.length;x;)if(Aa[--x]._value===v._value)return Aa.splice(x,1)})(u),f.resolve(h)}catch(v){f.reject(v)}finally{--Oa==0&&Ri(),--f.psd.ref||f.psd.finalize()}}function Gr(){En(en,function(){oa()&&Hn()})}function oa(){var s=Os;return Ms=Os=!1,s}function Hn(){var s,u,f;do for(;0<Wl.length;)for(s=Wl,Wl=[],f=s.length,u=0;u<f;++u){var h=s[u];h[0].apply(null,h[1])}while(0<Wl.length);Ms=Os=!0}function Ri(){for(var s=Aa,u=(Aa=[],s.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)}),ks.slice(0)),f=u.length;f;)u[--f]()}function ts(s){return new Ce(Il,!1,s)}function St(s,u){var f=Oe;return function(){var h=oa(),y=Oe;try{return da(f,!0),s.apply(this,arguments)}catch(v){u&&u(v)}finally{da(y,!1),h&&Hn()}}}ee(Ce.prototype,{then:ol,_then:function(s,u){Ma(this,new Pl(null,null,s,u,Oe))},catch:function(s){var u,f;return arguments.length===1?this.then(null,s):(u=s,f=arguments[1],typeof u=="function"?this.then(null,function(h){return(h instanceof u?f:ts)(h)}):this.then(null,function(h){return(h&&h.name===u?f:ts)(h)}))},finally:function(s){return this.then(function(u){return Ce.resolve(s()).then(function(){return u})},function(u){return Ce.resolve(s()).then(function(){return ts(u)})})},timeout:function(s,u){var f=this;return s<1/0?new Ce(function(h,y){var v=setTimeout(function(){return y(new Ue.Timeout(u))},s);f.then(h,y).finally(clearTimeout.bind(null,v))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&oe(Ce.prototype,Symbol.toStringTag,"Dexie.Promise"),en.env=qi(),ee(Ce,{all:function(){var s=ie.apply(null,arguments).map(dl);return new Ce(function(u,f){s.length===0&&u([]);var h=s.length;s.forEach(function(y,v){return Ce.resolve(y).then(function(x){s[v]=x,--h||u(s)},f)})})},resolve:function(s){return s instanceof Ce?s:s&&typeof s.then=="function"?new Ce(function(u,f){s.then(u,f)}):new Ce(Il,!0,s)},reject:ts,race:function(){var s=ie.apply(null,arguments).map(dl);return new Ce(function(u,f){s.map(function(h){return Ce.resolve(h).then(u,f)})})},PSD:{get:function(){return Oe},set:function(s){return Oe=s}},totalEchoes:{get:function(){return as}},newPSD:Dt,usePSD:En,scheduler:{get:function(){return Fl},set:function(s){Fl=s}},rejectionMapper:{get:function(){return Pt},set:function(s){Pt=s}},follow:function(s,u){return new Ce(function(f,h){return Dt(function(y,v){var x=Oe;x.unhandleds=[],x.onunhandled=v,x.finalize=cn(function(){var j,A=this;j=function(){A.unhandleds.length===0?y():v(A.unhandleds[0])},ks.push(function G(){j(),ks.splice(ks.indexOf(G),1)}),++Oa,Fl(function(){--Oa==0&&Ri()},[])},x.finalize),s()},u,f,h)})}}),ca&&(ca.allSettled&&oe(Ce,"allSettled",function(){var s=ie.apply(null,arguments).map(dl);return new Ce(function(u){s.length===0&&u([]);var f=s.length,h=new Array(f);s.forEach(function(y,v){return Ce.resolve(y).then(function(x){return h[v]={status:"fulfilled",value:x}},function(x){return h[v]={status:"rejected",reason:x}}).then(function(){return--f||u(h)})})})}),ca.any&&typeof AggregateError<"u"&&oe(Ce,"any",function(){var s=ie.apply(null,arguments).map(dl);return new Ce(function(u,f){s.length===0&&f(new AggregateError([]));var h=s.length,y=new Array(h);s.forEach(function(v,x){return Ce.resolve(v).then(function(j){return u(j)},function(j){y[x]=j,--h||f(new AggregateError(y))})})})}),ca.withResolvers)&&(Ce.withResolvers=ca.withResolvers);var Ut={awaits:0,echoes:0,id:0},Ui=0,fl=[],ns=0,as=0,fa=0;function Dt(s,x,f,h){var y=Oe,v=Object.create(y),x=(v.parent=y,v.ref=0,v.global=!1,v.id=++fa,en.env,v.env=ul?{Promise:Ce,PromiseProp:{value:Ce,configurable:!0,writable:!0},all:Ce.all,race:Ce.race,allSettled:Ce.allSettled,any:Ce.any,resolve:Ce.resolve,reject:Ce.reject}:{},x&&C(v,x),++y.ref,v.finalize=function(){--this.parent.ref||this.parent.finalize()},En(v,s,f,h));return v.ref===0&&v.finalize(),x}function qt(){return Ut.id||(Ut.id=++Ui),++Ut.awaits,Ut.echoes+=un,Ut.id}function yn(){return!!Ut.awaits&&(--Ut.awaits==0&&(Ut.id=0),Ut.echoes=Ut.awaits*un,!0)}function dl(s){return Ut.echoes&&s&&s.constructor===ca?(qt(),s.then(function(u){return yn(),u},function(u){return yn(),xt(u)})):s}function Su(){var s=fl[fl.length-1];fl.pop(),da(s,!1)}function da(s,u){var f,h,y=Oe;(u?!Ut.echoes||ns++&&s===Oe:!ns||--ns&&s===Oe)||queueMicrotask(u?(function(v){++as,Ut.echoes&&--Ut.echoes!=0||(Ut.echoes=Ut.awaits=Ut.id=0),fl.push(Oe),da(v,!0)}).bind(null,s):Su),s!==Oe&&(Oe=s,y===en&&(en.env=qi()),ul)&&(f=en.env.Promise,h=s.env,y.global||s.global)&&(Object.defineProperty(T,"Promise",h.PromiseProp),f.all=h.all,f.race=h.race,f.resolve=h.resolve,f.reject=h.reject,h.allSettled&&(f.allSettled=h.allSettled),h.any)&&(f.any=h.any)}function qi(){var s=T.Promise;return ul?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(T,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function En(s,u,f,h,y){var v=Oe;try{return da(s,!0),u(f,h,y)}finally{da(v,!1)}}function zs(s,u,f,h){return typeof s!="function"?s:function(){var y=Oe;f&&qt(),da(u,!0);try{return s.apply(this,arguments)}finally{da(y,!1),h&&queueMicrotask(yn)}}}function ma(s){Promise===ca&&Ut.echoes===0?ns===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+Xa).indexOf("[native code]")===-1&&(qt=yn=Ye);var xt=Ce.reject,An="",fn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ht="String expected.",ka=[],ls="__dbnames",Pn="readonly",ha="readwrite";function za(s,u){return s?u?function(){return s.apply(this,arguments)&&u.apply(this,arguments)}:s:u}var Hi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ss(s){return typeof s!="string"||/\./.test(s)?function(u){return u}:function(u){return u[s]===void 0&&s in u&&delete(u=xe(u))[s],u}}function Qr(){throw Ue.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function et(s,u){try{var f=is(s),h=is(u);if(f!==h)return f==="Array"?1:h==="Array"?-1:f==="binary"?1:h==="binary"?-1:f==="string"?1:h==="string"?-1:f==="Date"?1:h!=="Date"?NaN:-1;switch(f){case"number":case"Date":case"string":return u<s?1:s<u?-1:0;case"binary":for(var y=Yn(s),v=Yn(u),x=y.length,j=v.length,A=x<j?x:j,G=0;G<A;++G)if(y[G]!==v[G])return y[G]<v[G]?-1:1;return x===j?0:x<j?-1:1;case"Array":for(var O=s,E=u,z=O.length,R=E.length,M=z<R?z:R,k=0;k<M;++k){var V=et(O[k],E[k]);if(V!==0)return V}return z===R?0:z<R?-1:1}}catch{}return NaN}function is(s){var u=typeof s;return u=="object"&&(ArrayBuffer.isView(s)||(u=De(s))==="ArrayBuffer")?"binary":u}function Yn(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function tn(s,u,f){var h=s.schema.yProps;return h?(u&&0<f.numFailures&&(u=u.filter(function(y,v){return!f.failures[v]})),Promise.all(h.map(function(y){return y=y.updatesTable,u?s.db.table(y).where("k").anyOf(u).delete():s.db.table(y).clear()})).then(function(){return f})):f}Vr.prototype.execute=function(s){var u=this["@@propmod"];if(u.add!==void 0){var f=u.add;if(L(f))return b(b([],L(s)?s:[],!0),f).sort();if(typeof f=="number")return(Number(s)||0)+f;if(typeof f=="bigint")try{return BigInt(s)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(u.remove!==void 0){var h=u.remove;if(L(h))return L(s)?s.filter(function(y){return!h.includes(y)}).sort():[];if(typeof h=="number")return Number(s)-h;if(typeof h=="bigint")try{return BigInt(s)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}return f=(f=u.replacePrefix)==null?void 0:f[0],f&&typeof s=="string"&&s.startsWith(f)?u.replacePrefix[1]+s.substring(f.length):s};var ml=Vr;function Vr(s){this["@@propmod"]=s}function Bs(s,u){for(var f=Y(u),h=f.length,y=!1,v=0;v<h;++v){var x=f[v],j=u[x],A=fe(s,x);j instanceof ml?(ce(s,x,j.execute(A)),y=!0):A!==j&&(ce(s,x,j),y=!0)}return y}dt.prototype._trans=function(s,u,f){var h=this._tx||Oe.trans,y=this.name,v=bn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function x(G,O,E){if(E.schema[y])return u(E.idbtrans,E);throw new Ue.NotFound("Table "+y+" not part of transaction")}var j=oa();try{var A=h&&h.db._novip===this.db._novip?h===Oe.trans?h._promise(s,x,f):Dt(function(){return h._promise(s,x,f)},{trans:h,transless:Oe.transless||Oe}):(function G(O,E,z,R){if(O.idbdb&&(O._state.openComplete||Oe.letThrough||O._vip)){var M=O._createTransaction(E,z,O._dbSchema);try{M.create(),O._state.PR1398_maxLoop=3}catch(k){return k.name===kt.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return G(O,E,z,R)})):xt(k)}return M._promise(E,function(k,V){return Dt(function(){return Oe.trans=M,R(k,V,M)})}).then(function(k){if(E==="readwrite")try{M.idbtrans.commit()}catch{}return E==="readonly"?k:M._completion.then(function(){return k})})}if(O._state.openComplete)return xt(new Ue.DatabaseClosed(O._state.dbOpenError));if(!O._state.isBeingOpened){if(!O._state.autoOpen)return xt(new Ue.DatabaseClosed);O.open().catch(Ye)}return O._state.dbReadyPromise.then(function(){return G(O,E,z,R)})})(this.db,s,[this.name],x);return v&&(A._consoleTask=v,A=A.catch(function(G){return console.trace(G),xt(G)})),A}finally{j&&Hn()}},dt.prototype.get=function(s,u){var f=this;return s&&s.constructor===Object?this.where(s).first(u):s==null?xt(new Ue.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return f.core.get({trans:h,key:s}).then(function(y){return f.hook.reading.fire(y)})}).then(u)},dt.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(L(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var u=Y(s);if(u.length===1)return this.where(u[0]).equals(s[u[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(j){if(j.compound&&u.every(function(G){return 0<=j.keyPath.indexOf(G)})){for(var A=0;A<u.length;++A)if(u.indexOf(j.keyPath[A])===-1)return!1;return!0}return!1}).sort(function(j,A){return j.keyPath.length-A.keyPath.length})[0];if(f&&this.db._maxKey!==An)return x=f.keyPath.slice(0,u.length),this.where(x).equals(x.map(function(j){return s[j]}));!f&&bn&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var h=this.schema.idxByName;function y(j,A){return et(j,A)===0}var x=u.reduce(function(O,A){var G=O[0],O=O[1],E=h[A],z=s[A];return[G||E,G||!E?za(O,E&&E.multi?function(R){return R=fe(R,A),L(R)&&R.some(function(M){return y(z,M)})}:function(R){return y(z,fe(R,A))}):O]},[null,null]),v=x[0],x=x[1];return v?this.where(v.name).equals(s[v.keyPath]).filter(x):f?this.filter(x):this.where(u).equals("")},dt.prototype.filter=function(s){return this.toCollection().and(s)},dt.prototype.count=function(s){return this.toCollection().count(s)},dt.prototype.offset=function(s){return this.toCollection().offset(s)},dt.prototype.limit=function(s){return this.toCollection().limit(s)},dt.prototype.each=function(s){return this.toCollection().each(s)},dt.prototype.toArray=function(s){return this.toCollection().toArray(s)},dt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},dt.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,L(s)?"[".concat(s.join("+"),"]"):s))},dt.prototype.reverse=function(){return this.toCollection().reverse()},dt.prototype.mapToClass=function(s){for(var u=this.db,f=this.name,h=((this.schema.mappedClass=s).prototype instanceof Qr&&(s=(x=>{var j=O,A=x;if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function G(){this.constructor=j}function O(){return x!==null&&x.apply(this,arguments)||this}return d(j,A),j.prototype=A===null?Object.create(A):(G.prototype=A.prototype,new G),Object.defineProperty(O.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),O.prototype.table=function(){return f},O})(s)),new Set),y=s.prototype;y;y=D(y))Object.getOwnPropertyNames(y).forEach(function(x){return h.add(x)});function v(x){if(!x)return x;var j,A=Object.create(s.prototype);for(j in x)if(!h.has(j))try{A[j]=x[j]}catch{}return A}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=v,this.hook("reading",v),s},dt.prototype.defineClass=function(){return this.mapToClass(function(s){C(this,s)})},dt.prototype.add=function(s,u){var f=this,h=this.schema.primKey,y=h.auto,v=h.keyPath,x=s;return v&&y&&(x=ss(v)(s)),this._trans("readwrite",function(j){return f.core.mutate({trans:j,type:"add",keys:u!=null?[u]:null,values:[x]})}).then(function(j){return j.numFailures?Ce.reject(j.failures[0]):j.lastResult}).then(function(j){if(v)try{ce(s,v,j)}catch{}return j})},dt.prototype.upsert=function(s,u){var f=this,h=this.schema.primKey.keyPath;return this._trans("readwrite",function(y){return f.core.get({trans:y,key:s}).then(function(v){var x=v??{};return Bs(x,u),h&&ce(x,h,s),f.core.mutate({trans:y,type:"put",values:[x],keys:[s],upsert:!0,updates:{keys:[s],changeSpecs:[u]}}).then(function(j){return j.numFailures?Ce.reject(j.failures[0]):!!v})})})},dt.prototype.update=function(s,u){return typeof s!="object"||L(s)?this.where(":id").equals(s).modify(u):(s=fe(s,this.schema.primKey.keyPath))===void 0?xt(new Ue.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(u)},dt.prototype.put=function(s,u){var f=this,h=this.schema.primKey,y=h.auto,v=h.keyPath,x=s;return v&&y&&(x=ss(v)(s)),this._trans("readwrite",function(j){return f.core.mutate({trans:j,type:"put",values:[x],keys:u!=null?[u]:null})}).then(function(j){return j.numFailures?Ce.reject(j.failures[0]):j.lastResult}).then(function(j){if(v)try{ce(s,v,j)}catch{}return j})},dt.prototype.delete=function(s){var u=this;return this._trans("readwrite",function(f){return u.core.mutate({trans:f,type:"delete",keys:[s]}).then(function(h){return tn(u,[s],h)}).then(function(h){return h.numFailures?Ce.reject(h.failures[0]):void 0})})},dt.prototype.clear=function(){var s=this;return this._trans("readwrite",function(u){return s.core.mutate({trans:u,type:"deleteRange",range:Hi}).then(function(f){return tn(s,null,f)})}).then(function(u){return u.numFailures?Ce.reject(u.failures[0]):void 0})},dt.prototype.bulkGet=function(s){var u=this;return this._trans("readonly",function(f){return u.core.getMany({keys:s,trans:f}).then(function(h){return h.map(function(y){return u.hook.reading.fire(y)})})})},dt.prototype.bulkAdd=function(s,u,f){var h=this,y=Array.isArray(u)?u:void 0,v=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(x){var j=h.schema.primKey,G=j.auto,j=j.keyPath;if(j&&y)throw new Ue.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==s.length)throw new Ue.InvalidArgument("Arguments objects and keys must have the same length");var A=s.length,G=j&&G?s.map(ss(j)):s;return h.core.mutate({trans:x,type:"add",keys:y,values:G,wantResults:v}).then(function(O){var E=O.numFailures,z=O.failures;if(E===0)return v?O.results:O.lastResult;throw new Ve("".concat(h.name,".bulkAdd(): ").concat(E," of ").concat(A," operations failed"),z)})})},dt.prototype.bulkPut=function(s,u,f){var h=this,y=Array.isArray(u)?u:void 0,v=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(x){var j=h.schema.primKey,G=j.auto,j=j.keyPath;if(j&&y)throw new Ue.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==s.length)throw new Ue.InvalidArgument("Arguments objects and keys must have the same length");var A=s.length,G=j&&G?s.map(ss(j)):s;return h.core.mutate({trans:x,type:"put",keys:y,values:G,wantResults:v}).then(function(O){var E=O.numFailures,z=O.failures;if(E===0)return v?O.results:O.lastResult;throw new Ve("".concat(h.name,".bulkPut(): ").concat(E," of ").concat(A," operations failed"),z)})})},dt.prototype.bulkUpdate=function(s){var u=this,f=this.core,h=s.map(function(x){return x.key}),y=s.map(function(x){return x.changes}),v=[];return this._trans("readwrite",function(x){return f.getMany({trans:x,keys:h,cache:"clone"}).then(function(j){var A=[],G=[],O=(s.forEach(function(E,z){var R=E.key,M=E.changes,k=j[z];if(k){for(var V=0,I=Object.keys(M);V<I.length;V++){var Q=I[V],ne=M[Q];if(Q===u.schema.primKey.keyPath){if(et(ne,R)!==0)throw new Ue.Constraint("Cannot update primary key in bulkUpdate()")}else ce(k,Q,ne)}v.push(z),A.push(R),G.push(k)}}),A.length);return f.mutate({trans:x,type:"put",keys:A,values:G,updates:{keys:h,changeSpecs:y}}).then(function(E){var z=E.numFailures,R=E.failures;if(z===0)return O;for(var M=0,k=Object.keys(R);M<k.length;M++){var V,I=k[M],Q=v[Number(I)];Q!=null&&(V=R[I],delete R[I],R[Q]=V)}throw new Ve("".concat(u.name,".bulkUpdate(): ").concat(z," of ").concat(O," operations failed"),R)})})})},dt.prototype.bulkDelete=function(s){var u=this,f=s.length;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"delete",keys:s}).then(function(y){return tn(u,s,y)})}).then(function(h){var y=h.numFailures,v=h.failures;if(y===0)return h.lastResult;throw new Ve("".concat(u.name,".bulkDelete(): ").concat(y," of ").concat(f," operations failed"),v)})};var Yi=dt;function dt(){}function rs(s){function u(x,j){if(j){for(var A=arguments.length,G=new Array(A-1);--A;)G[A-1]=arguments[A];return f[x].subscribe.apply(null,G),s}if(typeof x=="string")return f[x]}var f={};u.addEventType=v;for(var h=1,y=arguments.length;h<y;++h)v(arguments[h]);return u;function v(x,j,A){var G,O;if(typeof x!="object")return j=j||ra,O={subscribers:[],fire:A=A||Ye,subscribe:function(E){O.subscribers.indexOf(E)===-1&&(O.subscribers.push(E),O.fire=j(O.fire,E))},unsubscribe:function(E){O.subscribers=O.subscribers.filter(function(z){return z!==E}),O.fire=O.subscribers.reduce(j,A)}},f[x]=u[x]=O;Y(G=x).forEach(function(E){var z=G[E];if(L(z))v(E,G[E][0],G[E][1]);else{if(z!=="asap")throw new Ue.InvalidArgument("Invalid event config");var R=v(E,ht,function(){for(var M=arguments.length,k=new Array(M);M--;)k[M]=arguments[M];R.subscribers.forEach(function(V){ve(function(){V.apply(null,k)})})})}})}}function It(s,u){return de(u).from({prototype:s}),u}function pa(s,u){return!(s.filter||s.algorithm||s.or)&&(u?s.justLimit:!s.replayFilter)}function Rs(s,u){s.filter=za(s.filter,u)}function cs(s,u,f){var h=s.replayFilter;s.replayFilter=h?function(){return za(h(),u())}:u,s.justLimit=f&&!h}function ea(s,u){if(s.isPrimKey)return u.primaryKey;var f=u.getIndexByKeyPath(s.index);if(f)return f;throw new Ue.Schema("KeyPath "+s.index+" on object store "+u.name+" is not indexed")}function Li(s,u,f){var h=ea(s,u.schema);return u.openCursor({trans:f,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:h,range:s.range}})}function us(s,u,f,h){var y,v,x=s.replayFilter?za(s.filter,s.replayFilter()):s.filter;return s.or?(y={},v=function(j,A,G){var O,E;x&&!x(A,G,function(z){return A.stop(z)},function(z){return A.fail(z)})||((E=""+(O=A.primaryKey))=="[object ArrayBuffer]"&&(E=""+new Uint8Array(O)),q(y,E))||(y[E]=!0,u(j,A,G))},Promise.all([s.or._iterate(v,f),Ba(Li(s,h,f),s.algorithm,v,!s.keysOnly&&s.valueMapper)])):Ba(Li(s,h,f),za(s.algorithm,x),u,!s.keysOnly&&s.valueMapper)}function Ba(s,u,f,h){var y=St(h?function(v,x,j){return f(h(v),x,j)}:f);return s.then(function(v){if(v)return v.start(function(){var x=function(){return v.continue()};u&&!u(v,function(j){return x=j},function(j){v.stop(j),x=Ye},function(j){v.fail(j),x=Ye})||y(v.value,v,function(j){return x=j}),x()})})}ct.prototype._read=function(s,u){var f=this._ctx;return f.error?f.table._trans(null,xt.bind(null,f.error)):f.table._trans("readonly",s).then(u)},ct.prototype._write=function(s){var u=this._ctx;return u.error?u.table._trans(null,xt.bind(null,u.error)):u.table._trans("readwrite",s,"locked")},ct.prototype._addAlgorithm=function(s){var u=this._ctx;u.algorithm=za(u.algorithm,s)},ct.prototype._iterate=function(s,u){return us(this._ctx,s,u,this._ctx.table.core)},ct.prototype.clone=function(s){var u=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return s&&C(f,s),u._ctx=f,u},ct.prototype.raw=function(){return this._ctx.valueMapper=null,this},ct.prototype.each=function(s){var u=this._ctx;return this._read(function(f){return us(u,s,f,u.table.core)})},ct.prototype.count=function(s){var u=this;return this._read(function(f){var h,y=u._ctx,v=y.table.core;return pa(y,!0)?v.count({trans:f,query:{index:ea(y,v.schema),range:y.range}}).then(function(x){return Math.min(x,y.limit)}):(h=0,us(y,function(){return++h,!1},f,v).then(function(){return h}))}).then(s)},ct.prototype.sortBy=function(s,u){var f=s.split(".").reverse(),h=f[0],y=f.length-1;function v(A,G){return G?v(A[f[G]],G-1):A[h]}var x=this._ctx.dir==="next"?1:-1;function j(A,G){return et(v(A,y),v(G,y))*x}return this.toArray(function(A){return A.sort(j)}).then(u)},ct.prototype.toArray=function(s){var u=this;return this._read(function(f){var h,y,v,x=u._ctx;return x.dir==="next"&&pa(x,!0)&&0<x.limit?(h=x.valueMapper,y=ea(x,x.table.core.schema),x.table.core.query({trans:f,limit:x.limit,values:!0,query:{index:y,range:x.range}}).then(function(j){return j=j.result,h?j.map(h):j})):(v=[],us(x,function(j){return v.push(j)},f,x.table.core).then(function(){return v}))},s)},ct.prototype.offset=function(s){var u=this._ctx;return s<=0||(u.offset+=s,pa(u)?cs(u,function(){var f=s;return function(h,y){return f===0||(f===1?--f:y(function(){h.advance(f),f=0}),!1)}}):cs(u,function(){var f=s;return function(){return--f<0}})),this},ct.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),cs(this._ctx,function(){var u=s;return function(f,h,y){return--u<=0&&h(y),0<=u}},!0),this},ct.prototype.until=function(s,u){return Rs(this._ctx,function(f,h,y){return!s(f.value)||(h(y),u)}),this},ct.prototype.first=function(s){return this.limit(1).toArray(function(u){return u[0]}).then(s)},ct.prototype.last=function(s){return this.reverse().first(s)},ct.prototype.filter=function(s){var u;return Rs(this._ctx,function(f){return s(f.value)}),(u=this._ctx).isMatch=za(u.isMatch,s),this},ct.prototype.and=function(s){return this.filter(s)},ct.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},ct.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ct.prototype.desc=function(){return this.reverse()},ct.prototype.eachKey=function(s){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){s(h.key,h)})},ct.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},ct.prototype.eachPrimaryKey=function(s){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){s(h.primaryKey,h)})},ct.prototype.keys=function(s){var u=this._ctx,f=(u.keysOnly=!u.isMatch,[]);return this.each(function(h,y){f.push(y.key)}).then(function(){return f}).then(s)},ct.prototype.primaryKeys=function(s){var u=this._ctx;if(u.dir==="next"&&pa(u,!0)&&0<u.limit)return this._read(function(h){var y=ea(u,u.table.core.schema);return u.table.core.query({trans:h,values:!1,limit:u.limit,query:{index:y,range:u.range}})}).then(function(h){return h.result}).then(s);u.keysOnly=!u.isMatch;var f=[];return this.each(function(h,y){f.push(y.primaryKey)}).then(function(){return f}).then(s)},ct.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},ct.prototype.firstKey=function(s){return this.limit(1).keys(function(u){return u[0]}).then(s)},ct.prototype.lastKey=function(s){return this.reverse().firstKey(s)},ct.prototype.distinct=function(){var s,u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];return u&&u.multi&&(s={},Rs(this._ctx,function(h){var h=h.primaryKey.toString(),y=q(s,h);return s[h]=!0,!y})),this},ct.prototype.modify=function(s){var u=this,f=this._ctx;return this._write(function(h){function y(k,V){var I=V.failures;z+=k-V.numFailures;for(var Q=0,ne=Y(I);Q<ne.length;Q++){var he=ne[Q];E.push(I[he])}}var v=typeof s=="function"?s:function(k){return Bs(k,s)},x=f.table.core,O=x.schema.primaryKey,j=O.outbound,A=O.extractKey,G=200,O=u.db._options.modifyChunkSize,E=(O&&(G=typeof O=="object"?O[x.name]||O["*"]||200:O),[]),z=0,R=[],M=s===Ki;return u.clone().primaryKeys().then(function(k){function V(Q){var ne=Math.min(G,k.length-Q),he=k.slice(Q,Q+ne);return(M?Promise.resolve([]):x.getMany({trans:h,keys:he,cache:"immutable"})).then(function(Se){var Te=[],pe=[],Me=j?[]:null,Ee=M?he:[];if(!M)for(var ye=0;ye<ne;++ye){var ke=Se[ye],Ze={value:xe(ke),primKey:k[Q+ye]};v.call(Ze,Ze.value,Ze)!==!1&&(Ze.value==null?Ee.push(k[Q+ye]):j||et(A(ke),A(Ze.value))===0?(pe.push(Ze.value),j&&Me.push(k[Q+ye])):(Ee.push(k[Q+ye]),Te.push(Ze.value)))}return Promise.resolve(0<Te.length&&x.mutate({trans:h,type:"add",values:Te}).then(function(tt){for(var Le in tt.failures)Ee.splice(parseInt(Le),1);y(Te.length,tt)})).then(function(){return(0<pe.length||I&&typeof s=="object")&&x.mutate({trans:h,type:"put",keys:Me,values:pe,criteria:I,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<Q}).then(function(tt){return y(pe.length,tt)})}).then(function(){return(0<Ee.length||I&&M)&&x.mutate({trans:h,type:"delete",keys:Ee,criteria:I,isAdditionalChunk:0<Q}).then(function(tt){return tn(f.table,Ee,tt)}).then(function(tt){return y(Ee.length,tt)})}).then(function(){return k.length>Q+ne&&V(Q+G)})})}var I=pa(f)&&f.limit===1/0&&(typeof s!="function"||M)&&{index:f.index,range:f.range};return V(0).then(function(){if(0<E.length)throw new Qe("Error modifying one or more objects",E,z,R);return k.length})})})},ct.prototype.delete=function(){var s=this._ctx,u=s.range;return!pa(s)||s.table.schema.yProps||!s.isPrimKey&&u.type!==3?this.modify(Ki):this._write(function(f){var h=s.table.core.schema.primaryKey,y=u;return s.table.core.count({trans:f,query:{index:h,range:y}}).then(function(v){return s.table.core.mutate({trans:f,type:"deleteRange",range:y}).then(function(A){var j=A.failures,A=A.numFailures;if(A)throw new Qe("Could not delete some values",Object.keys(j).map(function(G){return j[G]}),v-A);return v-A})})})};var Tu=ct;function ct(){}var Ki=function(s,u){return u.value=null};function Xi(s,u){return s<u?-1:s===u?0:1}function _u(s,u){return u<s?-1:s===u?0:1}function vn(s,u,f){return s=s instanceof Ra?new s.Collection(s):s,s._ctx.error=new(f||TypeError)(u),s}function ta(s){return new s.Collection(s,function(){return Us("")}).limit(0)}function jn(R,u,f,h){var y,v,x,j,A,G,O,E=f.length;if(!f.every(function(k){return typeof k=="string"}))return vn(R,Ht);function z(k){y=k==="next"?function(I){return I.toUpperCase()}:function(I){return I.toLowerCase()},v=k==="next"?function(I){return I.toLowerCase()}:function(I){return I.toUpperCase()},x=k==="next"?Xi:_u;var V=f.map(function(I){return{lower:v(I),upper:y(I)}}).sort(function(I,Q){return x(I.lower,Q.lower)});j=V.map(function(I){return I.upper}),A=V.map(function(I){return I.lower}),O=(G=k)==="next"?"":h}z("next");var R=new R.Collection(R,function(){return Ln(j[0],A[E-1]+h)}),M=(R._ondirectionchange=function(k){z(k)},0);return R._addAlgorithm(function(k,V,I){var Q=k.key;if(typeof Q=="string"){var ne=v(Q);if(u(ne,A,M))return!0;for(var he=null,Se=M;Se<E;++Se){var Te=((pe,Me,Ee,ye,ke,Ze)=>{for(var tt=Math.min(pe.length,ye.length),Le=-1,Je=0;Je<tt;++Je){var bt=Me[Je];if(bt!==ye[Je])return ke(pe[Je],Ee[Je])<0?pe.substr(0,Je)+Ee[Je]+Ee.substr(Je+1):ke(pe[Je],ye[Je])<0?pe.substr(0,Je)+ye[Je]+Ee.substr(Je+1):0<=Le?pe.substr(0,Le)+Me[Le]+Ee.substr(Le+1):null;ke(pe[Je],bt)<0&&(Le=Je)}return tt<ye.length&&Ze==="next"?pe+Ee.substr(pe.length):tt<pe.length&&Ze==="prev"?pe.substr(0,Ee.length):Le<0?null:pe.substr(0,Le)+ye[Le]+Ee.substr(Le+1)})(Q,ne,j[Se],A[Se],x,G);Te===null&&he===null?M=Se+1:(he===null||0<x(he,Te))&&(he=Te)}V(he!==null?function(){k.continue(he+O)}:I)}return!1}),R}function Ln(s,u,f,h){return{type:2,lower:s,upper:u,lowerOpen:f,upperOpen:h}}function Us(s){return{type:1,lower:s,upper:s}}Object.defineProperty(Ct.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ct.prototype.between=function(s,u,f,h){f=f!==!1,h=h===!0;try{return 0<this._cmp(s,u)||this._cmp(s,u)===0&&(f||h)&&(!f||!h)?ta(this):new this.Collection(this,function(){return Ln(s,u,!f,!h)})}catch{return vn(this,fn)}},Ct.prototype.equals=function(s){return s==null?vn(this,fn):new this.Collection(this,function(){return Us(s)})},Ct.prototype.above=function(s){return s==null?vn(this,fn):new this.Collection(this,function(){return Ln(s,void 0,!0)})},Ct.prototype.aboveOrEqual=function(s){return s==null?vn(this,fn):new this.Collection(this,function(){return Ln(s,void 0,!1)})},Ct.prototype.below=function(s){return s==null?vn(this,fn):new this.Collection(this,function(){return Ln(void 0,s,!1,!0)})},Ct.prototype.belowOrEqual=function(s){return s==null?vn(this,fn):new this.Collection(this,function(){return Ln(void 0,s)})},Ct.prototype.startsWith=function(s){return typeof s!="string"?vn(this,Ht):this.between(s,s+An,!0,!0)},Ct.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):jn(this,function(u,f){return u.indexOf(f[0])===0},[s],An)},Ct.prototype.equalsIgnoreCase=function(s){return jn(this,function(u,f){return u===f[0]},[s],"")},Ct.prototype.anyOfIgnoreCase=function(){var s=ie.apply(ze,arguments);return s.length===0?ta(this):jn(this,function(u,f){return f.indexOf(u)!==-1},s,"")},Ct.prototype.startsWithAnyOfIgnoreCase=function(){var s=ie.apply(ze,arguments);return s.length===0?ta(this):jn(this,function(u,f){return f.some(function(h){return u.indexOf(h)===0})},s,An)},Ct.prototype.anyOf=function(){var s,u,f=this,h=ie.apply(ze,arguments),y=this._cmp;try{h.sort(y)}catch{return vn(this,fn)}return h.length===0?ta(this):((s=new this.Collection(this,function(){return Ln(h[0],h[h.length-1])}))._ondirectionchange=function(v){y=v==="next"?f._ascending:f._descending,h.sort(y)},u=0,s._addAlgorithm(function(v,x,j){for(var A=v.key;0<y(A,h[u]);)if(++u===h.length)return x(j),!1;return y(A,h[u])===0||(x(function(){v.continue(h[u])}),!1)}),s)},Ct.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ct.prototype.noneOf=function(){var s=ie.apply(ze,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return vn(this,fn)}var u=s.reduce(function(f,h){return f?f.concat([[f[f.length-1][1],h]]):[[-1/0,h]]},null);return u.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},Ct.prototype.inAnyRange=function(s,I){var f=this,h=this._cmp,y=this._ascending,v=this._descending,x=this._min,j=this._max;if(s.length===0)return ta(this);if(!s.every(function(Q){return Q[0]!==void 0&&Q[1]!==void 0&&y(Q[0],Q[1])<=0}))return vn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ue.InvalidArgument);var A=!I||I.includeLowers!==!1,G=I&&I.includeUppers===!0,O,E=y;function z(Q,ne){return E(Q[0],ne[0])}try{(O=s.reduce(function(Q,ne){for(var he=0,Se=Q.length;he<Se;++he){var Te=Q[he];if(h(ne[0],Te[1])<0&&0<h(ne[1],Te[0])){Te[0]=x(Te[0],ne[0]),Te[1]=j(Te[1],ne[1]);break}}return he===Se&&Q.push(ne),Q},[])).sort(z)}catch{return vn(this,fn)}var R=0,M=G?function(Q){return 0<y(Q,O[R][1])}:function(Q){return 0<=y(Q,O[R][1])},k=A?function(Q){return 0<v(Q,O[R][0])}:function(Q){return 0<=v(Q,O[R][0])},V=M,I=new this.Collection(this,function(){return Ln(O[0][0],O[O.length-1][1],!A,!G)});return I._ondirectionchange=function(Q){E=Q==="next"?(V=M,y):(V=k,v),O.sort(z)},I._addAlgorithm(function(Q,ne,he){for(var Se,Te=Q.key;V(Te);)if(++R===O.length)return ne(he),!1;return!M(Se=Te)&&!k(Se)||(f._cmp(Te,O[R][1])===0||f._cmp(Te,O[R][0])===0||ne(function(){E===y?Q.continue(O[R][0]):Q.continue(O[R][1])}),!1)}),I},Ct.prototype.startsWithAnyOf=function(){var s=ie.apply(ze,arguments);return s.every(function(u){return typeof u=="string"})?s.length===0?ta(this):this.inAnyRange(s.map(function(u){return[u,u+An]})):vn(this,"startsWithAnyOf() only works with strings")};var Ra=Ct;function Ct(){}function On(s){return St(function(u){return Ua(u),s(u.target.error),!1})}function Ua(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var hl="storagemutated",qa="x-storagemutated-1",$t=rs(null,hl),Gi=(dn.prototype._lock=function(){return ge(!Oe.global),++this._reculock,this._reculock!==1||Oe.global||(Oe.lockOwnerFor=this),this},dn.prototype._unlock=function(){if(ge(!Oe.global),--this._reculock==0)for(Oe.global||(Oe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{En(s[1],s[0])}catch{}}return this},dn.prototype._locked=function(){return this._reculock&&Oe.lockOwnerFor!==this},dn.prototype.create=function(s){var u=this;if(this.mode){var f=this.db.idbdb,h=this.db._state.dbOpenError;if(ge(!this.idbtrans),!s&&!f)switch(h&&h.name){case"DatabaseClosedError":throw new Ue.DatabaseClosed(h);case"MissingAPIError":throw new Ue.MissingAPI(h.message,h);default:throw new Ue.OpenFailed(h)}if(!this.active)throw new Ue.TransactionInactive;ge(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||f).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=St(function(y){Ua(y),u._reject(s.error)}),s.onabort=St(function(y){Ua(y),u.active&&u._reject(new Ue.Abort(s.error)),u.active=!1,u.on("abort").fire(y)}),s.oncomplete=St(function(){u.active=!1,u._resolve(),"mutatedParts"in s&&$t.storagemutated.fire(s.mutatedParts)})}return this},dn.prototype._promise=function(s,u,f){var h,y=this;return s==="readwrite"&&this.mode!=="readwrite"?xt(new Ue.ReadOnly("Transaction is readonly")):this.active?this._locked()?new Ce(function(v,x){y._blockedFuncs.push([function(){y._promise(s,u,f).then(v,x)},Oe])}):f?Dt(function(){var v=new Ce(function(x,j){y._lock();var A=u(x,j,y);A&&A.then&&A.then(x,j)});return v.finally(function(){return y._unlock()}),v._lib=!0,v}):((h=new Ce(function(v,x){var j=u(v,x,y);j&&j.then&&j.then(v,x)}))._lib=!0,h):xt(new Ue.TransactionInactive)},dn.prototype._root=function(){return this.parent?this.parent._root():this},dn.prototype.waitFor=function(s){var u,f=this._root(),h=Ce.resolve(s),y=(f._waitingFor?f._waitingFor=f._waitingFor.then(function(){return h}):(f._waitingFor=h,f._waitingQueue=[],u=f.idbtrans.objectStore(f.storeNames[0]),(function v(){for(++f._spinCount;f._waitingQueue.length;)f._waitingQueue.shift()();f._waitingFor&&(u.get(-1/0).onsuccess=v)})()),f._waitingFor);return new Ce(function(v,x){h.then(function(j){return f._waitingQueue.push(St(v.bind(null,j)))},function(j){return f._waitingQueue.push(St(x.bind(null,j)))}).finally(function(){f._waitingFor===y&&(f._waitingFor=null)})})},dn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ue.Abort))},dn.prototype.table=function(s){var u=this._memoizedTables||(this._memoizedTables={});if(q(u,s))return u[s];var f=this.schema[s];if(f)return(f=new this.db.Table(s,f,this)).core=this.db.core.table(s),u[s]=f;throw new Ue.NotFound("Table "+s+" not part of transaction")},dn);function dn(){}function Kn(s,u,f,h,y,v,x,j){return{name:s,keyPath:u,unique:f,multi:h,auto:y,compound:v,src:(f&&!x?"&":"")+(h?"*":"")+(y?"++":"")+qs(u),type:j}}function qs(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function pl(s,u,f){return{name:s,primKey:u,indexes:f,mappedClass:null,idxByName:(h=function(y){return[y.name,y]},f.reduce(function(y,v,x){return v=h(v,x),v&&(y[v[0]]=v[1]),y},{}))};var h}var yl=function(s){try{return s.only([[]]),yl=function(){return[[]]},[[]]}catch{return yl=function(){return An},An}};function vl(s){return s==null?function(){}:typeof s=="string"?(u=s).split(".").length===1?function(f){return f[u]}:function(f){return fe(f,u)}:function(f){return fe(f,s)};var u}function os(s){return[].slice.call(s)}var Zr=0;function Kt(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function Ha(s,u,A){function h(M){if(M.type===3)return null;if(M.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var E=M.lower,z=M.upper,R=M.lowerOpen,M=M.upperOpen;return E===void 0?z===void 0?null:u.upperBound(z,!!M):z===void 0?u.lowerBound(E,!!R):u.bound(E,z,!!R,!!M)}function y(O){var E,z=O.name;return{name:z,schema:O,mutate:function(R){var M=R.trans,k=R.type,V=R.keys,I=R.values,Q=R.range;return new Promise(function(ne,he){ne=St(ne);var Se=M.objectStore(z),Te=Se.keyPath==null,pe=k==="put"||k==="add";if(!pe&&k!=="delete"&&k!=="deleteRange")throw new Error("Invalid operation type: "+k);var Me,Ee=(V||I||{length:1}).length;if(V&&I&&V.length!==I.length)throw new Error("Given keys array must have same length as given values array.");if(Ee===0)return ne({numFailures:0,failures:{},results:[],lastResult:void 0});function ye(pt){++tt,Ua(pt)}var ke=[],Ze=[],tt=0;if(k==="deleteRange"){if(Q.type===4)return ne({numFailures:tt,failures:Ze,results:[],lastResult:void 0});Q.type===3?ke.push(Me=Se.clear()):ke.push(Me=Se.delete(h(Q)))}else{var Te=pe?Te?[I,V]:[I,null]:[V,null],Le=Te[0],Je=Te[1];if(pe)for(var bt=0;bt<Ee;++bt)ke.push(Me=Je&&Je[bt]!==void 0?Se[k](Le[bt],Je[bt]):Se[k](Le[bt])),Me.onerror=ye;else for(bt=0;bt<Ee;++bt)ke.push(Me=Se[k](Le[bt])),Me.onerror=ye}function hn(pt){pt=pt.target.result,ke.forEach(function(xa,Nl){return xa.error!=null&&(Ze[Nl]=xa.error)}),ne({numFailures:tt,failures:Ze,results:k==="delete"?V:ke.map(function(xa){return xa.result}),lastResult:pt})}Me.onerror=function(pt){ye(pt),hn(pt)},Me.onsuccess=hn})},getMany:function(R){var M=R.trans,k=R.keys;return new Promise(function(V,I){V=St(V);for(var Q,ne=M.objectStore(z),he=k.length,Se=new Array(he),Te=0,pe=0,Me=function(ke){ke=ke.target,Se[ke._pos]=ke.result,++pe===Te&&V(Se)},Ee=On(I),ye=0;ye<he;++ye)k[ye]!=null&&((Q=ne.get(k[ye]))._pos=ye,Q.onsuccess=Me,Q.onerror=Ee,++Te);Te===0&&V(Se)})},get:function(R){var M=R.trans,k=R.key;return new Promise(function(V,I){V=St(V);var Q=M.objectStore(z).get(k);Q.onsuccess=function(ne){return V(ne.target.result)},Q.onerror=On(I)})},query:(E=j,function(R){return new Promise(function(M,k){M=St(M);var V,I,Q,pe=R.trans,ne=R.values,he=R.limit,Te=R.query,Se=he===1/0?void 0:he,Me=Te.index,Te=Te.range,pe=pe.objectStore(z),pe=Me.isPrimaryKey?pe:pe.index(Me.name),Me=h(Te);if(he===0)return M({result:[]});E?((Te=ne?pe.getAll(Me,Se):pe.getAllKeys(Me,Se)).onsuccess=function(Ee){return M({result:Ee.target.result})},Te.onerror=On(k)):(V=0,I=!ne&&"openKeyCursor"in pe?pe.openKeyCursor(Me):pe.openCursor(Me),Q=[],I.onsuccess=function(Ee){var ye=I.result;return!ye||(Q.push(ne?ye.value:ye.primaryKey),++V===he)?M({result:Q}):void ye.continue()},I.onerror=On(k))})}),openCursor:function(R){var M=R.trans,k=R.values,V=R.query,I=R.reverse,Q=R.unique;return new Promise(function(ne,he){ne=St(ne);var pe=V.index,Se=V.range,Te=M.objectStore(z),Te=pe.isPrimaryKey?Te:Te.index(pe.name),pe=I?Q?"prevunique":"prev":Q?"nextunique":"next",Me=!k&&"openKeyCursor"in Te?Te.openKeyCursor(h(Se),pe):Te.openCursor(h(Se),pe);Me.onerror=On(he),Me.onsuccess=St(function(Ee){var ye,ke,Ze,tt,Le=Me.result;Le?(Le.___id=++Zr,Le.done=!1,ye=Le.continue.bind(Le),ke=(ke=Le.continuePrimaryKey)&&ke.bind(Le),Ze=Le.advance.bind(Le),tt=function(){throw new Error("Cursor not stopped")},Le.trans=M,Le.stop=Le.continue=Le.continuePrimaryKey=Le.advance=function(){throw new Error("Cursor not started")},Le.fail=St(he),Le.next=function(){var Je=this,bt=1;return this.start(function(){return bt--?Je.continue():Je.stop()}).then(function(){return Je})},Le.start=function(Je){function bt(){if(Me.result)try{Je()}catch(pt){Le.fail(pt)}else Le.done=!0,Le.start=function(){throw new Error("Cursor behind last entry")},Le.stop()}var hn=new Promise(function(pt,xa){pt=St(pt),Me.onerror=On(xa),Le.fail=xa,Le.stop=function(Nl){Le.stop=Le.continue=Le.continuePrimaryKey=Le.advance=tt,pt(Nl)}});return Me.onsuccess=St(function(pt){Me.onsuccess=bt,bt()}),Le.continue=ye,Le.continuePrimaryKey=ke,Le.advance=Ze,bt(),hn},ne(Le)):ne(null)},he)})},count:function(R){var M=R.query,k=R.trans,V=M.index,I=M.range;return new Promise(function(Q,ne){var he=k.objectStore(z),he=V.isPrimaryKey?he:he.index(V.name),Se=h(I),Se=Se?he.count(Se):he.count();Se.onsuccess=St(function(Te){return Q(Te.target.result)}),Se.onerror=On(ne)})}}}v=A,x=os((A=s).objectStoreNames);var v,A={schema:{name:A.name,tables:x.map(function(O){return v.objectStore(O)}).map(function(O){var E=O.keyPath,z=O.autoIncrement,M=L(E),R={},M={name:O.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:E==null,compound:M,keyPath:E,autoIncrement:z,unique:!0,extractKey:vl(E)},indexes:os(O.indexNames).map(function(k){return O.index(k)}).map(function(Q){var ne=Q.name,V=Q.unique,I=Q.multiEntry,Q=Q.keyPath,ne={name:ne,compound:L(Q),keyPath:Q,unique:V,multiEntry:I,extractKey:vl(Q)};return R[Kt(Q)]=ne}),getIndexByKeyPath:function(k){return R[Kt(k)]}};return R[":id"]=M.primaryKey,E!=null&&(R[Kt(E)]=M.primaryKey),M})},hasGetAll:0<x.length&&"getAll"in v.objectStore(x[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},x=A.schema,j=A.hasGetAll,A=x.tables.map(y),G={};return A.forEach(function(O){return G[O.name]=O}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(O){if(G[O])return G[O];throw new Error("Table '".concat(O,"' not found"))},MIN_KEY:-1/0,MAX_KEY:yl(u),schema:x}}function Hs(s,u,f,h){return f=f.IDBKeyRange,u=Ha(u,f,h),{dbcore:s.dbcore.reduce(function(y,v){return v=v.create,m(m({},y),v(y))},u)}}function ya(s,u){var f=u.db,f=Hs(s._middlewares,f,s._deps,u);s.core=f.dbcore,s.tables.forEach(function(h){var y=h.name;s.core.schema.tables.some(function(v){return v.name===y})&&(h.core=s.core.table(y),s[y]instanceof s.Table)&&(s[y].core=h.core)})}function Ys(s,u,f,h){f.forEach(function(y){var v=h[y];u.forEach(function(x){var j=(function A(G,O){return _e(G,O)||(G=D(G))&&A(G,O)})(x,y);(!j||"value"in j&&j.value===void 0)&&(x===s.Transaction.prototype||x instanceof s.Transaction?oe(x,y,{get:function(){return this.table(y)},set:function(A){ue(this,y,{value:A,writable:!0,configurable:!0,enumerable:!0})}}):x[y]=new s.Table(y,v))})})}function fs(s,u){u.forEach(function(f){for(var h in f)f[h]instanceof s.Table&&delete f[h]})}function Qi(s,u){return s._cfg.version-u._cfg.version}function ds(s,u,f,h){var y=s._dbSchema,v=(f.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=pl("$meta",Ir("")[0],[]),s._storeNames.push("$meta")),s._createTransaction("readwrite",s._storeNames,y)),x=(v.create(f),v._completion.catch(h),v._reject.bind(v)),j=Oe.transless||Oe;Dt(function(){if(Oe.trans=v,Oe.transless=j,u!==0)return ya(s,f),G=u,((A=v).storeNames.includes("$meta")?A.table("$meta").get("version").then(function(O){return O??G}):Ce.resolve(G)).then(function(V){var E=s,z=V,R=v,M=f,k=[],V=E._versions,I=E._dbSchema=gl(0,E.idbdb,M);return(V=V.filter(function(Q){return Q._cfg.version>=z})).length===0?Ce.resolve():(V.forEach(function(Q){k.push(function(){var ne,he,Se,Te=I,pe=Q._cfg.dbschema,Me=(Gs(E,Te,M),Gs(E,pe,M),I=E._dbSchema=pe,Ks(Te,pe)),Ee=(Me.add.forEach(function(ye){Vi(M,ye[0],ye[1].primKey,ye[1].indexes)}),Me.change.forEach(function(ye){if(ye.recreate)throw new Ue.Upgrade("Not yet support for changing primary key");var ke=M.objectStore(ye.name);ye.add.forEach(function(Ze){return Xs(ke,Ze)}),ye.change.forEach(function(Ze){ke.deleteIndex(Ze.name),Xs(ke,Ze)}),ye.del.forEach(function(Ze){return ke.deleteIndex(Ze)})}),Q._cfg.contentUpgrade);if(Ee&&Q._cfg.version>z)return ya(E,M),R._memoizedTables={},ne=He(pe),Me.del.forEach(function(ye){ne[ye]=Te[ye]}),fs(E,[E.Transaction.prototype]),Ys(E,[E.Transaction.prototype],Y(ne),ne),R.schema=ne,(he=N(Ee))&&qt(),pe=Ce.follow(function(){var ye;(Se=Ee(R))&&he&&(ye=yn.bind(null,null),Se.then(ye,ye))}),Se&&typeof Se.then=="function"?Ce.resolve(Se):pe.then(function(){return Se})}),k.push(function(ne){var he,Se,Te=Q._cfg.dbschema;he=Te,Se=ne,[].slice.call(Se.db.objectStoreNames).forEach(function(pe){return he[pe]==null&&Se.db.deleteObjectStore(pe)}),fs(E,[E.Transaction.prototype]),Ys(E,[E.Transaction.prototype],E._storeNames,E._dbSchema),R.schema=E._dbSchema}),k.push(function(ne){E.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(E.idbdb.version/10)===Q._cfg.version?(E.idbdb.deleteObjectStore("$meta"),delete E._dbSchema.$meta,E._storeNames=E._storeNames.filter(function(he){return he!=="$meta"})):ne.objectStore("$meta").put(Q._cfg.version,"version"))})}),(function Q(){return k.length?Ce.resolve(k.shift()(R.idbtrans)).then(Q):Ce.resolve()})().then(function(){Jr(I,M)}))}).catch(x);var A,G;Y(y).forEach(function(O){Vi(f,O,y[O].primKey,y[O].indexes)}),ya(s,f),Ce.follow(function(){return s.on.populate.fire(v)}).catch(x)})}function Ls(s,u){Jr(s._dbSchema,u),u.db.version%10!=0||u.objectStoreNames.contains("$meta")||u.db.createObjectStore("$meta").add(Math.ceil(u.db.version/10-1),"version");var f=gl(0,s.idbdb,u);Gs(s,s._dbSchema,u);for(var h=0,y=Ks(f,s._dbSchema).change;h<y.length;h++){var v=(x=>{if(x.change.length||x.recreate)return console.warn("Unable to patch indexes of table ".concat(x.name," because it has changes on the type of index or primary key.")),{value:void 0};var j=u.objectStore(x.name);x.add.forEach(function(A){bn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(x.name,".").concat(A.src)),Xs(j,A)})})(y[h]);if(typeof v=="object")return v.value}}function Ks(s,u){var f,h={del:[],add:[],change:[]};for(f in s)u[f]||h.del.push(f);for(f in u){var y=s[f],v=u[f];if(y){var x={name:f,def:v,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(v.primKey.keyPath||"")||y.primKey.auto!==v.primKey.auto)x.recreate=!0,h.change.push(x);else{var j=y.idxByName,A=v.idxByName,G=void 0;for(G in j)A[G]||x.del.push(G);for(G in A){var O=j[G],E=A[G];O?O.src!==E.src&&x.change.push(E):x.add.push(E)}(0<x.del.length||0<x.add.length||0<x.change.length)&&h.change.push(x)}}else h.add.push([f,v])}return h}function Vi(s,u,f,h){var y=s.db.createObjectStore(u,f.keyPath?{keyPath:f.keyPath,autoIncrement:f.auto}:{autoIncrement:f.auto});h.forEach(function(v){return Xs(y,v)})}function Jr(s,u){Y(s).forEach(function(f){u.db.objectStoreNames.contains(f)||(bn&&console.debug("Dexie: Creating missing table",f),Vi(u,f,s[f].primKey,s[f].indexes))})}function Xs(s,u){s.createIndex(u.name,u.keyPath,{unique:u.unique,multiEntry:u.multi})}function gl(s,u,f){var h={};return Ae(u.objectStoreNames,0).forEach(function(y){for(var v=f.objectStore(y),x=Kn(qs(G=v.keyPath),G||"",!0,!1,!!v.autoIncrement,G&&typeof G!="string",!0),j=[],A=0;A<v.indexNames.length;++A){var O=v.index(v.indexNames[A]),G=O.keyPath,O=Kn(O.name,G,!!O.unique,!!O.multiEntry,!1,G&&typeof G!="string",!1);j.push(O)}h[y]=pl(y,x,j)}),h}function Gs(s,u,f){for(var h=f.db.objectStoreNames,y=0;y<h.length;++y){var v=h[y],x=f.objectStore(v);s._hasGetAll="getAll"in x;for(var j=0;j<x.indexNames.length;++j){var A,G=x.indexNames[j],O=x.index(G).keyPath,O=typeof O=="string"?O:"["+Ae(O).join("+")+"]";u[v]&&(A=u[v].idxByName[O])&&(A.name=G,delete u[v].idxByName[O],u[v].idxByName[G]=A)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&T.WorkerGlobalScope&&T instanceof T.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function Ir(s){return s.split(",").map(function(u,f){var y=u.split(":"),h=(h=y[1])==null?void 0:h.trim(),y=(u=y[0].trim()).replace(/([&*]|\+\+)/g,""),v=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return Kn(y,v||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),L(v),f===0,h)})}xl.prototype._createTableSchema=pl,xl.prototype._parseIndexSyntax=Ir,xl.prototype._parseStoresSpec=function(s,u){var f=this;Y(s).forEach(function(h){if(s[h]!==null){var y=f._parseIndexSyntax(s[h]),v=y.shift();if(!v)throw new Ue.Schema("Invalid schema for table "+h+": "+s[h]);if(v.unique=!0,v.multi)throw new Ue.Schema("Primary key cannot be multiEntry*");y.forEach(function(x){if(x.auto)throw new Ue.Schema("Only primary key can be marked as autoIncrement (++)");if(!x.keyPath)throw new Ue.Schema("Index must have a name and cannot be an empty string")}),v=f._createTableSchema(h,v,y),u[h]=v}})},xl.prototype.stores=function(f){var u=this.db,f=(this._cfg.storesSource=this._cfg.storesSource?C(this._cfg.storesSource,f):f,u._versions),h={},y={};return f.forEach(function(v){C(h,v._cfg.storesSource),y=v._cfg.dbschema={},v._parseStoresSpec(h,y)}),u._dbSchema=y,fs(u,[u._allTables,u,u.Transaction.prototype]),Ys(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],Y(y),y),u._storeNames=Y(y),this},xl.prototype.upgrade=function(s){return this._cfg.contentUpgrade=Ea(this._cfg.contentUpgrade||Ye,s),this};var Du=xl;function xl(){}function Zi(s,u){var f=s._dbNamesDB;return f||(f=s._dbNamesDB=new Xn(ls,{addons:[],indexedDB:s,IDBKeyRange:u})).version(1).stores({dbnames:"name"}),f.table("dbnames")}function Qs(s){return s&&typeof s.databases=="function"}function Ji(s){return Dt(function(){return Oe.letThrough=!0,s()})}function Ii(s){return!("from"in s)}var Ft=function(s,u){var f;if(!this)return f=new Ft,s&&"d"in s&&C(f,s),f;C(this,arguments.length?{d:1,from:s,to:1<arguments.length?u:s}:{d:0})};function ms(s,u,f){var h=et(u,f);if(!isNaN(h)){if(0<h)throw RangeError();if(Ii(s))return C(s,{from:u,to:f,d:1});var h=s.l,y=s.r;if(et(f,s.from)<0)return h?ms(h,u,f):s.l={from:u,to:f,d:1,l:null,r:null},Fr(s);if(0<et(u,s.to))return y?ms(y,u,f):s.r={from:u,to:f,d:1,l:null,r:null},Fr(s);et(u,s.from)<0&&(s.from=u,s.l=null,s.d=y?y.d+1:1),0<et(f,s.to)&&(s.to=f,s.r=null,s.d=s.l?s.l.d+1:1),u=!s.r,h&&!s.l&&Ya(s,h),y&&u&&Ya(s,y)}}function Ya(s,u){Ii(u)||(function f(h,y){var v=y.from,x=y.l,j=y.r;ms(h,v,y.to),x&&f(h,x),j&&f(h,j)})(s,u)}function $r(s,u){var f=Vs(u),h=f.next();if(!h.done)for(var y=h.value,v=Vs(s),x=v.next(y.from),j=x.value;!h.done&&!x.done;){if(et(j.from,y.to)<=0&&0<=et(j.to,y.from))return!0;et(y.from,j.from)<0?y=(h=f.next(j.from)).value:j=(x=v.next(y.from)).value}return!1}function Vs(s){var u=Ii(s)?null:{s:0,n:s};return{next:function(f){for(var h=0<arguments.length;u;)switch(u.s){case 0:if(u.s=1,h)for(;u.n.l&&et(f,u.n.from)<0;)u={up:u,n:u.n.l,s:1};else for(;u.n.l;)u={up:u,n:u.n.l,s:1};case 1:if(u.s=2,!h||et(f,u.n.to)<=0)return{value:u.n,done:!1};case 2:if(u.n.r){u.s=3,u={up:u,n:u.n.r,s:0};continue}case 3:u=u.up}return{done:!0}}}}function Fr(s){var u,f,h,y=(((y=s.r)==null?void 0:y.d)||0)-(((y=s.l)==null?void 0:y.d)||0),y=1<y?"r":y<-1?"l":"";y&&(u=y=="r"?"l":"r",f=m({},s),h=s[y],s.from=h.from,s.to=h.to,s[y]=h[y],f[y]=h[u],(s[u]=f).d=$i(f)),s.d=$i(s)}function $i(f){var u=f.r,f=f.l;return(u?f?Math.max(u.d,f.d):u.d:f?f.d:0)+1}function Zs(s,u){return Y(u).forEach(function(f){s[f]?Ya(s[f],u[f]):s[f]=(function h(y){var v,x,j={};for(v in y)q(y,v)&&(x=y[v],j[v]=!x||typeof x!="object"||st.has(x.constructor)?x:h(x));return j})(u[f])}),s}function Fi(s,u){return s.all||u.all||Object.keys(s).some(function(f){return u[f]&&$r(u[f],s[f])})}ee(Ft.prototype,((on={add:function(s){return Ya(this,s),this},addKey:function(s){return ms(this,s,s),this},addKeys:function(s){var u=this;return s.forEach(function(f){return ms(u,f,f)}),this},hasKey:function(s){var u=Vs(this).next(s).value;return u&&et(u.from,s)<=0&&0<=et(u.to,s)}})[_]=function(){return Vs(this)},on));var La={},Wi={},Pi=!1;function Js(s){Zs(Wi,s),Pi||(Pi=!0,setTimeout(function(){Pi=!1,er(Wi,!(Wi={}))},0))}function er(s,u){u===void 0&&(u=!1);var f=new Set;if(s.all)for(var h=0,y=Object.values(La);h<y.length;h++)Wr(j=y[h],s,f,u);else for(var v in s){var x,j,v=/^idb\:\/\/(.*)\/(.*)\//.exec(v);v&&(x=v[1],v=v[2],j=La["idb://".concat(x,"/").concat(v)])&&Wr(j,s,f,u)}f.forEach(function(A){return A()})}function Wr(s,u,f,h){for(var y=[],v=0,x=Object.entries(s.queries.query);v<x.length;v++){for(var j=x[v],A=j[0],G=[],O=0,E=j[1];O<E.length;O++){var z=E[O];Fi(u,z.obsSet)?z.subscribers.forEach(function(V){return f.add(V)}):h&&G.push(z)}h&&y.push([A,G])}if(h)for(var R=0,M=y;R<M.length;R++){var k=M[R],A=k[0],G=k[1];s.queries.query[A]=G}}function Cu(s){var u=s._state,f=s._deps.indexedDB;if(u.isBeingOpened||s.idbdb)return u.dbReadyPromise.then(function(){return u.dbOpenError?xt(u.dbOpenError):s});u.isBeingOpened=!0,u.dbOpenError=null,u.openComplete=!1;var h=u.openCanceller,y=Math.round(10*s.verno),v=!1;function x(){if(u.openCanceller!==h)throw new Ue.DatabaseClosed("db.open() was cancelled")}function j(){return new Ce(function(z,R){if(x(),!f)throw new Ue.MissingAPI;var M=s.name,k=u.autoSchema||!y?f.open(M):f.open(M,y);if(!k)throw new Ue.MissingAPI;k.onerror=On(R),k.onblocked=St(s._fireOnBlocked),k.onupgradeneeded=St(function(V){var I;O=k.transaction,u.autoSchema&&!s._options.allowEmptyDB?(k.onerror=Ua,O.abort(),k.result.close(),(I=f.deleteDatabase(M)).onsuccess=I.onerror=St(function(){R(new Ue.NoSuchDatabase("Database ".concat(M," doesnt exist")))})):(O.onerror=On(R),I=V.oldVersion>Math.pow(2,62)?0:V.oldVersion,E=I<1,s.idbdb=k.result,v&&Ls(s,O),ds(s,I/10,O,R))},R),k.onsuccess=St(function(){O=null;var V,I,Q,ne,he,Se,Te=s.idbdb=k.result,pe=Ae(Te.objectStoreNames);if(0<pe.length)try{var Me=Te.transaction((he=pe).length===1?he[0]:he,"readonly");if(u.autoSchema)Se=Te,ne=Me,(Q=s).verno=Se.version/10,ne=Q._dbSchema=gl(0,Se,ne),Q._storeNames=Ae(Se.objectStoreNames,0),Ys(Q,[Q._allTables],Y(ne),ne);else if(Gs(s,s._dbSchema,Me),I=Me,((I=Ks(gl(0,(V=s).idbdb,I),V._dbSchema)).add.length||I.change.some(function(Ee){return Ee.add.length||Ee.change.length}))&&!v)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Te.close(),y=Te.version+1,v=!0,z(j());ya(s,Me)}catch{}ka.push(s),Te.onversionchange=St(function(Ee){u.vcFired=!0,s.on("versionchange").fire(Ee)}),Te.onclose=St(function(){s.close({disableAutoOpen:!1})}),E&&(pe=s._deps,he=M,Qs(Se=pe.indexedDB)||he===ls||Zi(Se,pe.IDBKeyRange).put({name:he}).catch(Ye)),z()},R)}).catch(function(z){switch(z?.name){case"UnknownError":if(0<u.PR1398_maxLoop)return u.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),j();break;case"VersionError":if(0<y)return y=0,j()}return Ce.reject(z)})}var A,G=u.dbReadyResolve,O=null,E=!1;return Ce.race([h,(typeof navigator>"u"?Ce.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(z){function R(){return indexedDB.databases().finally(z)}A=setInterval(R,100),R()}).finally(function(){return clearInterval(A)}):Promise.resolve()).then(j)]).then(function(){return x(),u.onReadyBeingFired=[],Ce.resolve(Ji(function(){return s.on.ready.fire(s.vip)})).then(function z(){var R;if(0<u.onReadyBeingFired.length)return R=u.onReadyBeingFired.reduce(Ea,Ye),u.onReadyBeingFired=[],Ce.resolve(Ji(function(){return R(s.vip)})).then(z)})}).finally(function(){u.openCanceller===h&&(u.onReadyBeingFired=null,u.isBeingOpened=!1)}).catch(function(z){u.dbOpenError=z;try{O&&O.abort()}catch{}return h===u.openCanceller&&s._close(),xt(z)}).finally(function(){u.openComplete=!0,G()}).then(function(){var z;return E&&(z={},s.tables.forEach(function(R){R.schema.indexes.forEach(function(M){M.name&&(z["idb://".concat(s.name,"/").concat(R.name,"/").concat(M.name)]=new Ft(-1/0,[[[]]]))}),z["idb://".concat(s.name,"/").concat(R.name,"/")]=z["idb://".concat(s.name,"/").concat(R.name,"/:dels")]=new Ft(-1/0,[[[]]])}),$t(hl).fire(z),er(z,!0)),s})}function hs(s){function u(v){return s.next(v)}var f=y(u),h=y(function(v){return s.throw(v)});function y(v){return function(j){var j=v(j),A=j.value;return j.done?A:A&&typeof A.then=="function"?A.then(f,h):L(A)?Promise.all(A).then(f,h):f(A)}}return y(u)()}function va(s,u,f){for(var h=L(s)?s.slice():[s],y=0;y<f;++y)h.push(u);return h}var Eu={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return m(m({},s),{table:function(h){var f=s.table(h),h=f.schema,y={},v=[];function x(z,R,M){var Q=Kt(z),k=y[Q]=y[Q]||[],V=z==null?0:typeof z=="string"?1:z.length,I=0<R,Q=m(m({},M),{name:I?"".concat(Q,"(virtual-from:").concat(M.name,")"):M.name,lowLevelIndex:M,isVirtual:I,keyTail:R,keyLength:V,extractKey:vl(z),unique:!I&&M.unique});return k.push(Q),Q.isPrimaryKey||v.push(Q),1<V&&x(V===2?z[0]:z.slice(0,V-1),R+1,M),k.sort(function(ne,he){return ne.keyTail-he.keyTail}),Q}var j=x(h.primaryKey.keyPath,0,h.primaryKey);y[":id"]=[j];for(var A=0,G=h.indexes;A<G.length;A++){var O=G[A];x(O.keyPath,0,O)}function E(z){var R,M=z.query.index;return M.isVirtual?m(m({},z),{query:{index:M.lowLevelIndex,range:(R=z.query.range,M=M.keyTail,{type:R.type===1?2:R.type,lower:va(R.lower,R.lowerOpen?s.MAX_KEY:s.MIN_KEY,M),lowerOpen:!0,upper:va(R.upper,R.upperOpen?s.MIN_KEY:s.MAX_KEY,M),upperOpen:!0})}}):z}return m(m({},f),{schema:m(m({},h),{primaryKey:j,indexes:v,getIndexByKeyPath:function(z){return(z=y[Kt(z)])&&z[0]}}),count:function(z){return f.count(E(z))},query:function(z){return f.query(E(z))},openCursor:function(z){var R=z.query.index,M=R.keyTail,k=R.keyLength;return R.isVirtual?f.openCursor(E(z)).then(function(I){return I&&V(I)}):f.openCursor(z);function V(I){return Object.create(I,{continue:{value:function(Q){Q!=null?I.continue(va(Q,z.reverse?s.MAX_KEY:s.MIN_KEY,M)):z.unique?I.continue(I.key.slice(0,k).concat(z.reverse?s.MIN_KEY:s.MAX_KEY,M)):I.continue()}},continuePrimaryKey:{value:function(Q,ne){I.continuePrimaryKey(va(Q,s.MAX_KEY,M),ne)}},primaryKey:{get:function(){return I.primaryKey}},key:{get:function(){var Q=I.key;return k===1?Q[0]:Q.slice(0,k)}},value:{get:function(){return I.value}}})}}})}})}};function Is(s,u,f,h){return f=f||{},h=h||"",Y(s).forEach(function(y){var v,x,j;q(u,y)?(v=s[y],x=u[y],typeof v=="object"&&typeof x=="object"&&v&&x?(j=De(v))!==De(x)?f[h+y]=u[y]:j==="Object"?Is(v,x,f,h+y+"."):v!==x&&(f[h+y]=u[y]):v!==x&&(f[h+y]=u[y])):f[h+y]=void 0}),Y(u).forEach(function(y){q(s,y)||(f[h+y]=u[y])}),f}function $s(s,u){return u.type==="delete"?u.keys:u.keys||u.values.map(s.extractKey)}var Pr={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return m(m({},s),{table:function(u){var f=s.table(u),h=f.schema.primaryKey;return m(m({},f),{mutate:function(y){var v=Oe.trans,x=v.table(u).hook,j=x.deleting,A=x.creating,G=x.updating;switch(y.type){case"add":if(A.fire===Ye)break;return v._promise("readwrite",function(){return O(y)},!0);case"put":if(A.fire===Ye&&G.fire===Ye)break;return v._promise("readwrite",function(){return O(y)},!0);case"delete":if(j.fire===Ye)break;return v._promise("readwrite",function(){return O(y)},!0);case"deleteRange":if(j.fire===Ye)break;return v._promise("readwrite",function(){return(function E(z,R,M){return f.query({trans:z,values:!1,query:{index:h,range:R},limit:M}).then(function(k){var V=k.result;return O({type:"delete",keys:V,trans:z}).then(function(I){return 0<I.numFailures?Promise.reject(I.failures[0]):V.length<M?{failures:[],numFailures:0,lastResult:void 0}:E(z,m(m({},R),{lower:V[V.length-1],lowerOpen:!0}),M)})})})(y.trans,y.range,1e4)},!0)}return f.mutate(y);function O(E){var z,R,M,k=Oe.trans,V=E.keys||$s(h,E);if(V)return(E=E.type==="add"||E.type==="put"?m(m({},E),{keys:V}):m({},E)).type!=="delete"&&(E.values=b([],E.values)),E.keys&&(E.keys=b([],E.keys)),z=f,M=V,((R=E).type==="add"?Promise.resolve([]):z.getMany({trans:R.trans,keys:M,cache:"immutable"})).then(function(I){var Q=V.map(function(ne,he){var Se,Te,pe,Me=I[he],Ee={onerror:null,onsuccess:null};return E.type==="delete"?j.fire.call(Ee,ne,Me,k):E.type==="add"||Me===void 0?(Se=A.fire.call(Ee,ne,E.values[he],k),ne==null&&Se!=null&&(E.keys[he]=ne=Se,h.outbound||ce(E.values[he],h.keyPath,ne))):(Se=Is(Me,E.values[he]),(Te=G.fire.call(Ee,Se,ne,Me,k))&&(pe=E.values[he],Object.keys(Te).forEach(function(ye){q(pe,ye)?pe[ye]=Te[ye]:ce(pe,ye,Te[ye])}))),Ee});return f.mutate(E).then(function(ne){for(var he=ne.failures,Se=ne.results,Te=ne.numFailures,ne=ne.lastResult,pe=0;pe<V.length;++pe){var Me=(Se||V)[pe],Ee=Q[pe];Me==null?Ee.onerror&&Ee.onerror(he[pe]):Ee.onsuccess&&Ee.onsuccess(E.type==="put"&&I[pe]?E.values[pe]:Me)}return{failures:he,results:Se,numFailures:Te,lastResult:ne}}).catch(function(ne){return Q.forEach(function(he){return he.onerror&&he.onerror(ne)}),Promise.reject(ne)})});throw new Error("Keys missing")}}})}})}};function tr(s,u,f){try{if(!u||u.keys.length<s.length)return null;for(var h=[],y=0,v=0;y<u.keys.length&&v<s.length;++y)et(u.keys[y],s[v])===0&&(h.push(f?xe(u.values[y]):u.values[y]),++v);return h.length===s.length?h:null}catch{return null}}var ec={stack:"dbcore",level:-1,create:function(s){return{table:function(u){var f=s.table(u);return m(m({},f),{getMany:function(h){var y;return h.cache?(y=tr(h.keys,h.trans._cache,h.cache==="clone"))?Ce.resolve(y):f.getMany(h).then(function(v){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?xe(v):v},v}):f.getMany(h)},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),f.mutate(h)}})}}}};function Ka(s,u){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!u.schema.primaryKey.outbound}function tc(s,u){switch(s){case"query":return u.values&&!u.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Au={stack:"dbcore",level:0,name:"Observability",create:function(s){var u=s.schema.name,f=new Ft(s.MIN_KEY,s.MAX_KEY);return m(m({},s),{transaction:function(h,y,v){if(Oe.subscr&&y!=="readonly")throw new Ue.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Oe.querier));return s.transaction(h,y,v)},table:function(h){function y(V){var k,V=V.query;return[k=V.index,new Ft((k=(V=V.range).lower)!=null?k:s.MIN_KEY,(k=V.upper)!=null?k:s.MAX_KEY)]}var v=s.table(h),x=v.schema,j=x.primaryKey,A=x.indexes,G=j.extractKey,O=j.outbound,E=j.autoIncrement&&A.filter(function(M){return M.compound&&M.keyPath.includes(j.keyPath)}),z=m(m({},v),{mutate:function(M){function k(ke){return ke="idb://".concat(u,"/").concat(h,"/").concat(ke),he[ke]||(he[ke]=new Ft)}var V,I,Q,ne=M.trans,he=M.mutatedParts||(M.mutatedParts={}),Se=k(""),Te=k(":dels"),pe=M.type,Ee=M.type==="deleteRange"?[M.range]:M.type==="delete"?[M.keys]:M.values.length<50?[$s(j,M).filter(function(ke){return ke}),M.values]:[],Me=Ee[0],Ee=Ee[1],ye=M.trans._cache;return L(Me)?(Se.addKeys(Me),(pe=pe==="delete"||Me.length===Ee.length?tr(Me,ye):null)||Te.addKeys(Me),(pe||Ee)&&(V=k,I=pe,Q=Ee,x.indexes.forEach(function(ke){var Ze=V(ke.name||"");function tt(Je){return Je!=null?ke.extractKey(Je):null}function Le(Je){ke.multiEntry&&L(Je)?Je.forEach(function(bt){return Ze.addKey(bt)}):Ze.addKey(Je)}(I||Q).forEach(function(Je,pt){var hn=I&&tt(I[pt]),pt=Q&&tt(Q[pt]);et(hn,pt)!==0&&(hn!=null&&Le(hn),pt!=null)&&Le(pt)})}))):Me?(Ee={from:(ye=Me.lower)!=null?ye:s.MIN_KEY,to:(pe=Me.upper)!=null?pe:s.MAX_KEY},Te.add(Ee),Se.add(Ee)):(Se.add(f),Te.add(f),x.indexes.forEach(function(ke){return k(ke.name).add(f)})),v.mutate(M).then(function(ke){return!Me||M.type!=="add"&&M.type!=="put"||(Se.addKeys(ke.results),E&&E.forEach(function(Ze){for(var tt=M.values.map(function(hn){return Ze.extractKey(hn)}),Le=Ze.keyPath.findIndex(function(hn){return hn===j.keyPath}),Je=0,bt=ke.results.length;Je<bt;++Je)tt[Je][Le]=ke.results[Je];k(Ze.name).addKeys(tt)})),ne.mutatedParts=Zs(ne.mutatedParts||{},he),ke})}}),R={get:function(M){return[j,new Ft(M.key)]},getMany:function(M){return[j,new Ft().addKeys(M.keys)]},count:y,query:y,openCursor:y};return Y(R).forEach(function(M){z[M]=function(k){var V=Oe.subscr,I=!!V,Q=Ka(Oe,v)&&tc(M,k)?k.obsSet={}:V;if(I){var ne,V=function(Ee){return Ee="idb://".concat(u,"/").concat(h,"/").concat(Ee),Q[Ee]||(Q[Ee]=new Ft)},he=V(""),Se=V(":dels"),I=R[M](k),Te=I[0],I=I[1];if((M==="query"&&Te.isPrimaryKey&&!k.values?Se:V(Te.name||"")).add(I),!Te.isPrimaryKey){if(M!=="count")return ne=M==="query"&&O&&k.values&&v.query(m(m({},k),{values:!1})),v[M].apply(this,arguments).then(function(Ee){if(M==="query"){if(O&&k.values)return ne.then(function(tt){return tt=tt.result,he.addKeys(tt),Ee});var ye=k.values?Ee.result.map(G):Ee.result;(k.values?he:Se).addKeys(ye)}else{var ke,Ze;if(M==="openCursor")return Ze=k.values,(ke=Ee)&&Object.create(ke,{key:{get:function(){return Se.addKey(ke.primaryKey),ke.key}},primaryKey:{get:function(){var tt=ke.primaryKey;return Se.addKey(tt),tt}},value:{get:function(){return Ze&&he.addKey(ke.primaryKey),ke.value}}})}return Ee});Se.add(f)}}return v[M].apply(this,arguments)}}),z}})}};function nc(s,u,f){var h;return f.numFailures===0?u:u.type==="deleteRange"||(h=u.keys?u.keys.length:"values"in u&&u.values?u.values.length:1,f.numFailures===h)?null:(h=m({},u),L(h.keys)&&(h.keys=h.keys.filter(function(y,v){return!(v in f.failures)})),"values"in h&&L(h.values)&&(h.values=h.values.filter(function(y,v){return!(v in f.failures)})),h)}function Fs(s,u){return f=s,((h=u).lower===void 0||(h.lowerOpen?0<et(f,h.lower):0<=et(f,h.lower)))&&(f=s,(h=u).upper===void 0||(h.upperOpen?et(f,h.upper)<0:et(f,h.upper)<=0));var f,h}function nr(s,u,f,h,y,v){var x,j,A,G,O,E;return!f||f.length===0||(x=u.query.index,j=x.multiEntry,A=u.query.range,G=h.schema.primaryKey.extractKey,O=x.extractKey,E=(x.lowLevelIndex||x).extractKey,(h=f.reduce(function(z,R){var M=z,k=[];if(R.type==="add"||R.type==="put")for(var V=new Ft,I=R.values.length-1;0<=I;--I){var Q,ne=R.values[I],he=G(ne);!V.hasKey(he)&&(Q=O(ne),j&&L(Q)?Q.some(function(Ee){return Fs(Ee,A)}):Fs(Q,A))&&(V.addKey(he),k.push(ne))}switch(R.type){case"add":var Se=new Ft().addKeys(u.values?z.map(function(ye){return G(ye)}):z),M=z.concat(u.values?k.filter(function(ye){return ye=G(ye),!Se.hasKey(ye)&&(Se.addKey(ye),!0)}):k.map(function(ye){return G(ye)}).filter(function(ye){return!Se.hasKey(ye)&&(Se.addKey(ye),!0)}));break;case"put":var Te=new Ft().addKeys(R.values.map(function(ye){return G(ye)}));M=z.filter(function(ye){return!Te.hasKey(u.values?G(ye):ye)}).concat(u.values?k:k.map(function(ye){return G(ye)}));break;case"delete":var pe=new Ft().addKeys(R.keys);M=z.filter(function(ye){return!pe.hasKey(u.values?G(ye):ye)});break;case"deleteRange":var Me=R.range;M=z.filter(function(ye){return!Fs(G(ye),Me)})}return M},s))===s)?s:(h.sort(function(z,R){return et(E(z),E(R))||et(G(z),G(R))}),u.limit&&u.limit<1/0&&(h.length>u.limit?h.length=u.limit:s.length===u.limit&&h.length<u.limit&&(y.dirty=!0)),v?Object.freeze(h):h)}function bl(s,u){return et(s.lower,u.lower)===0&&et(s.upper,u.upper)===0&&!!s.lowerOpen==!!u.lowerOpen&&!!s.upperOpen==!!u.upperOpen}function ps(s,u){return((f,h,y,v)=>{if(f===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((f=et(f,h))===0){if(y&&v)return 0;if(y)return 1;if(v)return-1}return f})(s.lower,u.lower,s.lowerOpen,u.lowerOpen)<=0&&0<=((f,h,y,v)=>{if(f===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((f=et(f,h))===0){if(y&&v)return 0;if(y)return-1;if(v)return 1}return f})(s.upper,u.upper,s.upperOpen,u.upperOpen)}function Ou(s,u,f,h){s.subscribers.add(f),h.addEventListener("abort",function(){var y,v;s.subscribers.delete(f),s.subscribers.size===0&&(y=s,v=u,setTimeout(function(){y.subscribers.size===0&&F(v,y)},3e3))})}var Ws={stack:"dbcore",level:0,name:"Cache",create:function(s){var u=s.schema.name;return m(m({},s),{transaction:function(f,h,y){var v,x,j=s.transaction(f,h,y);return h==="readwrite"&&(y=(v=new AbortController).signal,j.addEventListener("abort",(x=function(A){return function(){if(v.abort(),h==="readwrite"){for(var G=new Set,O=0,E=f;O<E.length;O++){var z=E[O],R=La["idb://".concat(u,"/").concat(z)];if(R){var M=s.table(z),k=R.optimisticOps.filter(function(ke){return ke.trans===j});if(j._explicit&&A&&j.mutatedParts)for(var V=0,I=Object.values(R.queries.query);V<I.length;V++)for(var Q=0,ne=(Te=I[V]).slice();Q<ne.length;Q++)Fi((pe=ne[Q]).obsSet,j.mutatedParts)&&(F(Te,pe),pe.subscribers.forEach(function(ke){return G.add(ke)}));else if(0<k.length){R.optimisticOps=R.optimisticOps.filter(function(ke){return ke.trans!==j});for(var he=0,Se=Object.values(R.queries.query);he<Se.length;he++)for(var Te,pe,Me,Ee=0,ye=(Te=Se[he]).slice();Ee<ye.length;Ee++)(pe=ye[Ee]).res!=null&&j.mutatedParts&&(A&&!pe.dirty?(Me=Object.isFrozen(pe.res),Me=nr(pe.res,pe.req,k,M,pe,Me),pe.dirty?(F(Te,pe),pe.subscribers.forEach(function(ke){return G.add(ke)})):Me!==pe.res&&(pe.res=Me,pe.promise=Ce.resolve({result:Me}))):(pe.dirty&&F(Te,pe),pe.subscribers.forEach(function(ke){return G.add(ke)})))}}}G.forEach(function(ke){return ke()})}}})(!1),{signal:y}),j.addEventListener("error",x(!1),{signal:y}),j.addEventListener("complete",x(!0),{signal:y})),j},table:function(f){var h=s.table(f),y=h.schema.primaryKey;return m(m({},h),{mutate:function(v){var x,j=Oe.trans;return!y.outbound&&j.db._options.cache!=="disabled"&&!j.explicit&&j.idbtrans.mode==="readwrite"&&(x=La["idb://".concat(u,"/").concat(f)])?(j=h.mutate(v),v.type!=="add"&&v.type!=="put"||!(50<=v.values.length||$s(y,v).some(function(A){return A==null}))?(x.optimisticOps.push(v),v.mutatedParts&&Js(v.mutatedParts),j.then(function(A){0<A.numFailures&&(F(x.optimisticOps,v),(A=nc(0,v,A))&&x.optimisticOps.push(A),v.mutatedParts)&&Js(v.mutatedParts)}),j.catch(function(){F(x.optimisticOps,v),v.mutatedParts&&Js(v.mutatedParts)})):j.then(function(A){var G=nc(0,m(m({},v),{values:v.values.map(function(O,E){var z;return A.failures[E]?O:(ce(z=(z=y.keyPath)!=null&&z.includes(".")?xe(O):m({},O),y.keyPath,A.results[E]),z)})}),A);x.optimisticOps.push(G),queueMicrotask(function(){return v.mutatedParts&&Js(v.mutatedParts)})}),j):h.mutate(v)},query:function(v){var x,j,A,G,O,E,z;return Ka(Oe,h)&&tc("query",v)?(x=((A=Oe.trans)==null?void 0:A.db._options.cache)==="immutable",j=(A=Oe).requery,A=A.signal,E=((R,M,k,V)=>{var I=La["idb://".concat(R,"/").concat(M)];if(!I)return[];if(!(R=I.queries[k]))return[null,!1,I,null];var Q=R[(V.query?V.query.index.name:null)||""];if(!Q)return[null,!1,I,null];switch(k){case"query":var ne=Q.find(function(he){return he.req.limit===V.limit&&he.req.values===V.values&&bl(he.req.query.range,V.query.range)});return ne?[ne,!0,I,Q]:[Q.find(function(he){return("limit"in he.req?he.req.limit:1/0)>=V.limit&&(!V.values||he.req.values)&&ps(he.req.query.range,V.query.range)}),!1,I,Q];case"count":return ne=Q.find(function(he){return bl(he.req.query.range,V.query.range)}),[ne,!!ne,I,Q]}})(u,f,"query",v),z=E[0],G=E[2],O=E[3],z&&E[1]?z.obsSet=v.obsSet:(E=h.query(v).then(function(R){var M=R.result;if(z&&(z.res=M),x){for(var k=0,V=M.length;k<V;++k)Object.freeze(M[k]);Object.freeze(M)}else R.result=xe(M);return R}).catch(function(R){return O&&z&&F(O,z),Promise.reject(R)}),z={obsSet:v.obsSet,promise:E,subscribers:new Set,type:"query",req:v,dirty:!1},O?O.push(z):(O=[z],(G=G||(La["idb://".concat(u,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[v.query.index.name||""]=O)),Ou(z,O,j,A),z.promise.then(function(R){return{result:nr(R.result,v,G?.optimisticOps,h,z,x)}})):h.query(v)}})}})}};function ys(s,u){return new Proxy(s,{get:function(f,h,y){return h==="db"?u:Reflect.get(f,h,y)}})}Et.prototype.version=function(s){if(isNaN(s)||s<.1)throw new Ue.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new Ue.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var u=this._versions,f=u.filter(function(h){return h._cfg.version===s})[0];return f||(f=new this.Version(s),u.push(f),u.sort(Qi),f.stores({}),this._state.autoSchema=!1),f},Et.prototype._whenReady=function(s){var u=this;return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?s():new Ce(function(f,h){if(u._state.openComplete)return h(new Ue.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen)return void h(new Ue.DatabaseClosed);u.open().catch(Ye)}u._state.dbReadyPromise.then(f,h)}).then(s)},Et.prototype.use=function(y){var u=y.stack,f=y.create,h=y.level,y=y.name,v=(y&&this.unuse({stack:u,name:y}),this._middlewares[u]||(this._middlewares[u]=[]));return v.push({stack:u,create:f,level:h??10,name:y}),v.sort(function(x,j){return x.level-j.level}),this},Et.prototype.unuse=function(s){var u=s.stack,f=s.name,h=s.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(y){return h?y.create!==h:!!f&&y.name!==f})),this},Et.prototype.open=function(){var s=this;return En(en,function(){return Cu(s)})},Et.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,u=ka.indexOf(this);if(0<=u&&ka.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new Ce(function(f){s.dbReadyResolve=f}),s.openCanceller=new Ce(function(f,h){s.cancelOpen=h}))},Et.prototype.close=function(u){var u=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,f=this._state;u?(f.isBeingOpened&&f.cancelOpen(new Ue.DatabaseClosed),this._close(),f.autoOpen=!1,f.dbOpenError=new Ue.DatabaseClosed):(this._close(),f.autoOpen=this._options.autoOpen||f.isBeingOpened,f.openComplete=!1,f.dbOpenError=null)},Et.prototype.delete=function(s){var u=this,f=(s===void 0&&(s={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),h=this._state;return new Ce(function(y,v){function x(){u.close(s);var j=u._deps.indexedDB.deleteDatabase(u.name);j.onsuccess=St(function(){var A,G,O;A=u._deps,G=u.name,Qs(O=A.indexedDB)||G===ls||Zi(O,A.IDBKeyRange).delete(G).catch(Ye),y()}),j.onerror=On(v),j.onblocked=u._fireOnBlocked}if(f)throw new Ue.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(x):x()})},Et.prototype.backendDB=function(){return this.idbdb},Et.prototype.isOpen=function(){return this.idbdb!==null},Et.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},Et.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Et.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Et.prototype,"tables",{get:function(){var s=this;return Y(this._allTables).map(function(u){return s._allTables[u]})},enumerable:!1,configurable:!0}),Et.prototype.transaction=function(){var s=(function(u,f,h){var y=arguments.length;if(y<2)throw new Ue.InvalidArgument("Too few arguments");for(var v=new Array(y-1);--y;)v[y-1]=arguments[y];return h=v.pop(),[u,nt(v),h]}).apply(this,arguments);return this._transaction.apply(this,s)},Et.prototype._transaction=function(s,u,f){var h,y,v=this,x=Oe.trans,j=(x&&x.db===this&&s.indexOf("!")===-1||(x=null),s.indexOf("?")!==-1);s=s.replace("!","").replace("?","");try{if(y=u.map(function(G){if(G=G instanceof v.Table?G.name:G,typeof G!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return G}),s=="r"||s===Pn)h=Pn;else{if(s!="rw"&&s!=ha)throw new Ue.InvalidArgument("Invalid transaction mode: "+s);h=ha}if(x){if(x.mode===Pn&&h===ha){if(!j)throw new Ue.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");x=null}x&&y.forEach(function(G){if(x&&x.storeNames.indexOf(G)===-1){if(!j)throw new Ue.SubTransaction("Table "+G+" not included in parent transaction.");x=null}}),j&&x&&!x.active&&(x=null)}}catch(G){return x?x._promise(null,function(O,E){E(G)}):xt(G)}var A=(function G(O,E,z,R,M){return Ce.resolve().then(function(){var Q=Oe.transless||Oe,k=O._createTransaction(E,z,O._dbSchema,R),Q=(k.explicit=!0,{trans:k,transless:Q});if(R)k.idbtrans=R.idbtrans;else try{k.create(),k.idbtrans._explicit=!0,O._state.PR1398_maxLoop=3}catch(ne){return ne.name===kt.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return G(O,E,z,null,M)})):xt(ne)}var V,I=N(M),Q=(I&&qt(),Ce.follow(function(){var ne;(V=M.call(k,k))&&(I?(ne=yn.bind(null,null),V.then(ne,ne)):typeof V.next=="function"&&typeof V.throw=="function"&&(V=hs(V)))},Q));return(V&&typeof V.then=="function"?Ce.resolve(V).then(function(ne){return k.active?ne:xt(new Ue.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Q.then(function(){return V})).then(function(ne){return R&&k._resolve(),k._completion.then(function(){return ne})}).catch(function(ne){return k._reject(ne),xt(ne)})})}).bind(null,this,h,y,x,f);return x?x._promise(h,A,"lock"):Oe.trans?En(Oe.transless,function(){return v._whenReady(A)}):this._whenReady(A)},Et.prototype.table=function(s){if(q(this._allTables,s))return this._allTables[s];throw new Ue.InvalidTable("Table ".concat(s," does not exist"))};var Xn=Et;function Et(s,u){var f,h,y,v,x,j=this,A=(this._middlewares={},this.verno=0,Et.dependencies),A=(this._options=u=m({addons:Et.addons,autoOpen:!0,indexedDB:A.indexedDB,IDBKeyRange:A.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange},u.addons),G=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ye,dbReadyPromise:null,cancelOpen:Ye,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:u.autoOpen}),O=(G.dbReadyPromise=new Ce(function(E){G.dbReadyResolve=E}),G.openCanceller=new Ce(function(E,z){G.cancelOpen=z}),this._state=G,this.name=s,this.on=rs(this,"populate","blocked","versionchange","close",{ready:[Ea,Ye]}),this.once=function(E,z){var R=function(){for(var M=[],k=0;k<arguments.length;k++)M[k]=arguments[k];j.on(E).unsubscribe(R),z.apply(j,M)};return j.on(E,R)},this.on.ready.subscribe=w(this.on.ready.subscribe,function(E){return function(z,R){Et.vip(function(){var M,k=j._state;k.openComplete?(k.dbOpenError||Ce.resolve().then(z),R&&E(z)):k.onReadyBeingFired?(k.onReadyBeingFired.push(z),R&&E(z)):(E(z),M=j,R||E(function V(){M.on.ready.unsubscribe(z),M.on.ready.unsubscribe(V)}))})}}),this.Collection=(f=this,It(Tu.prototype,function(V,k){this.db=f;var R=Hi,M=null;if(k)try{R=k()}catch(Q){M=Q}var k=V._ctx,V=k.table,I=V.hook.reading.fire;this._ctx={table:V,index:k.index,isPrimKey:!k.index||V.schema.primKey.keyPath&&k.index===V.schema.primKey.name,range:R,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:M,or:k.or,valueMapper:I!==ht?I:null}})),this.Table=(h=this,It(Yi.prototype,function(E,z,R){this.db=h,this._tx=R,this.name=E,this.schema=z,this.hook=h._allTables[E]?h._allTables[E].hook:rs(null,{creating:[cl,Ye],reading:[Cn,ht],updating:[Jl,Ye],deleting:[Kr,Ye]})})),this.Transaction=(y=this,It(Gi.prototype,function(E,z,R,M,k){var V=this;E!=="readonly"&&z.forEach(function(I){I=(I=R[I])==null?void 0:I.yProps,I&&(z=z.concat(I.map(function(Q){return Q.updatesTable})))}),this.db=y,this.mode=E,this.storeNames=z,this.schema=R,this.chromeTransactionDurability=M,this.idbtrans=null,this.on=rs(this,"complete","error","abort"),this.parent=k||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ce(function(I,Q){V._resolve=I,V._reject=Q}),this._completion.then(function(){V.active=!1,V.on.complete.fire()},function(I){var Q=V.active;return V.active=!1,V.on.error.fire(I),V.parent?V.parent._reject(I):Q&&V.idbtrans&&V.idbtrans.abort(),xt(I)})})),this.Version=(v=this,It(Du.prototype,function(E){this.db=v,this._cfg={version:E,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(x=this,It(Ra.prototype,function(E,z,R){if(this.db=x,this._ctx={table:E,index:z===":id"?null:z,or:R},this._cmp=this._ascending=et,this._descending=function(M,k){return et(k,M)},this._max=function(M,k){return 0<et(M,k)?M:k},this._min=function(M,k){return et(M,k)<0?M:k},this._IDBKeyRange=x._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ue.MissingAPI})),this.on("versionchange",function(E){0<E.newVersion?console.warn("Another connection wants to upgrade database '".concat(j.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(j.name,"'. Closing db now to resume the delete request.")),j.close({disableAutoOpen:!1})}),this.on("blocked",function(E){!E.newVersion||E.newVersion<E.oldVersion?console.warn("Dexie.delete('".concat(j.name,"') was blocked")):console.warn("Upgrade '".concat(j.name,"' blocked by other connection holding version ").concat(E.oldVersion/10))}),this._maxKey=yl(u.IDBKeyRange),this._createTransaction=function(E,z,R,M){return new j.Transaction(E,z,R,j._options.chromeTransactionDurability,M)},this._fireOnBlocked=function(E){j.on("blocked").fire(E),ka.filter(function(z){return z.name===j.name&&z!==j&&!z._state.vcFired}).map(function(z){return z.on("versionchange").fire(E)})},this.use(ec),this.use(Ws),this.use(Au),this.use(Eu),this.use(Pr),new Proxy(this,{get:function(E,z,R){var M;return z==="_vip"||(z==="table"?function(k){return ys(j.table(k),O)}:(M=Reflect.get(E,z,R))instanceof Yi?ys(M,O):z==="tables"?M.map(function(k){return ys(k,O)}):z==="_createTransaction"?function(){return ys(M.apply(this,arguments),O)}:M)}}));this.vip=O,A.forEach(function(E){return E(j)})}var jl,Xa=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ac=(Ps.prototype.subscribe=function(s,u,f){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:u,complete:f})},Ps.prototype[Xa]=function(){return this},Ps);function Ps(s){this._subscribe=s}try{jl={indexedDB:T.indexedDB||T.mozIndexedDB||T.webkitIndexedDB||T.msIndexedDB,IDBKeyRange:T.IDBKeyRange||T.webkitIDBKeyRange}}catch{jl={indexedDB:null,IDBKeyRange:null}}function lc(s){var u,f=!1,h=new ac(function(y){var v=N(s),x,j=!1,A={},G={},O={get closed(){return j},unsubscribe:function(){j||(j=!0,x&&x.abort(),E&&$t.storagemutated.unsubscribe(R))}},E=(y.start&&y.start(O),!1),z=function(){return ma(M)},R=function(k){Zs(A,k),Fi(G,A)&&z()},M=function(){var k,V,I;!j&&jl.indexedDB&&(A={},k={},x&&x.abort(),x=new AbortController,I=(Q=>{var ne=oa();try{v&&qt();var he=Dt(s,Q);return he=v?he.finally(yn):he}finally{ne&&Hn()}})(V={subscr:k,signal:x.signal,requery:z,querier:s,trans:null}),Promise.resolve(I).then(function(Q){f=!0,u=Q,j||V.signal.aborted||(A={},(ne=>{for(var he in ne)if(q(ne,he))return;return 1})(G=k)||E||($t(hl,R),E=!0),ma(function(){return!j&&y.next&&y.next(Q)}))},function(Q){f=!1,["DatabaseClosedError","AbortError"].includes(Q?.name)||j||ma(function(){j||y.error&&y.error(Q)})}))};return setTimeout(z,0),O});return h.hasValue=function(){return f},h.getValue=function(){return u},h}var Ga=Xn;function ar(s){var u=ga;try{ga=!0,$t.storagemutated.fire(s),er(s,!0)}finally{ga=u}}ee(Ga,m(m({},X),{delete:function(s){return new Ga(s,{addons:[]}).delete()},exists:function(s){return new Ga(s,{addons:[]}).open().then(function(u){return u.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return u=Ga.dependencies,f=u.indexedDB,u=u.IDBKeyRange,(Qs(f)?Promise.resolve(f.databases()).then(function(h){return h.map(function(y){return y.name}).filter(function(y){return y!==ls})}):Zi(f,u).toCollection().primaryKeys()).then(s)}catch{return xt(new Ue.MissingAPI)}var u,f},defineClass:function(){return function(s){C(this,s)}},ignoreTransaction:function(s){return Oe.trans?En(Oe.transless,s):s()},vip:Ji,async:function(s){return function(){try{var u=hs(s.apply(this,arguments));return u&&typeof u.then=="function"?u:Ce.resolve(u)}catch(f){return xt(f)}}},spawn:function(s,u,f){try{var h=hs(s.apply(f,u||[]));return h&&typeof h.then=="function"?h:Ce.resolve(h)}catch(y){return xt(y)}},currentTransaction:{get:function(){return Oe.trans||null}},waitFor:function(s,u){return s=Ce.resolve(typeof s=="function"?Ga.ignoreTransaction(s):s).timeout(u||6e4),Oe.trans?Oe.trans.waitFor(s):s},Promise:Ce,debug:{get:function(){return bn},set:function(s){Xr(s)}},derive:de,extend:C,props:ee,override:w,Events:rs,on:$t,liveQuery:lc,extendObservabilitySet:Zs,getByKeyPath:fe,setByKeyPath:ce,delByKeyPath:function(s,u){typeof u=="string"?ce(s,u,void 0):"length"in u&&[].map.call(u,function(f){ce(s,f,void 0)})},shallowClone:He,deepClone:xe,getObjectDiff:Is,cmp:et,asap:ve,minKey:-1/0,addons:[],connections:ka,errnames:kt,dependencies:jl,cache:La,semVer:"4.3.0",version:"4.3.0".split(".").map(function(s){return parseInt(s)}).reduce(function(s,u,f){return s+u/Math.pow(10,2*f)})})),Ga.maxKey=yl(Ga.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&($t(hl,function(s){ga||(s=new CustomEvent(qa,{detail:s}),ga=!0,dispatchEvent(s),ga=!1)}),addEventListener(qa,function(s){s=s.detail,ga||ar(s)}));var wl,ga=!1,mn=function(){};return typeof BroadcastChannel<"u"&&((mn=function(){(wl=new BroadcastChannel(qa)).onmessage=function(s){return s.data&&ar(s.data)}})(),typeof wl.unref=="function"&&wl.unref(),$t(hl,function(s){ga||wl.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!Xn.disableBfCache&&s.persisted){bn&&console.debug("Dexie: handling persisted pagehide"),wl?.close();for(var u=0,f=ka;u<f.length;u++)f[u].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!Xn.disableBfCache&&s.persisted&&(bn&&console.debug("Dexie: handling persisted pageshow"),mn(),ar({all:new Ft(-1/0,[[]])}))})),Ce.rejectionMapper=function(s,u){return!s||s instanceof Ne||s instanceof TypeError||s instanceof SyntaxError||!s.name||!Be[s.name]?s:(u=new Be[s.name](u||s.message,s),"stack"in s&&oe(u,"stack",{get:function(){return this.inner.stack}}),u)},Xr(bn),m(Xn,Object.freeze({__proto__:null,Dexie:Xn,Entity:Qr,PropModification:ml,RangeSet:Ft,add:function(s){return new ml({add:s})},cmp:et,default:Xn,liveQuery:lc,mergeRanges:Ya,rangesOverlap:$r,remove:function(s){return new ml({remove:s})},replacePrefix:function(s,u){return new ml({replacePrefix:[s,u]})}}),{default:Xn}),Xn})})(ru)),ru.exports}var Py=Wy();const Cf=Bp(Py),cp=Symbol.for("Dexie"),uu=globalThis[cp]||(globalThis[cp]=Cf);if(Cf.semVer!==uu.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Cf.semVer} and ${uu.semVer}`);const{liveQuery:L1,mergeRanges:K1,rangesOverlap:X1,RangeSet:G1,cmp:Q1,Entity:V1,PropModification:Z1,replacePrefix:J1,add:I1,remove:$1,DexieYProvider:F1}=uu,ev=[{code:"chemo",name:"",color:"purple",sortOrder:10,isActive:!0},{code:"rt",name:"",color:"blue",sortOrder:20,isActive:!0},{code:"surgery",name:"",color:"red",sortOrder:30,isActive:!0},{code:"mdt",name:"",color:"orange",sortOrder:40,isActive:!0},{code:"fu",name:"/",color:"teal",sortOrder:50,isActive:!0},{code:"tx_plan_confirm",name:"",color:"indigo",sortOrder:60,isActive:!0},{code:"imaging_plan",name:"",color:"cyan",sortOrder:70,isActive:!0},{code:"peer_review",name:"",color:"amber",sortOrder:80,isActive:!0},{code:"hospital",name:"",color:"pink",sortOrder:90,isActive:!0},{code:"new_dx",name:"",color:"emerald",sortOrder:100,isActive:!0},{code:"first_tx",name:"",color:"violet",sortOrder:110,isActive:!0},{code:"pathology_notify",name:"",color:"lime",sortOrder:120,isActive:!0},{code:"cure_code",name:"",color:"sky",sortOrder:130,isActive:!0},{code:"drug_apply",name:"",color:"rose",sortOrder:140,isActive:!0},{code:"other",name:"",color:"slate",sortOrder:999,isActive:!0}],tv=[{code:"mdt",name:"",color:"orange",sortOrder:10,isActive:!0},{code:"cancer_committee",name:"",color:"red",sortOrder:20,isActive:!0},{code:"center_meeting",name:"",color:"blue",sortOrder:30,isActive:!0},{code:"case_review",name:"",color:"purple",sortOrder:40,isActive:!0},{code:"education",name:"",color:"green",sortOrder:50,isActive:!0},{code:"other_work",name:"",color:"slate",sortOrder:999,isActive:!0}],nv=[{code:"LC",name:"",sortOrder:10},{code:"BC",name:"",sortOrder:20},{code:"CRC",name:"",sortOrder:30},{code:"HNC",name:"",sortOrder:40},{code:"PC",name:"",sortOrder:50},{code:"GC",name:"",sortOrder:60},{code:"HCC",name:"",sortOrder:70},{code:"EC",name:"",sortOrder:80},{code:"CC",name:"",sortOrder:90},{code:"OC",name:"",sortOrder:100},{code:"UEC",name:"",sortOrder:110},{code:"LYM",name:"",sortOrder:120},{code:"BLC",name:"",sortOrder:130}],av=[{dept:"",physicians:["","",""]},{dept:"",physicians:["","","",""]},{dept:"",physicians:["","","",""]},{dept:"",physicians:[""]},{dept:"",physicians:["",""]},{dept:"",physicians:["",""]},{dept:"",physicians:["",""]},{dept:"",physicians:[""]},{dept:"",physicians:["",""]}],lv=[{name:"",sortOrder:10},{name:"7",sortOrder:20},{name:"7 VIP",sortOrder:30},{name:"8",sortOrder:40},{name:"3E",sortOrder:50},{name:"",sortOrder:60},{name:"8",sortOrder:70}],vu={purple:"bg-purple-100 text-purple-700",blue:"bg-blue-100 text-blue-700",red:"bg-red-100 text-red-700",orange:"bg-orange-100 text-orange-700",teal:"bg-teal-100 text-teal-700",indigo:"bg-indigo-100 text-indigo-700",cyan:"bg-cyan-100 text-cyan-700",amber:"bg-amber-100 text-amber-700",pink:"bg-pink-100 text-pink-700",emerald:"bg-emerald-100 text-emerald-700",violet:"bg-violet-100 text-violet-700",lime:"bg-lime-100 text-lime-700",sky:"bg-sky-100 text-sky-700",rose:"bg-rose-100 text-rose-700",slate:"bg-slate-100 text-slate-700",green:"bg-green-100 text-green-700",yellow:"bg-yellow-100 text-yellow-700"},Bf={chemo:"",rt:"",surgery:"",mdt:"",tx_plan_confirm:"",imaging_plan:"",peer_review:"",fu:"/",hospital:"",new_dx:"",first_tx:"",pathology_notify:"",cure_code:"",drug_apply:"",other:""};class sv extends uu{patients;events;cancerTypes;physicians;departments;imagingTypes;eventTypes;meetingTypes;meetingLocations;workItems;patientPhysicians;constructor(){super("CaseManagerDB"),this.version(1).stores({patients:"++id, mrn, name, cancerTypeId, status",events:"++id, patientId, eventType, eventDate, dueDate, status, isCompleted",cancerTypes:"++id, code, sortOrder, isActive",physicians:"++id, name, departmentId, isActive",departments:"++id, name, sortOrder, isActive",imagingTypes:"++id, code, sortOrder, isActive",eventTypes:"++id, code, sortOrder, isActive"}),this.version(2).stores({patients:"++id, mrn, name, cancerTypeId, status",events:"++id, patientId, eventType, eventDate, dueDate, status, isCompleted",cancerTypes:"++id, code, sortOrder, isActive",physicians:"++id, name, departmentId, isActive",departments:"++id, name, sortOrder, isActive",imagingTypes:"++id, code, sortOrder, isActive",eventTypes:"++id, code, sortOrder, isActive",patientPhysicians:"++id, patientId, physicianId, [patientId+physicianId]"}),this.version(3).stores({patients:"++id, mrn, name, cancerTypeId, status",events:"++id, patientId, eventType, eventDate, dueDate, status, isCompleted",cancerTypes:"++id, code, sortOrder, isActive",physicians:"++id, name, departmentId, isActive",departments:"++id, name, sortOrder, isActive",imagingTypes:"++id, code, sortOrder, isActive",eventTypes:"++id, code, sortOrder, isActive",meetingTypes:"++id, code, sortOrder, isActive",workItems:"++id, meetingTypeId, scheduledDate, isCompleted",patientPhysicians:"++id, patientId, physicianId, [patientId+physicianId]"}),this.version(4).stores({patients:"++id, mrn, name, cancerTypeId, status",events:"++id, patientId, eventType, eventDate, dueDate, status, isCompleted",cancerTypes:"++id, code, sortOrder, isActive",physicians:"++id, name, departmentId, isActive",departments:"++id, name, sortOrder, isActive",imagingTypes:"++id, code, sortOrder, isActive",eventTypes:"++id, code, sortOrder, isActive",meetingTypes:"++id, code, sortOrder, isActive",meetingLocations:"++id, name, sortOrder, isActive",workItems:"++id, meetingTypeId, scheduledDate, isCompleted",patientPhysicians:"++id, patientId, physicianId, [patientId+physicianId]"})}}const H=new sv;async function Rp(){const[r,o,d,m,b,T,Y]=await Promise.all([H.cancerTypes.count(),H.departments.count(),H.eventTypes.count(),H.meetingTypes.count(),H.meetingLocations.count(),H.imagingTypes.count(),H.physicians.count()]);if(r>0||o>0||d>0||m>0||b>0||T>0||Y>0){console.log("[DB] ",{cancerCount:r,deptCount:o,eventTypeCount:d,meetingTypeCount:m,meetingLocationCount:b,imagingCount:T,physicianCount:Y});return}console.log("[DB] ..."),await H.transaction("rw",[H.cancerTypes,H.departments,H.physicians,H.imagingTypes,H.eventTypes,H.meetingTypes,H.meetingLocations,H.patients,H.patientPhysicians],async()=>{const C=await H.cancerTypes.bulkAdd(nv.map(oe=>({...oe,isActive:!0})),{allKeys:!0}),D={};let P=10;for(const oe of av){const de=await H.departments.add({name:oe.dept,sortOrder:P,isActive:!0});for(const _e of oe.physicians){const be=await H.physicians.add({name:_e,departmentId:de,isActive:!0});D[_e]=be}P+=10}console.log("[DB] :",D),await H.imagingTypes.bulkAdd([{code:"CT",name:"",sortOrder:10,isActive:!0},{code:"MRI",name:"",sortOrder:20,isActive:!0},{code:"PET",name:"",sortOrder:30,isActive:!0},{code:"XR",name:"X",sortOrder:40,isActive:!0},{code:"ECHO",name:"",sortOrder:50,isActive:!0}]),await H.eventTypes.bulkAdd(ev),await H.meetingTypes.bulkAdd(tv),await H.meetingLocations.bulkAdd(lv.map(oe=>({...oe,isActive:!0})));const q=[["",""],["",""],["",""],["","",""],["",""],["",""],["",""],["",""],["",""],["",""]],ee=rl(),ue=[{mrn:"TEST001",name:"A",sex:"M",cancerTypeId:C[0],status:"active"},{mrn:"TEST002",name:"B",sex:"F",cancerTypeId:C[1],status:"active"},{mrn:"TEST003",name:"C",sex:"M",cancerTypeId:C[2],status:"active"},{mrn:"TEST004",name:"D",sex:"F",cancerTypeId:C[3],status:"active"},{mrn:"TEST005",name:"E",sex:"M",cancerTypeId:C[4],status:"active"},{mrn:"TEST006",name:"F",sex:"M",cancerTypeId:C[5],status:"active"},{mrn:"TEST007",name:"G",sex:"F",cancerTypeId:C[6],status:"active"},{mrn:"TEST008",name:"H",sex:"M",cancerTypeId:C[7],status:"active"},{mrn:"TEST009",name:"I",sex:"F",cancerTypeId:C[8],status:"active"},{mrn:"TEST010",name:"J",sex:"F",cancerTypeId:C[9],status:"active"}];for(let oe=0;oe<ue.length;oe++){const de=ue[oe],_e=await H.patients.add({...de,createdAt:ee,updatedAt:ee}),be=q[oe]||[];console.log(`[DB]  ${de.name} (ID: ${_e}) :`,be);for(const Ae of be){const w=D[Ae];console.log(`[DB]   - ${Ae} -> physicianId: ${w}`),w&&await H.patientPhysicians.add({patientId:_e,physicianId:w,role:"primary"})}}}),console.log("[DB]  10 ")}async function iv(){try{await H.open(),console.log("[DB] "),await Rp()}catch(r){throw console.error("[DB] :",r),r}}function rl(){return new Date().toISOString()}const gu="2.7",Up="",rv="",cv=[{version:"2.7",date:"2024-12-18",changes:["","",""]},{version:"2.6",date:"2024-12-18",changes:["","","","","","/"]},{version:"2.5",date:"2024-12-18",changes:["/","","","","",""]},{version:"2.4",date:"2024-12-18",changes:["","","","",""]},{version:"2.3",date:"2024-12-18",changes:["","","","/",""]},{version:"2.2",date:"2024-12-18",changes:["",""," Schema "]},{version:"2.1",date:"2024-12-18",changes:[" 10 ","","",""]},{version:"2.0",date:"2024-12-18",changes:["","",""]},{version:"1.9",date:"2024-12-18",changes:["//","","",""]},{version:"1.8",date:"2024-12-18",changes:["","4","",""]},{version:"1.7",date:"2024-12-18",changes:["","Dashboard ","Dashboard "]},{version:"1.6",date:"2024-12-18",changes:["","Tab","","10",""]},{version:"1.5",date:"2024-12-18",changes:["","",""]},{version:"1.4",date:"2024-12-18",changes:["","CSV"]},{version:"1.3",date:"2024-12-18",changes:[""," Mac ",""]},{version:"1.2",date:"2024-12-18",changes:[" SELA Logo","","/"]},{version:"1.1",date:"2024-12-18",changes:["CRUD","",""]},{version:"1.0",date:"2024-12-18",changes:["","React + TypeScript + Vite ","IndexedDB ","","iOS Web Share "," UI/","Dashboard ","GitHub Actions "]}],qp="casemanager_backup_records",Rf="casemanager_last_backup";function Uf(){return new Date().toISOString().split("T")[0]}function qf(){return localStorage.getItem(Rf)}function uv(){const r=qf();return r?r===Uf():!1}function Hp(){const r=localStorage.getItem(qp);if(!r)return[];try{return JSON.parse(r)}catch{return[]}}function Yp(r){const o=Hp();o.unshift(r);const d=o.slice(0,30);localStorage.setItem(qp,JSON.stringify(d))}async function Lp(){const[r,o,d,m,b,T,Y,L,C,D,P]=await Promise.all([H.patients.toArray(),H.events.toArray(),H.cancerTypes.toArray(),H.physicians.toArray(),H.departments.toArray(),H.imagingTypes.toArray(),H.eventTypes.toArray(),H.meetingTypes.toArray(),H.meetingLocations.toArray(),H.workItems.toArray(),H.patientPhysicians.toArray()]);return{exportDate:new Date().toISOString(),version:gu,deviceInfo:`${navigator.userAgent}`,data:{patients:r,events:o,cancerTypes:d,physicians:m,departments:b,imagingTypes:T,eventTypes:Y,meetingTypes:L,meetingLocations:C,workItems:D,patientPhysicians:P}}}async function Kp(){const r=await Lp(),o=JSON.stringify(r,null,2),d=new Blob([o],{type:"application/json"}),b=`case_backup_${new Date().toISOString().replace(/[:.]/g,"").slice(0,15)}.json`,T=URL.createObjectURL(d),Y=document.createElement("a");Y.href=T,Y.download=b,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(T);const L=r.data.patients.length+r.data.events.length;return Yp({date:new Date().toISOString(),fileName:b,recordCount:L}),localStorage.setItem(Rf,Uf()),b}function Ei(){return/iPad|iPhone|iPod/.test(navigator.userAgent)}function ov(){return"share"in navigator&&"canShare"in navigator}async function fv(){const r=await Lp(),o=JSON.stringify(r,null,2),m=`case_backup_${new Date().toISOString().replace(/[:.]/g,"").slice(0,15)}.json`,b=new File([o],m,{type:"application/json"});if(navigator.canShare&&navigator.canShare({files:[b]}))try{await navigator.share({title:"",text:`: ${new Date().toLocaleString("zh-TW")}`,files:[b]});const T=r.data.patients.length+r.data.events.length;return Yp({date:new Date().toISOString(),fileName:m,recordCount:T}),localStorage.setItem(Rf,Uf()),m}catch(T){throw T.name==="AbortError"?new Error(""):T}else return Kp()}async function Hf(){return Ei()&&ov()?fv():Kp()}async function Xp(r){try{const o=await r.text(),d=JSON.parse(o);return!d.version||!d.data?{success:!1,message:""}:(await H.patients.count()>0&&console.log("[Backup] ..."),await H.transaction("rw",[H.patients,H.events,H.cancerTypes,H.physicians,H.departments,H.imagingTypes,H.eventTypes,H.meetingTypes,H.meetingLocations,H.workItems,H.patientPhysicians],async()=>{await H.patients.clear(),await H.events.clear(),await H.cancerTypes.clear(),await H.physicians.clear(),await H.departments.clear(),await H.imagingTypes.clear(),await H.eventTypes.clear(),await H.meetingTypes.clear(),await H.meetingLocations.clear(),await H.workItems.clear(),await H.patientPhysicians.clear(),d.data.patients?.length&&await H.patients.bulkAdd(d.data.patients),d.data.events?.length&&await H.events.bulkAdd(d.data.events),d.data.cancerTypes?.length&&await H.cancerTypes.bulkAdd(d.data.cancerTypes),d.data.physicians?.length&&await H.physicians.bulkAdd(d.data.physicians),d.data.departments?.length&&await H.departments.bulkAdd(d.data.departments),d.data.imagingTypes?.length&&await H.imagingTypes.bulkAdd(d.data.imagingTypes),d.data.eventTypes?.length&&await H.eventTypes.bulkAdd(d.data.eventTypes),d.data.meetingTypes?.length&&await H.meetingTypes.bulkAdd(d.data.meetingTypes),d.data.meetingLocations?.length&&await H.meetingLocations.bulkAdd(d.data.meetingLocations),d.data.workItems?.length&&await H.workItems.bulkAdd(d.data.workItems),d.data.patientPhysicians?.length&&await H.patientPhysicians.bulkAdd(d.data.patientPhysicians)}),{success:!0,message:` ${d.data.patients?.length||0} ${d.data.events?.length||0} `})}catch(o){return console.error("[Backup] :",o),{success:!1,message:`: ${o.message}`}}}async function dv(){const r=await H.patients.count(),o=await H.events.count();return r===0&&o===0}async function mv(){return await H.patients.count()>0}const up=r=>{let o;const d=new Set,m=(D,P)=>{const q=typeof D=="function"?D(o):D;if(!Object.is(q,o)){const ee=o;o=P??(typeof q!="object"||q===null)?q:Object.assign({},o,q),d.forEach(ue=>ue(o,ee))}},b=()=>o,L={setState:m,getState:b,getInitialState:()=>C,subscribe:D=>(d.add(D),()=>d.delete(D))},C=o=r(m,b,L);return L},hv=(r=>r?up(r):up),pv=r=>r;function yv(r,o=pv){const d=au.useSyncExternalStore(r.subscribe,au.useCallback(()=>o(r.getState()),[r,o]),au.useCallback(()=>o(r.getInitialState()),[r,o]));return au.useDebugValue(d),d}const op=r=>{const o=hv(r),d=m=>yv(o,m);return Object.assign(d,o),d},Yf=(r=>r?op(r):op),Ca=Yf(r=>({needsBackup:!1,lastBackupDate:null,isBackupModalOpen:!1,isDataLossModalOpen:!1,hasUnsavedChanges:!1,setNeedsBackup:o=>r({needsBackup:o}),setLastBackupDate:o=>r({lastBackupDate:o}),openBackupModal:()=>r({isBackupModalOpen:!0}),closeBackupModal:()=>r({isBackupModalOpen:!1}),openDataLossModal:()=>r({isDataLossModalOpen:!0}),closeDataLossModal:()=>r({isDataLossModalOpen:!1}),markDataChanged:()=>r({hasUnsavedChanges:!0}),clearUnsavedChanges:()=>r({hasUnsavedChanges:!1})})),Oi=Yf(r=>({currentPage:"dashboard",selectedPatientId:null,setCurrentPage:o=>r({currentPage:o}),setSelectedPatientId:o=>r({selectedPatientId:o})})),Hr=Yf(r=>({toasts:[],addToast:(o,d)=>{const m=Date.now().toString();r(b=>({toasts:[...b.toasts,{id:m,type:o,message:d}]})),setTimeout(()=>{r(b=>({toasts:b.toasts.filter(T=>T.id!==m)}))},3e3)},removeToast:o=>r(d=>({toasts:d.toasts.filter(m=>m.id!==o)}))})),we={success:r=>Hr.getState().addToast("success",r),error:r=>Hr.getState().addToast("error",r),warning:r=>Hr.getState().addToast("warning",r),info:r=>Hr.getState().addToast("info",r)};const Gp=(...r)=>r.filter((o,d,m)=>!!o&&o.trim()!==""&&m.indexOf(o)===d).join(" ").trim();const vv=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const gv=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,d,m)=>m?m.toUpperCase():d.toLowerCase());const fp=r=>{const o=gv(r);return o.charAt(0).toUpperCase()+o.slice(1)};var xv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bv=r=>{for(const o in r)if(o.startsWith("aria-")||o==="role"||o==="title")return!0;return!1};const jv=U.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:d=2,absoluteStrokeWidth:m,className:b="",children:T,iconNode:Y,...L},C)=>U.createElement("svg",{ref:C,...xv,width:o,height:o,stroke:r,strokeWidth:m?Number(d)*24/Number(o):d,className:Gp("lucide",b),...!T&&!bv(L)&&{"aria-hidden":"true"},...L},[...Y.map(([D,P])=>U.createElement(D,P)),...Array.isArray(T)?T:[T]]));const $e=(r,o)=>{const d=U.forwardRef(({className:m,...b},T)=>U.createElement(jv,{ref:T,iconNode:o,className:Gp(`lucide-${vv(fp(r))}`,`lucide-${r}`,m),...b}));return d.displayName=fp(r),d};const wv=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Nv=$e("activity",wv);const Sv=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Tv=$e("arrow-up-down",Sv);const _v=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],As=$e("briefcase",_v);const Dv=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Qp=$e("building-2",Dv);const Cv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Vp=$e("calendar-days",Cv);const Ev=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],il=$e("calendar",Ev);const Av=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ov=$e("chart-column",Av);const Mv=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],dp=$e("chart-pie",Mv);const kv=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rn=$e("check",kv);const zv=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Lr=$e("chevron-down",zv);const Bv=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Zp=$e("chevron-left",Bv);const Rv=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ai=$e("chevron-right",Rv);const Uv=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Lf=$e("chevron-up",Uv);const qv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Hv=$e("circle-alert",qv);const Yv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zl=$e("circle-check-big",Yv);const Lv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Kv=$e("circle-x",Lv);const Xv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],Jp=$e("clock",Xv);const Gv=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ef=$e("database",Gv);const Qv=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ou=$e("download",Qv);const Vv=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],xu=$e("ellipsis-vertical",Vv);const Zv=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Jv=$e("ellipsis",Zv);const Iv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$v=$e("file-text",Iv);const Fv=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Wv=$e("funnel",Fv);const Pv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],eg=$e("image",Pv);const tg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ng=$e("info",tg);const ag=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],fu=$e("layout-dashboard",ag);const lg=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Ip=$e("list",lg);const sg=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Kf=$e("map-pin",sg);const ig=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],$p=$e("phone",ig);const rg=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sa=$e("plus",rg);const cg=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ug=$e("refresh-cw",cg);const og=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],fg=$e("repeat",og);const dg=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mg=$e("search",dg);const hg=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pg=$e("settings",hg);const yg=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Fp=$e("share-2",yg);const vg=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Fn=$e("square-pen",vg);const gg=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],cu=$e("stethoscope",gg);const xg=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qn=$e("trash-2",xg);const bg=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Da=$e("triangle-alert",bg);const jg=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Af=$e("upload",jg);const wg=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xf=$e("user",wg);const Ng=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gf=$e("users",Ng);const Sg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rt=$e("x",Sg);function mp({onComplete:r,isDataLoss:o=!1}){const[d,m]=U.useState(!1),[b,T]=U.useState(!1),[Y,L]=U.useState(!1),C=U.useRef(null),{closeBackupModal:D,closeDataLossModal:P,setNeedsBackup:q,setLastBackupDate:ee}=Ca(),ue=async()=>{m(!0);try{const be=await Hf();T(!0),we.success(`${be}`),q(!1),ee(new Date().toISOString().split("T")[0])}catch(be){we.error(`${be.message}`)}finally{m(!1)}},oe=async be=>{const Ae=be.target.files?.[0];if(Ae){L(!0);try{const w=await Xp(Ae);w.success?(we.success(w.message),r(),o&&P()):we.error(w.message)}catch(w){we.error(`${w.message}`)}finally{L(!1),C.current&&(C.current.value="")}}},de=()=>{D(),r()},_e=()=>{P(),r()};return o?l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:l.jsx(Da,{className:"w-6 h-6 text-red-600"})}),l.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""})]}),l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:l.jsx("p",{className:"text-red-800 text-sm",children:"iOS  7 "})}),l.jsx("p",{className:"text-slate-600 mb-6",children:""}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>C.current?.click(),disabled:Y,className:"w-full btn-primary flex items-center justify-center gap-2",children:[l.jsx(Af,{className:"w-5 h-5"}),Y?"...":""]}),l.jsx("button",{onClick:_e,className:"w-full btn-secondary",children:""})]}),l.jsx("input",{ref:C,type:"file",accept:".json",onChange:oe,className:"hidden"}),l.jsx("p",{className:"text-xs text-slate-500 mt-4 text-center",children:" iCloudGoogle Drive"})]})}):l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-amber-100 rounded-full",children:l.jsx(Da,{className:"w-6 h-6 text-amber-600"})}),l.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""})]}),l.jsx("p",{className:"text-slate-600 mb-2",children:""}),l.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-6",children:l.jsx("p",{className:"text-amber-800 text-sm",children:"  "})}),b?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[l.jsx(Zl,{className:"w-6 h-6 text-green-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-green-800",children:""}),l.jsx("p",{className:"text-sm text-green-600",children:""})]})]}),l.jsx("button",{onClick:de,className:"w-full btn-primary",children:""})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:ue,disabled:d,className:"w-full btn-primary flex items-center justify-center gap-2",children:[Ei()?l.jsx(Fp,{className:"w-5 h-5"}):l.jsx(ou,{className:"w-5 h-5"}),d?"...":Ei()?" Files":""]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-slate-200"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-slate-500",children:""})})]}),l.jsxs("button",{onClick:()=>C.current?.click(),disabled:Y,className:"w-full btn-secondary flex items-center justify-center gap-2",children:[l.jsx(Af,{className:"w-5 h-5"}),Y?"...":""]})]}),l.jsx("input",{ref:C,type:"file",accept:".json",onChange:oe,className:"hidden"}),l.jsx("p",{className:"text-xs text-slate-500 mt-4 text-center",children:"iCloudGoogle Drive"})]})})}const Tg={success:Zl,error:Kv,warning:Da,info:ng},_g={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-amber-50 border-amber-200 text-amber-800",info:"bg-blue-50 border-blue-200 text-blue-800"},Dg={success:"text-green-600",error:"text-red-600",warning:"text-amber-600",info:"text-blue-600"};function Cg(){const{toasts:r,removeToast:o}=Hr();return r.length===0?null:l.jsxs("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm w-full pointer-events-none",children:[r.map(d=>{const m=Tg[d.type];return l.jsxs("div",{className:`
              pointer-events-auto
              flex items-center gap-3 p-4 rounded-lg border shadow-lg
              animate-slide-in
              ${_g[d.type]}
            `,children:[l.jsx(m,{className:`w-5 h-5 flex-shrink-0 ${Dg[d.type]}`}),l.jsx("p",{className:"flex-1 text-sm font-medium",children:d.message}),l.jsx("button",{onClick:()=>o(d.id),className:"flex-shrink-0 p-1 hover:bg-black/5 rounded",children:l.jsx(Rt,{className:"w-4 h-4"})})]},d.id)}),l.jsx("style",{children:`
        @keyframes slide-in {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
      `})]})}const Eg=[{id:"dashboard",label:"",icon:fu},{id:"patients",label:"",icon:Gf},{id:"events",label:"",icon:il},{id:"work",label:"",icon:As}],hp=[{id:"masterdata",label:"",icon:fu},{id:"tools",label:"",icon:fu}];function Ag(){const{currentPage:r,setCurrentPage:o}=Oi(),[d,m]=U.useState(!1),b=hp.some(T=>T.id===r);return l.jsxs(l.Fragment,{children:[l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 md:hidden z-40",children:l.jsxs("div",{className:"flex justify-around items-center h-14 safe-area-bottom",children:[Eg.map(T=>{const Y=T.icon,L=r===T.id;return l.jsxs("button",{onClick:()=>o(T.id),className:`flex flex-col items-center justify-center flex-1 h-full min-w-0 px-1 active:bg-slate-100 transition-colors duration-150 ${L?"text-primary-500":"text-slate-400"}`,children:[l.jsx(Y,{className:`w-5 h-5 ${L?"stroke-2":""}`}),l.jsx("span",{className:`text-[10px] mt-0.5 truncate ${L?"font-medium":""}`,children:T.label})]},T.id)}),l.jsxs("button",{onClick:()=>m(!d),className:`flex flex-col items-center justify-center flex-1 h-full min-w-0 px-1 active:bg-slate-100 transition-colors duration-150 ${b?"text-primary-500":"text-slate-400"}`,children:[l.jsx(Jv,{className:`w-5 h-5 ${b?"stroke-2":""}`}),l.jsx("span",{className:`text-[10px] mt-0.5 truncate ${b?"font-medium":""}`,children:""})]})]})}),d&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>m(!1)}),l.jsx("div",{className:"fixed bottom-16 right-4 bg-white rounded-lg shadow-lg border z-40 py-2 min-w-[140px]",children:hp.map(T=>l.jsx("button",{onClick:()=>{o(T.id),m(!1)},className:`w-full px-4 py-3 text-left hover:bg-slate-50 ${r===T.id?"text-primary-500 font-medium":"text-slate-700"}`,children:T.label},T.id))})]})]})}const Wp="/Patient-follow/assets/logo-o9u08eVb.jpg",Og=[{id:"dashboard",label:"",icon:fu},{id:"patients",label:"",icon:Gf},{id:"events",label:"",icon:il},{id:"work",label:"",icon:As},{id:"masterdata",label:"",icon:Ef},{id:"tools",label:"",icon:pg}];function Mg(){const{currentPage:r,setCurrentPage:o}=Oi(),[d,m]=U.useState(!1);return l.jsxs("aside",{className:`
        hidden md:flex flex-col
        bg-slate-800 text-white
        transition-all duration-300
        ${d?"w-16":"w-56"}
      `,children:[l.jsxs("div",{className:"flex items-center h-20 px-3 border-b border-slate-700",children:[l.jsx("img",{src:Wp,alt:"Logo",className:"w-10 h-10 rounded-lg flex-shrink-0"}),!d&&l.jsxs("div",{className:"ml-2 flex-1 min-w-0",children:[l.jsx("h1",{className:"font-bold text-sm text-primary-400 truncate",children:Up}),l.jsx("p",{className:"text-xs text-slate-400 truncate",children:rv}),l.jsxs("p",{className:"text-xs text-slate-500",children:["V",gu]})]}),!d&&l.jsx("button",{onClick:()=>m(!d),className:"p-1.5 hover:bg-slate-700 rounded-lg ml-1",title:"",children:l.jsx(Zp,{className:"w-4 h-4"})}),d&&l.jsx("button",{onClick:()=>m(!1),className:"p-1.5 hover:bg-slate-700 rounded-lg ml-auto",title:"",children:l.jsx(Ai,{className:"w-4 h-4"})})]}),l.jsx("nav",{className:"flex-1 py-4",children:Og.map(b=>{const T=b.icon,Y=r===b.id;return l.jsxs("button",{onClick:()=>o(b.id),className:`
                w-full flex items-center gap-3 px-4 py-3
                transition-colors duration-200
                ${Y?"bg-primary-500 text-white":"text-slate-300 hover:bg-slate-700 hover:text-white"}
              `,children:[l.jsx(T,{className:"w-5 h-5 flex-shrink-0"}),!d&&l.jsx("span",{className:"font-medium",children:b.label})]},b.id)})}),!d&&l.jsx("div",{className:"p-4 border-t border-slate-700",children:l.jsx("p",{className:"text-xs text-slate-500 text-center",children:" 2024 SELA"})})]})}async function Mi(r){let o=await H.events.toArray();return r?.patientId&&(o=o.filter(d=>d.patientId===r.patientId)),r?.eventType&&(o=o.filter(d=>d.eventType===r.eventType)),r?.status&&r.status!=="all"&&(o=o.filter(d=>d.status===r.status)),r?.isCompleted!==void 0&&(o=o.filter(d=>d.isCompleted===r.isCompleted)),r?.dueDateFrom&&(o=o.filter(d=>d.dueDate&&d.dueDate>=r.dueDateFrom)),r?.dueDateTo&&(o=o.filter(d=>d.dueDate&&d.dueDate<=r.dueDateTo)),o.sort((d,m)=>(d.dueDate||"").localeCompare(m.dueDate||"")),o}async function Pp(r){const o=rl();return await H.events.add({patientId:r.patientId,eventType:r.eventType,title:r.title||Bf[r.eventType]||"",eventDate:r.eventDate||o.split("T")[0],dueDate:r.dueDate,status:"pending",note:r.note||"",isCompleted:!1,mainPhysicianId:r.mainPhysicianId,fieldsJson:r.fieldsJson||{},createdAt:o,updatedAt:o})}async function kg(r,o){return await H.events.update(r,{...o,updatedAt:rl()})>0}async function e0(r){return await H.events.delete(r),!0}async function t0(r){const o=await H.events.get(r);return o?(await H.events.update(r,{isCompleted:!o.isCompleted,status:o.isCompleted?"pending":"done",updatedAt:rl()}),!0):!1}async function pp(){const r=new Date().toISOString().split("T")[0];return Mi({dueDateFrom:r,dueDateTo:r,isCompleted:!1})}async function Of(){const r=new Date().toISOString().split("T")[0];return(await Mi({isCompleted:!1})).filter(d=>d.dueDate&&d.dueDate<r)}async function zg(){return(await Mi({isCompleted:!0})).sort((o,d)=>(d.dueDate||d.eventDate||"").localeCompare(o.dueDate||o.eventDate||""))}async function yp(){const r=new Date;r.setDate(r.getDate()+1);const o=r.toISOString().split("T")[0];return Mi({dueDateFrom:o,dueDateTo:o,isCompleted:!1})}async function vp(){const r=new Date,o=new Date(r);o.setDate(o.getDate()+7);const d=r.toISOString().split("T")[0],m=o.toISOString().split("T")[0];return Mi({dueDateFrom:d,dueDateTo:m,isCompleted:!1})}async function Bg(r){const o=[],d=new Date(r.startDate);for(let m=0;m<r.cycleCount;m++){const b=new Date(d);b.setDate(b.getDate()+m*r.intervalDays);const T=b.toISOString().split("T")[0],Y=await Pp({patientId:r.patientId,eventType:"chemo",title:` C${m+1} - ${r.regimen}`,eventDate:T,dueDate:T,mainPhysicianId:r.mainPhysicianId,note:r.note,fieldsJson:{regimen:r.regimen,cycle:m+1,totalCycles:r.cycleCount}});o.push(Y)}return o}async function n0(r){let o=await H.workItems.toArray();return r?.meetingTypeId&&(o=o.filter(d=>d.meetingTypeId===r.meetingTypeId)),r?.isCompleted!==void 0&&(o=o.filter(d=>d.isCompleted===r.isCompleted)),r?.startDate&&(o=o.filter(d=>d.scheduledDate>=r.startDate)),r?.endDate&&(o=o.filter(d=>d.scheduledDate<=r.endDate)),o.sort((d,m)=>d.scheduledDate.localeCompare(m.scheduledDate))}async function Rg(r){const o=rl();return H.workItems.add({...r,isCompleted:!1,createdAt:o,updatedAt:o})}async function Ug(r,o){return await H.workItems.update(r,{...o,updatedAt:rl()})>0}async function qg(r){return await H.workItems.delete(r),!0}async function Hg(r){const o=await H.workItems.get(r);return o?(await H.workItems.update(r,{isCompleted:!o.isCompleted,updatedAt:rl()}),!0):!1}async function Yg(){const r=new Date,o=new Date(r);return o.setDate(r.getDate()+7),n0({startDate:r.toISOString().split("T")[0],endDate:o.toISOString().split("T")[0],isCompleted:!1})}const a0=6048e5,Lg=864e5,l0=6e4,s0=36e5,gp=Symbol.for("constructDateFrom");function xn(r,o){return typeof r=="function"?r(o):r&&typeof r=="object"&&gp in r?r[gp](o):r instanceof Date?new r.constructor(o):new Date(o)}function Jt(r,o){return xn(o||r,r)}function i0(r,o,d){const m=Jt(r,d?.in);return isNaN(o)?xn(r,NaN):(o&&m.setDate(m.getDate()+o),m)}function Qf(r,o,d){const m=Jt(r,d?.in);if(isNaN(o))return xn(r,NaN);if(!o)return m;const b=m.getDate(),T=xn(r,m.getTime());T.setMonth(m.getMonth()+o+1,0);const Y=T.getDate();return b>=Y?T:(m.setFullYear(T.getFullYear(),T.getMonth(),b),m)}let Kg={};function bu(){return Kg}function Yr(r,o){const d=bu(),m=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??d.weekStartsOn??d.locale?.options?.weekStartsOn??0,b=Jt(r,o?.in),T=b.getDay(),Y=(T<m?7:0)+T-m;return b.setDate(b.getDate()-Y),b.setHours(0,0,0,0),b}function du(r,o){return Yr(r,{...o,weekStartsOn:1})}function r0(r,o){const d=Jt(r,o?.in),m=d.getFullYear(),b=xn(d,0);b.setFullYear(m+1,0,4),b.setHours(0,0,0,0);const T=du(b),Y=xn(d,0);Y.setFullYear(m,0,4),Y.setHours(0,0,0,0);const L=du(Y);return d.getTime()>=T.getTime()?m+1:d.getTime()>=L.getTime()?m:m-1}function xp(r){const o=Jt(r),d=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));return d.setUTCFullYear(o.getFullYear()),+r-+d}function ju(r,...o){const d=xn.bind(null,o.find(m=>typeof m=="object"));return o.map(d)}function mu(r,o){const d=Jt(r,o?.in);return d.setHours(0,0,0,0),d}function c0(r,o,d){const[m,b]=ju(d?.in,r,o),T=mu(m),Y=mu(b),L=+T-xp(T),C=+Y-xp(Y);return Math.round((L-C)/Lg)}function Xg(r,o){const d=r0(r,o),m=xn(r,0);return m.setFullYear(d,0,4),m.setHours(0,0,0,0),du(m)}function u0(r){return xn(r,Date.now())}function o0(r,o,d){const[m,b]=ju(d?.in,r,o);return+mu(m)==+mu(b)}function Gg(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Qg(r){return!(!Gg(r)&&typeof r!="number"||isNaN(+Jt(r)))}function Vg(r,o,d){const[m,b]=ju(d?.in,r,o),T=bp(m,b),Y=Math.abs(c0(m,b));m.setDate(m.getDate()-T*Y);const L=+(bp(m,b)===-T),C=T*(Y-L);return C===0?0:C}function bp(r,o){const d=r.getFullYear()-o.getFullYear()||r.getMonth()-o.getMonth()||r.getDate()-o.getDate()||r.getHours()-o.getHours()||r.getMinutes()-o.getMinutes()||r.getSeconds()-o.getSeconds()||r.getMilliseconds()-o.getMilliseconds();return d<0?-1:d>0?1:d}function f0(r,o){const d=Jt(r,o?.in),m=d.getMonth();return d.setFullYear(d.getFullYear(),m+1,0),d.setHours(23,59,59,999),d}function Zg(r,o){const[d,m]=ju(r,o.start,o.end);return{start:d,end:m}}function d0(r,o){const{start:d,end:m}=Zg(o?.in,r);let b=+d>+m;const T=b?+d:+m,Y=b?m:d;Y.setHours(0,0,0,0);let L=1;const C=[];for(;+Y<=T;)C.push(xn(d,Y)),Y.setDate(Y.getDate()+L),Y.setHours(0,0,0,0);return b?C.reverse():C}function m0(r,o){const d=Jt(r,o?.in);return d.setDate(1),d.setHours(0,0,0,0),d}function Jg(r,o){const d=Jt(r,o?.in);return d.setFullYear(d.getFullYear(),0,1),d.setHours(0,0,0,0),d}const Ig={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$g=(r,o,d)=>{let m;const b=Ig[r];return typeof b=="string"?m=b:o===1?m=b.one:m=b.other.replace("{{count}}",o.toString()),d?.addSuffix?d.comparison&&d.comparison>0?"in "+m:m+" ago":m};function Ci(r){return(o={})=>{const d=o.width?String(o.width):r.defaultWidth;return r.formats[d]||r.formats[r.defaultWidth]}}const Fg={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Wg={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Pg={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ex={date:Ci({formats:Fg,defaultWidth:"full"}),time:Ci({formats:Wg,defaultWidth:"full"}),dateTime:Ci({formats:Pg,defaultWidth:"full"})},tx={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nx=(r,o,d,m)=>tx[r];function Sa(r){return(o,d)=>{const m=d?.context?String(d.context):"standalone";let b;if(m==="formatting"&&r.formattingValues){const Y=r.defaultFormattingWidth||r.defaultWidth,L=d?.width?String(d.width):Y;b=r.formattingValues[L]||r.formattingValues[Y]}else{const Y=r.defaultWidth,L=d?.width?String(d.width):r.defaultWidth;b=r.values[L]||r.values[Y]}const T=r.argumentCallback?r.argumentCallback(o):o;return b[T]}}const ax={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lx={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sx={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ix={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ux=(r,o)=>{const d=Number(r),m=d%100;if(m>20||m<10)switch(m%10){case 1:return d+"st";case 2:return d+"nd";case 3:return d+"rd"}return d+"th"},ox={ordinalNumber:ux,era:Sa({values:ax,defaultWidth:"wide"}),quarter:Sa({values:lx,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Sa({values:sx,defaultWidth:"wide"}),day:Sa({values:ix,defaultWidth:"wide"}),dayPeriod:Sa({values:rx,defaultWidth:"wide",formattingValues:cx,defaultFormattingWidth:"wide"})};function Ta(r){return(o,d={})=>{const m=d.width,b=m&&r.matchPatterns[m]||r.matchPatterns[r.defaultMatchWidth],T=o.match(b);if(!T)return null;const Y=T[0],L=m&&r.parsePatterns[m]||r.parsePatterns[r.defaultParseWidth],C=Array.isArray(L)?dx(L,q=>q.test(Y)):fx(L,q=>q.test(Y));let D;D=r.valueCallback?r.valueCallback(C):C,D=d.valueCallback?d.valueCallback(D):D;const P=o.slice(Y.length);return{value:D,rest:P}}}function fx(r,o){for(const d in r)if(Object.prototype.hasOwnProperty.call(r,d)&&o(r[d]))return d}function dx(r,o){for(let d=0;d<r.length;d++)if(o(r[d]))return d}function h0(r){return(o,d={})=>{const m=o.match(r.matchPattern);if(!m)return null;const b=m[0],T=o.match(r.parsePattern);if(!T)return null;let Y=r.valueCallback?r.valueCallback(T[0]):T[0];Y=d.valueCallback?d.valueCallback(Y):Y;const L=o.slice(b.length);return{value:Y,rest:L}}}const mx=/^(\d+)(th|st|nd|rd)?/i,hx=/\d+/i,px={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yx={any:[/^b/i,/^(a|c)/i]},vx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gx={any:[/1/i,/2/i,/3/i,/4/i]},xx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Sx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tx={ordinalNumber:h0({matchPattern:mx,parsePattern:hx,valueCallback:r=>parseInt(r,10)}),era:Ta({matchPatterns:px,defaultMatchWidth:"wide",parsePatterns:yx,defaultParseWidth:"any"}),quarter:Ta({matchPatterns:vx,defaultMatchWidth:"wide",parsePatterns:gx,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Ta({matchPatterns:xx,defaultMatchWidth:"wide",parsePatterns:bx,defaultParseWidth:"any"}),day:Ta({matchPatterns:jx,defaultMatchWidth:"wide",parsePatterns:wx,defaultParseWidth:"any"}),dayPeriod:Ta({matchPatterns:Nx,defaultMatchWidth:"any",parsePatterns:Sx,defaultParseWidth:"any"})},_x={code:"en-US",formatDistance:$g,formatLong:ex,formatRelative:nx,localize:ox,match:Tx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Dx(r,o){const d=Jt(r,o?.in);return c0(d,Jg(d))+1}function Cx(r,o){const d=Jt(r,o?.in),m=+du(d)-+Xg(d);return Math.round(m/a0)+1}function p0(r,o){const d=Jt(r,o?.in),m=d.getFullYear(),b=bu(),T=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??b.firstWeekContainsDate??b.locale?.options?.firstWeekContainsDate??1,Y=xn(o?.in||r,0);Y.setFullYear(m+1,0,T),Y.setHours(0,0,0,0);const L=Yr(Y,o),C=xn(o?.in||r,0);C.setFullYear(m,0,T),C.setHours(0,0,0,0);const D=Yr(C,o);return+d>=+L?m+1:+d>=+D?m:m-1}function Ex(r,o){const d=bu(),m=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??d.firstWeekContainsDate??d.locale?.options?.firstWeekContainsDate??1,b=p0(r,o),T=xn(o?.in||r,0);return T.setFullYear(b,0,m),T.setHours(0,0,0,0),Yr(T,o)}function Ax(r,o){const d=Jt(r,o?.in),m=+Yr(d,o)-+Ex(d,o);return Math.round(m/a0)+1}function gt(r,o){const d=r<0?"-":"",m=Math.abs(r).toString().padStart(o,"0");return d+m}const Vl={y(r,o){const d=r.getFullYear(),m=d>0?d:1-d;return gt(o==="yy"?m%100:m,o.length)},M(r,o){const d=r.getMonth();return o==="M"?String(d+1):gt(d+1,2)},d(r,o){return gt(r.getDate(),o.length)},a(r,o){const d=r.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return d.toUpperCase();case"aaa":return d;case"aaaaa":return d[0];default:return d==="am"?"a.m.":"p.m."}},h(r,o){return gt(r.getHours()%12||12,o.length)},H(r,o){return gt(r.getHours(),o.length)},m(r,o){return gt(r.getMinutes(),o.length)},s(r,o){return gt(r.getSeconds(),o.length)},S(r,o){const d=o.length,m=r.getMilliseconds(),b=Math.trunc(m*Math.pow(10,d-3));return gt(b,o.length)}},Ti={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jp={G:function(r,o,d){const m=r.getFullYear()>0?1:0;switch(o){case"G":case"GG":case"GGG":return d.era(m,{width:"abbreviated"});case"GGGGG":return d.era(m,{width:"narrow"});default:return d.era(m,{width:"wide"})}},y:function(r,o,d){if(o==="yo"){const m=r.getFullYear(),b=m>0?m:1-m;return d.ordinalNumber(b,{unit:"year"})}return Vl.y(r,o)},Y:function(r,o,d,m){const b=p0(r,m),T=b>0?b:1-b;if(o==="YY"){const Y=T%100;return gt(Y,2)}return o==="Yo"?d.ordinalNumber(T,{unit:"year"}):gt(T,o.length)},R:function(r,o){const d=r0(r);return gt(d,o.length)},u:function(r,o){const d=r.getFullYear();return gt(d,o.length)},Q:function(r,o,d){const m=Math.ceil((r.getMonth()+1)/3);switch(o){case"Q":return String(m);case"QQ":return gt(m,2);case"Qo":return d.ordinalNumber(m,{unit:"quarter"});case"QQQ":return d.quarter(m,{width:"abbreviated",context:"formatting"});case"QQQQQ":return d.quarter(m,{width:"narrow",context:"formatting"});default:return d.quarter(m,{width:"wide",context:"formatting"})}},q:function(r,o,d){const m=Math.ceil((r.getMonth()+1)/3);switch(o){case"q":return String(m);case"qq":return gt(m,2);case"qo":return d.ordinalNumber(m,{unit:"quarter"});case"qqq":return d.quarter(m,{width:"abbreviated",context:"standalone"});case"qqqqq":return d.quarter(m,{width:"narrow",context:"standalone"});default:return d.quarter(m,{width:"wide",context:"standalone"})}},M:function(r,o,d){const m=r.getMonth();switch(o){case"M":case"MM":return Vl.M(r,o);case"Mo":return d.ordinalNumber(m+1,{unit:"month"});case"MMM":return d.month(m,{width:"abbreviated",context:"formatting"});case"MMMMM":return d.month(m,{width:"narrow",context:"formatting"});default:return d.month(m,{width:"wide",context:"formatting"})}},L:function(r,o,d){const m=r.getMonth();switch(o){case"L":return String(m+1);case"LL":return gt(m+1,2);case"Lo":return d.ordinalNumber(m+1,{unit:"month"});case"LLL":return d.month(m,{width:"abbreviated",context:"standalone"});case"LLLLL":return d.month(m,{width:"narrow",context:"standalone"});default:return d.month(m,{width:"wide",context:"standalone"})}},w:function(r,o,d,m){const b=Ax(r,m);return o==="wo"?d.ordinalNumber(b,{unit:"week"}):gt(b,o.length)},I:function(r,o,d){const m=Cx(r);return o==="Io"?d.ordinalNumber(m,{unit:"week"}):gt(m,o.length)},d:function(r,o,d){return o==="do"?d.ordinalNumber(r.getDate(),{unit:"date"}):Vl.d(r,o)},D:function(r,o,d){const m=Dx(r);return o==="Do"?d.ordinalNumber(m,{unit:"dayOfYear"}):gt(m,o.length)},E:function(r,o,d){const m=r.getDay();switch(o){case"E":case"EE":case"EEE":return d.day(m,{width:"abbreviated",context:"formatting"});case"EEEEE":return d.day(m,{width:"narrow",context:"formatting"});case"EEEEEE":return d.day(m,{width:"short",context:"formatting"});default:return d.day(m,{width:"wide",context:"formatting"})}},e:function(r,o,d,m){const b=r.getDay(),T=(b-m.weekStartsOn+8)%7||7;switch(o){case"e":return String(T);case"ee":return gt(T,2);case"eo":return d.ordinalNumber(T,{unit:"day"});case"eee":return d.day(b,{width:"abbreviated",context:"formatting"});case"eeeee":return d.day(b,{width:"narrow",context:"formatting"});case"eeeeee":return d.day(b,{width:"short",context:"formatting"});default:return d.day(b,{width:"wide",context:"formatting"})}},c:function(r,o,d,m){const b=r.getDay(),T=(b-m.weekStartsOn+8)%7||7;switch(o){case"c":return String(T);case"cc":return gt(T,o.length);case"co":return d.ordinalNumber(T,{unit:"day"});case"ccc":return d.day(b,{width:"abbreviated",context:"standalone"});case"ccccc":return d.day(b,{width:"narrow",context:"standalone"});case"cccccc":return d.day(b,{width:"short",context:"standalone"});default:return d.day(b,{width:"wide",context:"standalone"})}},i:function(r,o,d){const m=r.getDay(),b=m===0?7:m;switch(o){case"i":return String(b);case"ii":return gt(b,o.length);case"io":return d.ordinalNumber(b,{unit:"day"});case"iii":return d.day(m,{width:"abbreviated",context:"formatting"});case"iiiii":return d.day(m,{width:"narrow",context:"formatting"});case"iiiiii":return d.day(m,{width:"short",context:"formatting"});default:return d.day(m,{width:"wide",context:"formatting"})}},a:function(r,o,d){const b=r.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return d.dayPeriod(b,{width:"abbreviated",context:"formatting"});case"aaa":return d.dayPeriod(b,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return d.dayPeriod(b,{width:"narrow",context:"formatting"});default:return d.dayPeriod(b,{width:"wide",context:"formatting"})}},b:function(r,o,d){const m=r.getHours();let b;switch(m===12?b=Ti.noon:m===0?b=Ti.midnight:b=m/12>=1?"pm":"am",o){case"b":case"bb":return d.dayPeriod(b,{width:"abbreviated",context:"formatting"});case"bbb":return d.dayPeriod(b,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return d.dayPeriod(b,{width:"narrow",context:"formatting"});default:return d.dayPeriod(b,{width:"wide",context:"formatting"})}},B:function(r,o,d){const m=r.getHours();let b;switch(m>=17?b=Ti.evening:m>=12?b=Ti.afternoon:m>=4?b=Ti.morning:b=Ti.night,o){case"B":case"BB":case"BBB":return d.dayPeriod(b,{width:"abbreviated",context:"formatting"});case"BBBBB":return d.dayPeriod(b,{width:"narrow",context:"formatting"});default:return d.dayPeriod(b,{width:"wide",context:"formatting"})}},h:function(r,o,d){if(o==="ho"){let m=r.getHours()%12;return m===0&&(m=12),d.ordinalNumber(m,{unit:"hour"})}return Vl.h(r,o)},H:function(r,o,d){return o==="Ho"?d.ordinalNumber(r.getHours(),{unit:"hour"}):Vl.H(r,o)},K:function(r,o,d){const m=r.getHours()%12;return o==="Ko"?d.ordinalNumber(m,{unit:"hour"}):gt(m,o.length)},k:function(r,o,d){let m=r.getHours();return m===0&&(m=24),o==="ko"?d.ordinalNumber(m,{unit:"hour"}):gt(m,o.length)},m:function(r,o,d){return o==="mo"?d.ordinalNumber(r.getMinutes(),{unit:"minute"}):Vl.m(r,o)},s:function(r,o,d){return o==="so"?d.ordinalNumber(r.getSeconds(),{unit:"second"}):Vl.s(r,o)},S:function(r,o){return Vl.S(r,o)},X:function(r,o,d){const m=r.getTimezoneOffset();if(m===0)return"Z";switch(o){case"X":return Np(m);case"XXXX":case"XX":return Es(m);default:return Es(m,":")}},x:function(r,o,d){const m=r.getTimezoneOffset();switch(o){case"x":return Np(m);case"xxxx":case"xx":return Es(m);default:return Es(m,":")}},O:function(r,o,d){const m=r.getTimezoneOffset();switch(o){case"O":case"OO":case"OOO":return"GMT"+wp(m,":");default:return"GMT"+Es(m,":")}},z:function(r,o,d){const m=r.getTimezoneOffset();switch(o){case"z":case"zz":case"zzz":return"GMT"+wp(m,":");default:return"GMT"+Es(m,":")}},t:function(r,o,d){const m=Math.trunc(+r/1e3);return gt(m,o.length)},T:function(r,o,d){return gt(+r,o.length)}};function wp(r,o=""){const d=r>0?"-":"+",m=Math.abs(r),b=Math.trunc(m/60),T=m%60;return T===0?d+String(b):d+String(b)+o+gt(T,2)}function Np(r,o){return r%60===0?(r>0?"-":"+")+gt(Math.abs(r)/60,2):Es(r,o)}function Es(r,o=""){const d=r>0?"-":"+",m=Math.abs(r),b=gt(Math.trunc(m/60),2),T=gt(m%60,2);return d+b+o+T}const Sp=(r,o)=>{switch(r){case"P":return o.date({width:"short"});case"PP":return o.date({width:"medium"});case"PPP":return o.date({width:"long"});default:return o.date({width:"full"})}},y0=(r,o)=>{switch(r){case"p":return o.time({width:"short"});case"pp":return o.time({width:"medium"});case"ppp":return o.time({width:"long"});default:return o.time({width:"full"})}},Ox=(r,o)=>{const d=r.match(/(P+)(p+)?/)||[],m=d[1],b=d[2];if(!b)return Sp(r,o);let T;switch(m){case"P":T=o.dateTime({width:"short"});break;case"PP":T=o.dateTime({width:"medium"});break;case"PPP":T=o.dateTime({width:"long"});break;default:T=o.dateTime({width:"full"});break}return T.replace("{{date}}",Sp(m,o)).replace("{{time}}",y0(b,o))},Mx={p:y0,P:Ox},kx=/^D+$/,zx=/^Y+$/,Bx=["D","DD","YY","YYYY"];function Rx(r){return kx.test(r)}function Ux(r){return zx.test(r)}function qx(r,o,d){const m=Hx(r,o,d);if(console.warn(m),Bx.includes(r))throw new RangeError(m)}function Hx(r,o,d){const m=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${o}\`) for formatting ${m} to the input \`${d}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Yx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Kx=/^'([^]*?)'?$/,Xx=/''/g,Gx=/[a-zA-Z]/;function Dn(r,o,d){const m=bu(),b=d?.locale??m.locale??_x,T=d?.firstWeekContainsDate??d?.locale?.options?.firstWeekContainsDate??m.firstWeekContainsDate??m.locale?.options?.firstWeekContainsDate??1,Y=d?.weekStartsOn??d?.locale?.options?.weekStartsOn??m.weekStartsOn??m.locale?.options?.weekStartsOn??0,L=Jt(r,d?.in);if(!Qg(L))throw new RangeError("Invalid time value");let C=o.match(Lx).map(P=>{const q=P[0];if(q==="p"||q==="P"){const ee=Mx[q];return ee(P,b.formatLong)}return P}).join("").match(Yx).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const q=P[0];if(q==="'")return{isToken:!1,value:Qx(P)};if(jp[q])return{isToken:!0,value:P};if(q.match(Gx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+q+"`");return{isToken:!1,value:P}});b.localize.preprocessor&&(C=b.localize.preprocessor(L,C));const D={firstWeekContainsDate:T,weekStartsOn:Y,locale:b};return C.map(P=>{if(!P.isToken)return P.value;const q=P.value;(!d?.useAdditionalWeekYearTokens&&Ux(q)||!d?.useAdditionalDayOfYearTokens&&Rx(q))&&qx(q,o,String(r));const ee=jp[q[0]];return ee(L,q,b.localize,D)}).join("")}function Qx(r){const o=r.match(Kx);return o?o[1].replace(Xx,"'"):r}function Vx(r,o){return Jt(r,o?.in).getDay()}function Vf(r){return+Jt(r)<Date.now()}function _a(r,o){return o0(xn(r,r),u0(r))}function hu(r,o){return o0(r,i0(u0(r),1),o)}function ia(r,o){const d=()=>xn(o?.in,NaN),b=$x(r);let T;if(b.date){const D=Fx(b.date,2);T=Wx(D.restDateString,D.year)}if(!T||isNaN(+T))return d();const Y=+T;let L=0,C;if(b.time&&(L=Px(b.time),isNaN(L)))return d();if(b.timezone){if(C=eb(b.timezone),isNaN(C))return d()}else{const D=new Date(Y+L),P=Jt(0,o?.in);return P.setFullYear(D.getUTCFullYear(),D.getUTCMonth(),D.getUTCDate()),P.setHours(D.getUTCHours(),D.getUTCMinutes(),D.getUTCSeconds(),D.getUTCMilliseconds()),P}return Jt(Y+L+C,o?.in)}const lu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Zx=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Jx=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ix=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $x(r){const o={},d=r.split(lu.dateTimeDelimiter);let m;if(d.length>2)return o;if(/:/.test(d[0])?m=d[0]:(o.date=d[0],m=d[1],lu.timeZoneDelimiter.test(o.date)&&(o.date=r.split(lu.timeZoneDelimiter)[0],m=r.substr(o.date.length,r.length))),m){const b=lu.timezone.exec(m);b?(o.time=m.replace(b[1],""),o.timezone=b[1]):o.time=m}return o}function Fx(r,o){const d=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+o)+"})|(\\d{2}|[+-]\\d{"+(2+o)+"})$)"),m=r.match(d);if(!m)return{year:NaN,restDateString:""};const b=m[1]?parseInt(m[1]):null,T=m[2]?parseInt(m[2]):null;return{year:T===null?b:T*100,restDateString:r.slice((m[1]||m[2]).length)}}function Wx(r,o){if(o===null)return new Date(NaN);const d=r.match(Zx);if(!d)return new Date(NaN);const m=!!d[4],b=qr(d[1]),T=qr(d[2])-1,Y=qr(d[3]),L=qr(d[4]),C=qr(d[5])-1;if(m)return sb(o,L,C)?tb(o,L,C):new Date(NaN);{const D=new Date(0);return!ab(o,T,Y)||!lb(o,b)?new Date(NaN):(D.setUTCFullYear(o,T,Math.max(b,Y)),D)}}function qr(r){return r?parseInt(r):1}function Px(r){const o=r.match(Jx);if(!o)return NaN;const d=Sf(o[1]),m=Sf(o[2]),b=Sf(o[3]);return ib(d,m,b)?d*s0+m*l0+b*1e3:NaN}function Sf(r){return r&&parseFloat(r.replace(",","."))||0}function eb(r){if(r==="Z")return 0;const o=r.match(Ix);if(!o)return 0;const d=o[1]==="+"?-1:1,m=parseInt(o[2]),b=o[3]&&parseInt(o[3])||0;return rb(m,b)?d*(m*s0+b*l0):NaN}function tb(r,o,d){const m=new Date(0);m.setUTCFullYear(r,0,4);const b=m.getUTCDay()||7,T=(o-1)*7+d+1-b;return m.setUTCDate(m.getUTCDate()+T),m}const nb=[31,null,31,30,31,30,31,31,30,31,30,31];function v0(r){return r%400===0||r%4===0&&r%100!==0}function ab(r,o,d){return o>=0&&o<=11&&d>=1&&d<=(nb[o]||(v0(r)?29:28))}function lb(r,o){return o>=1&&o<=(v0(r)?366:365)}function sb(r,o,d){return o>=1&&o<=53&&d>=0&&d<=6}function ib(r,o,d){return r===24?o===0&&d===0:d>=0&&d<60&&o>=0&&o<60&&r>=0&&r<25}function rb(r,o){return o>=0&&o<=59}function g0(r,o,d){return Qf(r,-1,d)}const cb={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},ub=(r,o,d)=>{let m;const b=cb[r];return typeof b=="string"?m=b:o===1?m=b.one:m=b.other.replace("{{count}}",String(o)),d?.addSuffix?d.comparison&&d.comparison>0?m+"":m+"":m},ob={full:"y''M''d'' EEEE",long:"y''M''d''",medium:"yyyy-MM-dd",short:"yy-MM-dd"},fb={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},db={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},mb={date:Ci({formats:ob,defaultWidth:"full"}),time:Ci({formats:fb,defaultWidth:"full"}),dateTime:Ci({formats:db,defaultWidth:"full"})},hb={lastWeek:"''eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"''eeee p",other:"P"},pb=(r,o,d,m)=>hb[r],yb={narrow:["",""],abbreviated:["",""],wide:["",""]},vb={narrow:["1","2","3","4"],abbreviated:["","","",""],wide:["","","",""]},gb={narrow:["","","","","","","","","","","",""],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["","","","","","","","","","","",""]},xb={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},bb={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},jb={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},wb=(r,o)=>{const d=Number(r);switch(o?.unit){case"date":return d+"";case"hour":return d+"";case"minute":return d+"";case"second":return d+"";default:return" "+d}},Nb={ordinalNumber:wb,era:Sa({values:yb,defaultWidth:"wide"}),quarter:Sa({values:vb,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Sa({values:gb,defaultWidth:"wide"}),day:Sa({values:xb,defaultWidth:"wide"}),dayPeriod:Sa({values:bb,defaultWidth:"wide",formattingValues:jb,defaultFormattingWidth:"wide"})},Sb=/^(\s*)?\d+(|||)?/i,Tb=/\d+/i,_b={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},Db={any:[/^()/i,/^()/i]},Cb={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},Eb={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},Ab={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},Ob={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},Mb={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},kb={any:[//i,//i,//i,//i,//i,//i,//i]},zb={any:/^(?|?||[]|?||?|)/i},Bb={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},Rb={ordinalNumber:h0({matchPattern:Sb,parsePattern:Tb,valueCallback:r=>parseInt(r,10)}),era:Ta({matchPatterns:_b,defaultMatchWidth:"wide",parsePatterns:Db,defaultParseWidth:"any"}),quarter:Ta({matchPatterns:Cb,defaultMatchWidth:"wide",parsePatterns:Eb,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Ta({matchPatterns:Ab,defaultMatchWidth:"wide",parsePatterns:Ob,defaultParseWidth:"any"}),day:Ta({matchPatterns:Mb,defaultMatchWidth:"wide",parsePatterns:kb,defaultParseWidth:"any"}),dayPeriod:Ta({matchPatterns:zb,defaultMatchWidth:"any",parsePatterns:Bb,defaultParseWidth:"any"})},la={code:"zh-TW",formatDistance:ub,formatLong:mb,formatRelative:pb,localize:Nb,match:Rb,options:{weekStartsOn:1,firstWeekContainsDate:4}},Tp=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500","bg-teal-500","bg-red-500","bg-indigo-500","bg-yellow-500","bg-cyan-500"];function _p(){const[r,o]=U.useState({activePatients:0,pendingEvents:0,overdueEvents:0,todayEvents:0,weekWorkItems:0}),[d,m]=U.useState([]),[b,T]=U.useState([]),[Y,L]=U.useState([]),[C,D]=U.useState(!0),[P,q]=U.useState(!1),[ee,ue]=U.useState("overview"),oe=Ca(w=>w.lastBackupDate),{setCurrentPage:de}=Oi();U.useEffect(()=>{_e()},[]);const _e=async()=>{try{const w=new Date().toISOString().split("T")[0],[ge,ve,fe,ce,He,Fe]=await Promise.all([H.patients.where("status").equals("active").count(),H.events.where("isCompleted").equals(0).toArray(),Of(),H.cancerTypes.toArray(),H.patients.toArray(),Yg()]);let nt=0,st=0;ve.forEach(me=>{me.dueDate&&me.dueDate===w&&st++,nt++}),o({activePatients:ge,pendingEvents:nt,overdueEvents:fe.length,todayEvents:st,weekWorkItems:Fe.length}),T(fe.slice(0,5)),L(Fe.slice(0,5));const te={};He.forEach(me=>{me.cancerTypeId&&(te[me.cancerTypeId]=(te[me.cancerTypeId]||0)+1)});const xe=ce.filter(me=>te[me.id]).map((me,De)=>({name:me.name,code:me.code,count:te[me.id]||0,color:Tp[De%Tp.length]})).sort((me,De)=>De.count-me.count);m(xe)}catch(w){console.error(":",w),we.error("")}finally{D(!1)}},be=async()=>{q(!0);try{const w=await Hf();we.success(`${w}`),Ca.getState().setLastBackupDate(new Date().toISOString().split("T")[0])}catch(w){we.error(`${w.message}`)}finally{q(!1)}},Ae=()=>{if(!oe)return"";try{const w=ia(oe);return _a(w)?"":Dn(w,"MM/dd (EEEE)",{locale:la})}catch{return oe}};return C?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):l.jsxs("div",{className:"p-3 md:p-6 space-y-3 md:space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:Wp,alt:"Logo",className:"w-10 h-10 rounded-lg md:hidden"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsx("h1",{className:"text-base md:text-2xl font-bold text-slate-800",children:Up}),l.jsxs("span",{className:"text-xs text-slate-400",children:["V",gu]})]}),l.jsx("p",{className:"text-xs text-slate-500",children:Dn(new Date,"MM/dd EEEE",{locale:la})})]})]}),l.jsxs("div",{className:"flex gap-1 border-b border-slate-200",children:[l.jsx("button",{onClick:()=>ue("overview"),className:`px-3 py-1.5 text-sm font-medium border-b-2 transition-colors ${ee==="overview"?"border-primary-500 text-primary-600":"border-transparent text-slate-500"}`,children:""}),l.jsxs("button",{onClick:()=>ue("stats"),className:`px-3 py-1.5 text-sm font-medium border-b-2 transition-colors flex items-center gap-1 ${ee==="stats"?"border-primary-500 text-primary-600":"border-transparent text-slate-500"}`,children:[l.jsx(dp,{className:"w-4 h-4"}),""]})]}),ee==="overview"?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`card !p-3 ${!oe||oe!==new Date().toISOString().split("T")[0]?"border-amber-300 bg-amber-50":"border-green-300 bg-green-50"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[oe===new Date().toISOString().split("T")[0]?l.jsx(Zl,{className:"w-5 h-5 text-green-600"}):l.jsx(Da,{className:"w-5 h-5 text-amber-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-800",children:""}),l.jsx("p",{className:"text-xs text-slate-600",children:Ae()})]})]}),l.jsxs("button",{onClick:be,disabled:P,className:"btn-primary text-sm py-1.5 px-3 flex items-center gap-1",children:[l.jsx(ou,{className:"w-4 h-4"}),P?"...":Ei()?"":""]})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 md:grid-cols-4 md:gap-4",children:[l.jsx(su,{icon:Gf,label:"",value:r.activePatients,color:"blue",onClick:()=>de("patients")}),l.jsx(su,{icon:il,label:"",value:r.todayEvents,color:"green",onClick:()=>de("events")}),l.jsx(su,{icon:Da,label:"",value:r.overdueEvents,color:"red",onClick:()=>de("events")}),l.jsx(su,{icon:As,label:"",value:r.weekWorkItems,color:"primary",onClick:()=>de("work")})]}),l.jsxs("div",{className:"card !p-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("h3",{className:"text-sm font-semibold text-slate-800 flex items-center gap-1",children:[l.jsx(Da,{className:"w-4 h-4 text-red-500"}),""]}),r.overdueEvents>0&&l.jsxs("button",{onClick:()=>de("events"),className:"text-xs text-primary-500 hover:underline flex items-center",children:[" ",l.jsx(Ai,{className:"w-3 h-3"})]})]}),b.length===0?l.jsxs("div",{className:"text-center py-3 text-slate-500",children:[l.jsx(Zl,{className:"w-8 h-8 mx-auto mb-1 text-green-500"}),l.jsx("p",{className:"text-sm",children:" "})]}):l.jsxs("div",{className:"space-y-1.5",children:[b.map(w=>l.jsx(qb,{event:w},w.id)),r.overdueEvents>5&&l.jsxs("p",{className:"text-center text-xs text-slate-400 pt-1",children:[" ",r.overdueEvents-5," ..."]})]})]}),l.jsxs("div",{className:"card !p-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("h3",{className:"text-sm font-semibold text-slate-800 flex items-center gap-1",children:[l.jsx(As,{className:"w-4 h-4 text-primary-500"}),""]}),r.weekWorkItems>0&&l.jsxs("button",{onClick:()=>de("work"),className:"text-xs text-primary-500 hover:underline flex items-center",children:[" ",l.jsx(Ai,{className:"w-3 h-3"})]})]}),Y.length===0?l.jsxs("div",{className:"text-center py-4 text-slate-500",children:[l.jsx(Zl,{className:"w-8 h-8 mx-auto mb-1 text-green-500"}),l.jsx("p",{className:"text-sm",children:""})]}):l.jsxs("div",{className:"space-y-1.5",children:[Y.map(w=>l.jsx("div",{className:"flex items-center gap-2 p-2 bg-slate-50 rounded-lg",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:w.title}),l.jsxs("p",{className:"text-xs text-slate-500",children:[Dn(ia(w.scheduledDate),"MM/dd (EEE)",{locale:la}),w.scheduledTime&&` ${w.scheduledTime}`]})]})},w.id)),r.weekWorkItems>5&&l.jsxs("p",{className:"text-center text-xs text-slate-400 pt-1",children:[" ",r.weekWorkItems-5," ..."]})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"card",children:[l.jsxs("h3",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx(dp,{className:"w-5 h-5 text-primary-500"}),""]}),d.length===0?l.jsx("p",{className:"text-center py-8 text-slate-400",children:""}):l.jsx("div",{className:"space-y-3",children:d.map(w=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${w.color}`}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",children:w.name}),l.jsxs("span",{className:"text-sm text-slate-500",children:[w.count," "]})]}),l.jsx("div",{className:"mt-1 h-2 bg-slate-100 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${w.color} rounded-full transition-all`,style:{width:`${r.activePatients>0?w.count/r.activePatients*100:0}%`}})})]})]},w.code))})]}),l.jsxs("div",{className:"card",children:[l.jsxs("h3",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx(il,{className:"w-5 h-5 text-primary-500"}),""]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg",children:[l.jsx("p",{className:"text-3xl font-bold text-slate-800",children:r.pendingEvents}),l.jsx("p",{className:"text-sm text-slate-500",children:""})]}),l.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg",children:[l.jsx("p",{className:"text-3xl font-bold text-red-600",children:r.overdueEvents}),l.jsx("p",{className:"text-sm text-slate-500",children:""})]})]})]})]})]})}const Ub={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",primary:"bg-primary-100 text-primary-600",red:"bg-red-100 text-red-600"};function su({icon:r,label:o,value:d,color:m,onClick:b}){return l.jsxs("div",{className:`card !p-3 ${b?"cursor-pointer hover:shadow-md transition-shadow":""}`,onClick:b,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`inline-flex p-1.5 rounded-lg ${Ub[m]}`,children:l.jsx(r,{className:"w-4 h-4"})}),l.jsx("p",{className:"text-xl font-bold text-slate-800",children:d})]}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:o})]})}function qb({event:r}){const o=Bf[r.eventType]||r.eventType,d=Math.floor((new Date().getTime()-new Date(r.dueDate).getTime())/(1e3*60*60*24));return l.jsxs("div",{className:"flex items-center gap-3 p-2 bg-red-50 rounded-lg",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:r.title}),l.jsx("p",{className:"text-xs text-slate-500",children:o})]}),l.jsxs("span",{className:"text-xs text-red-600 font-medium whitespace-nowrap",children:[" ",d," "]})]})}async function x0(r){let o=H.patients.toCollection();r?.status&&r.status!=="all"&&(o=H.patients.where("status").equals(r.status));let d=await o.toArray();if(r?.cancerTypeId&&(d=d.filter(m=>m.cancerTypeId===r.cancerTypeId)),r?.search){const m=r.search.toLowerCase();d=d.filter(b=>b.mrn.toLowerCase().includes(m)||b.name.toLowerCase().includes(m))}return d.sort((m,b)=>(b.updatedAt||"").localeCompare(m.updatedAt||"")),d}async function Hb(r){return H.patients.get(r)}async function b0(r){return H.patients.where("mrn").equals(r).first()}async function Yb(r){if(await b0(r.mrn))throw new Error(` ${r.mrn} `);const d=rl();return await H.patients.add({mrn:r.mrn,name:r.name,sex:r.sex,birthDate:r.birthDate,cancerTypeId:r.cancerTypeId,physicianIds:r.physicianIds||[],status:r.status||"active",createdAt:d,updatedAt:d})}async function Lb(r,o){if(o.mrn){const m=await b0(o.mrn);if(m&&m.id!==r)throw new Error(` ${o.mrn} `)}return await H.patients.update(r,{...o,updatedAt:rl()})>0}async function Kb(r){return await H.events.where("patientId").equals(r).delete(),await H.patientPhysicians.where("patientId").equals(r).delete(),await H.patients.delete(r),!0}async function Zf(r){return H.events.where("patientId").equals(r).toArray()}async function Xb(r){const o=await Zf(r);return{total:o.length,pending:o.filter(d=>!d.isCompleted).length,completed:o.filter(d=>d.isCompleted).length}}async function Jf(r=!1){let o=await H.cancerTypes.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.sortOrder-m.sortOrder)}async function Gb(r){return H.cancerTypes.get(r)}async function Qb(r){const o=await ki("cancerTypes");return H.cancerTypes.add({...r,sortOrder:r.sortOrder??o+10,isActive:!0})}async function Dp(r,o){return await H.cancerTypes.update(r,o)>0}async function Vb(r){return await H.cancerTypes.delete(r),!0}async function Zb(r){await H.transaction("rw",H.cancerTypes,async()=>{for(let o=0;o<r.length;o++)await H.cancerTypes.update(r[o],{sortOrder:(o+1)*10})})}async function wu(r=!1){let o=await H.departments.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.sortOrder-m.sortOrder)}async function Jb(r){const o=await ki("departments");return H.departments.add({...r,sortOrder:r.sortOrder??o+10,isActive:!0})}async function Ib(r,o){return await H.departments.update(r,o)>0}async function $b(r){if(await H.physicians.where("departmentId").equals(r).count()>0)throw new Error("");return await H.departments.delete(r),!0}async function Fb(r){await H.transaction("rw",H.departments,async()=>{for(let o=0;o<r.length;o++)await H.departments.update(r[o],{sortOrder:(o+1)*10})})}async function Wb(r=!1){let o=await H.physicians.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.name.localeCompare(m.name))}async function pu(r,o=!1){let d=await H.physicians.where("departmentId").equals(r).toArray();return o||(d=d.filter(m=>m.isActive)),d.sort((m,b)=>m.name.localeCompare(b.name))}async function Pb(r){return H.physicians.add({...r,isActive:!0})}async function Cp(r,o){return await H.physicians.update(r,o)>0}async function e1(r){return await H.physicians.delete(r),!0}async function t1(r=!1){let o=await H.imagingTypes.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.sortOrder-m.sortOrder)}async function n1(r){const o=await ki("imagingTypes");return H.imagingTypes.add({...r,sortOrder:r.sortOrder??o+10,isActive:!0})}async function Ep(r,o){return await H.imagingTypes.update(r,o)>0}async function a1(r){return await H.imagingTypes.delete(r),!0}async function l1(r){await H.transaction("rw",H.imagingTypes,async()=>{for(let o=0;o<r.length;o++)await H.imagingTypes.update(r[o],{sortOrder:(o+1)*10})})}async function If(r=!1){let o=await H.eventTypes.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.sortOrder-m.sortOrder)}async function s1(r){const o=await ki("eventTypes");return H.eventTypes.add({...r,sortOrder:r.sortOrder??o+10,isActive:!0})}async function Ap(r,o){return await H.eventTypes.update(r,o)>0}async function i1(r){return await H.eventTypes.delete(r),!0}async function r1(r){await H.transaction("rw",H.eventTypes,async()=>{for(let o=0;o<r.length;o++)await H.eventTypes.update(r[o],{sortOrder:(o+1)*10})})}async function j0(r=!1){let o=await H.meetingTypes.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.sortOrder-m.sortOrder)}async function c1(r){const o=await ki("meetingTypes");return H.meetingTypes.add({...r,sortOrder:r.sortOrder??o+10,isActive:!0})}async function Op(r,o){return await H.meetingTypes.update(r,o)>0}async function u1(r){return await H.meetingTypes.delete(r),!0}async function o1(r){await H.transaction("rw",H.meetingTypes,async()=>{for(let o=0;o<r.length;o++)await H.meetingTypes.update(r[o],{sortOrder:(o+1)*10})})}async function w0(r=!1){let o=await H.meetingLocations.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.sortOrder-m.sortOrder)}async function f1(r){const o=await ki("meetingLocations");return H.meetingLocations.add({...r,sortOrder:r.sortOrder??o+10,isActive:!0})}async function Mp(r,o){return await H.meetingLocations.update(r,o)>0}async function d1(r){return await H.meetingLocations.delete(r),!0}async function m1(r){await H.transaction("rw",H.meetingLocations,async()=>{for(let o=0;o<r.length;o++)await H.meetingLocations.update(r[o],{sortOrder:(o+1)*10})})}async function ki(r){const o=await H[r].toArray();return o.length===0?0:Math.max(...o.map(d=>d.sortOrder||0))}function kp({patient:r,onClose:o,onSuccess:d}){const m=!!r,[b,T]=U.useState([]),[Y,L]=U.useState([]),[C,D]=U.useState({}),[P,q]=U.useState(!1),[ee,ue]=U.useState(r?.mrn||""),[oe,de]=U.useState(r?.name||""),[_e,be]=U.useState(r?.sex||""),[Ae,w]=U.useState(r?.birthDate||""),[ge,ve]=U.useState(r?.cancerTypeId),[fe,ce]=U.useState([]),[He,Fe]=U.useState(r?.status||"active"),[nt,st]=U.useState({});U.useEffect(()=>{te()},[]);const te=async()=>{const[ie,N]=await Promise.all([Jf(),wu()]);if(T(ie),L(N),r?.physicianIds&&r.physicianIds.length>0){const X=[];for(const je of r.physicianIds)for(const Ne of N){const Xe=await pu(Ne.id);if(Xe.find(Ve=>Ve.id===je)){C[Ne.id]||D(Ve=>({...Ve,[Ne.id]:Xe})),X.push({departmentId:Ne.id,physicianId:je});break}}ce(X)}},xe=async(ie,N)=>{const X=[...fe];if(X[ie]={departmentId:N,physicianId:null},ce(X),N&&!C[N]){const je=await pu(N);D(Ne=>({...Ne,[N]:je}))}},me=(ie,N)=>{const X=[...fe];X[ie]={...X[ie],physicianId:N},ce(X)},De=()=>{if(fe.length>=4){we.warning(" 4 ");return}ce([...fe,{departmentId:null,physicianId:null}])},_=ie=>{ce(fe.filter((N,X)=>X!==ie))},se=()=>{const ie={};return ee.trim()||(ie.mrn=""),oe.trim()||(ie.name=""),st(ie),Object.keys(ie).length===0},F=async ie=>{if(ie.preventDefault(),!se())return;q(!0);const N=fe.filter(X=>X.physicianId).map(X=>X.physicianId);try{m&&r?.id?(await Lb(r.id,{mrn:ee.trim(),name:oe.trim(),sex:_e,birthDate:Ae||void 0,cancerTypeId:ge,physicianIds:N,status:He}),we.success("")):(await Yb({mrn:ee.trim(),name:oe.trim(),sex:_e,birthDate:Ae||void 0,cancerTypeId:ge,physicianIds:N,status:He}),we.success("")),d(),o()}catch(X){we.error(X.message||"")}finally{q(!1)}},ze=(ie,N)=>{const X=C[ie]||[],je=fe.filter((Ne,Xe)=>Xe!==N).map(Ne=>Ne.physicianId).filter(Boolean);return X.filter(Ne=>!je.includes(Ne.id))};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-xl max-h-[90vh] overflow-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 sticky top-0 bg-white",children:[l.jsx("h2",{className:"text-lg font-bold text-slate-800",children:m?"":""}),l.jsx("button",{onClick:o,className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Rt,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:F,className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:ee,onChange:ie=>ue(ie.target.value),className:`input ${nt.mrn?"border-red-500":""}`,placeholder:"",autoFocus:!0}),nt.mrn&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:nt.mrn})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:oe,onChange:ie=>de(ie.target.value),className:`input ${nt.name?"border-red-500":""}`,placeholder:""}),nt.name&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:nt.name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("div",{className:"flex gap-4",children:[{value:"M",label:""},{value:"F",label:""}].map(ie=>l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"sex",value:ie.value,checked:_e===ie.value,onChange:N=>be(N.target.value),className:"w-4 h-4 text-primary-500"}),l.jsx("span",{children:ie.label})]},ie.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("input",{type:"date",value:Ae,onChange:ie=>w(ie.target.value),className:"input",max:new Date().toISOString().split("T")[0]}),Ae&&l.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["",Math.floor((new Date().getTime()-new Date(Ae).getTime())/(365.25*24*60*60*1e3))," "]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsxs("select",{value:ge||"",onChange:ie=>ve(ie.target.value?Number(ie.target.value):void 0),className:"input",children:[l.jsx("option",{value:"",children:"--  --"}),b.map(ie=>l.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"label mb-0",children:""}),fe.length<4&&l.jsxs("button",{type:"button",onClick:De,className:"text-sm text-primary-500 hover:text-primary-600 flex items-center gap-1",children:[l.jsx(sa,{className:"w-4 h-4"})," "]})]}),fe.length===0?l.jsx("button",{type:"button",onClick:De,className:"w-full py-2 border-2 border-dashed border-slate-300 rounded-lg text-slate-500 hover:border-primary-500 hover:text-primary-500 transition-colors",children:"+ "}):l.jsx("div",{className:"space-y-2",children:fe.map((ie,N)=>l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("button",{type:"button",onClick:()=>{if(N===0)return;const X=[...fe];[X[N-1],X[N]]=[X[N],X[N-1]],ce(X)},disabled:N===0,className:"p-0.5 hover:bg-slate-100 rounded disabled:opacity-30",children:l.jsx(Lf,{className:"w-3 h-3 text-slate-400"})}),l.jsx("button",{type:"button",onClick:()=>{if(N===fe.length-1)return;const X=[...fe];[X[N],X[N+1]]=[X[N+1],X[N]],ce(X)},disabled:N===fe.length-1,className:"p-0.5 hover:bg-slate-100 rounded disabled:opacity-30",children:l.jsx(Lr,{className:"w-3 h-3 text-slate-400"})})]}),l.jsxs("select",{value:ie.departmentId||"",onChange:X=>xe(N,X.target.value?Number(X.target.value):null),className:"input flex-1",children:[l.jsx("option",{value:"",children:"--  --"}),Y.map(X=>l.jsx("option",{value:X.id,children:X.name},X.id))]}),l.jsxs("select",{value:ie.physicianId||"",onChange:X=>me(N,X.target.value?Number(X.target.value):null),className:"input flex-1",disabled:!ie.departmentId,children:[l.jsx("option",{value:"",children:"--  --"}),ie.departmentId&&ze(ie.departmentId,N).map(X=>l.jsx("option",{value:X.id,children:X.name},X.id))]}),l.jsx("button",{type:"button",onClick:()=>_(N),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:l.jsx(qn,{className:"w-5 h-5"})})]},N))}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" 4   "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsxs("select",{value:He,onChange:ie=>Fe(ie.target.value),className:"input",children:[l.jsx("option",{value:"active",children:""}),l.jsx("option",{value:"inactive",children:""}),l.jsx("option",{value:"deceased",children:""})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:o,className:"flex-1 btn-secondary",disabled:P,children:""}),l.jsx("button",{type:"submit",className:"flex-1 btn-primary",disabled:P,children:P?"...":""})]})]})]})})}function Mf({event:r,patientId:o,onClose:d,onSuccess:m}){const b=!!r,[T,Y]=U.useState([]),[L,C]=U.useState([]),[D,P]=U.useState(!1),[q,ee]=U.useState(r?.patientId||o),[ue,oe]=U.useState(r?.eventType||""),[de,_e]=U.useState(r?.title||""),[be,Ae]=U.useState(r?.eventDate||new Date().toISOString().split("T")[0]),[w,ge]=U.useState(r?.dueDate||""),[ve,fe]=U.useState(r?.note||""),[ce,He]=U.useState({});U.useEffect(()=>{Fe()},[]),U.useEffect(()=>{if(!b&&ue){const te=L.find(xe=>xe.code===ue);te&&!de&&_e(te.name)}},[ue,L,b]);const Fe=async()=>{const[te,xe]=await Promise.all([x0({status:"active"}),If()]);Y(te),C(xe),!r&&xe.length>0&&!ue&&oe(xe[0].code)},nt=()=>{const te={};return q||(te.patientId=""),ue||(te.eventType=""),de.trim()||(te.title=""),He(te),Object.keys(te).length===0},st=async te=>{if(te.preventDefault(),!!nt()){P(!0);try{b&&r?.id?(await kg(r.id,{eventType:ue,title:de.trim(),eventDate:be,dueDate:w||void 0,note:ve.trim()}),we.success("")):(await Pp({patientId:q,eventType:ue,title:de.trim(),eventDate:be,dueDate:w||void 0,note:ve.trim()}),we.success("")),m(),d()}catch(xe){we.error(xe.message||"")}finally{P(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-xl max-h-[90vh] overflow-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 sticky top-0 bg-white",children:[l.jsx("h2",{className:"text-lg font-bold text-slate-800",children:b?"":""}),l.jsx("button",{onClick:d,className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Rt,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:st,className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:q||"",onChange:te=>ee(te.target.value?Number(te.target.value):void 0),className:`input ${ce.patientId?"border-red-500":""}`,disabled:!!o||b,children:[l.jsx("option",{value:"",children:"--  --"}),T.map(te=>l.jsxs("option",{value:te.id,children:[te.name," (",te.mrn,")"]},te.id))]}),ce.patientId&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:ce.patientId})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:ue,onChange:te=>{const xe=te.target.value;oe(xe);const me=L.find(_=>_.code===xe),De=L.find(_=>_.code===ue);(!de||De&&de===De.name)&&_e(me?.name||"")},className:`input ${ce.eventType?"border-red-500":""}`,children:[l.jsx("option",{value:"",children:"--  --"}),L.map(te=>l.jsx("option",{value:te.code,children:te.name},te.code))]}),ce.eventType&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:ce.eventType})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:de,onChange:te=>_e(te.target.value),className:`input ${ce.title?"border-red-500":""}`,placeholder:""}),ce.title&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:ce.title})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("input",{type:"date",value:be,onChange:te=>Ae(te.target.value),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("input",{type:"date",value:w,onChange:te=>ge(te.target.value),className:"input"}),l.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[l.jsx("button",{type:"button",onClick:()=>ge(be),disabled:!be,className:"px-2 py-1 text-xs bg-slate-100 hover:bg-slate-200 rounded disabled:opacity-50",children:""}),l.jsx("button",{type:"button",onClick:()=>{if(!be)return;const te=new Date(be);te.setDate(te.getDate()-1),ge(te.toISOString().split("T")[0])},disabled:!be,className:"px-2 py-1 text-xs bg-slate-100 hover:bg-slate-200 rounded disabled:opacity-50",children:""}),l.jsx("button",{type:"button",onClick:()=>{if(!be)return;const te=new Date(be);te.setDate(te.getDate()-7),ge(te.toISOString().split("T")[0])},disabled:!be,className:"px-2 py-1 text-xs bg-slate-100 hover:bg-slate-200 rounded disabled:opacity-50",children:""}),l.jsx("button",{type:"button",onClick:()=>{if(!be)return;const te=new Date(be);te.setDate(te.getDate()+7),ge(te.toISOString().split("T")[0])},disabled:!be,className:"px-2 py-1 text-xs bg-slate-100 hover:bg-slate-200 rounded disabled:opacity-50",children:""})]}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:""})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("textarea",{value:ve,onChange:te=>fe(te.target.value),className:"input min-h-[80px] resize-none",placeholder:"..."})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:d,className:"flex-1 btn-secondary",disabled:D,children:""}),l.jsx("button",{type:"submit",className:"flex-1 btn-primary",disabled:D,children:D?"...":""})]})]})]})})}function h1({patientId:r,patientName:o,onClose:d,onSuccess:m}){const[b,T]=U.useState([]),[Y,L]=U.useState([]),[C,D]=U.useState(!1),[P,q]=U.useState(""),[ee,ue]=U.useState(new Date().toISOString().split("T")[0]),[oe,de]=U.useState(6),[_e,be]=U.useState(21),[Ae,w]=U.useState(null),[ge,ve]=U.useState(),[fe,ce]=U.useState(""),[He,Fe]=U.useState({});U.useEffect(()=>{nt()},[]);const nt=async()=>{const _=await wu();T(_)},st=async _=>{if(w(_),ve(void 0),_){const se=await pu(_);L(se)}else L([])},te=()=>{const _=[],se=new Date(ee);for(let F=0;F<Math.min(oe,12);F++){const ze=i0(se,F*_e);_.push(Dn(ze,"MM/dd (EEE)",{locale:la}))}return _},xe=()=>{const _={};return P.trim()||(_.regimen=""),ee||(_.startDate=""),(oe<1||oe>20)&&(_.cycleCount=" 1-20 "),(_e<1||_e>90)&&(_.intervalDays=" 1-90 "),Fe(_),Object.keys(_).length===0},me=async _=>{if(_.preventDefault(),!!xe()){D(!0);try{const se=await Bg({patientId:r,startDate:ee,cycleCount:oe,intervalDays:_e,regimen:P.trim(),mainPhysicianId:ge,note:fe.trim()||void 0});we.success(` ${se.length} `),m(),d()}catch(se){we.error(se.message||"")}finally{D(!1)}}},De=te();return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-xl max-h-[90vh] overflow-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 sticky top-0 bg-white",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-bold text-slate-800",children:""}),l.jsx("p",{className:"text-sm text-slate-500",children:o})]}),l.jsx("button",{onClick:d,className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Rt,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:me,className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:P,onChange:_=>q(_.target.value),className:`input ${He.regimen?"border-red-500":""}`,placeholder:"FOLFOXEC-TXELOX",autoFocus:!0}),He.regimen&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:He.regimen})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"date",value:ee,onChange:_=>ue(_.target.value),className:`input ${He.startDate?"border-red-500":""}`}),He.startDate&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:He.startDate})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",value:oe,onChange:_=>de(parseInt(_.target.value)||1),min:1,max:20,className:`input ${He.cycleCount?"border-red-500":""}`}),He.cycleCount&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:He.cycleCount})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",value:_e,onChange:_=>be(parseInt(_.target.value)||1),min:1,max:90,className:`input ${He.intervalDays?"border-red-500":""}`}),He.intervalDays&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:He.intervalDays})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("div",{className:"flex gap-2 flex-wrap",children:[{label:"",days:7},{label:"",days:14},{label:"",days:21},{label:"",days:28}].map(_=>l.jsx("button",{type:"button",onClick:()=>be(_.days),className:`px-3 py-1 text-sm rounded-full border transition-colors ${_e===_.days?"bg-primary-500 text-white border-primary-500":"border-slate-300 hover:border-primary-500"}`,children:_.label},_.days))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("select",{value:Ae||"",onChange:_=>st(_.target.value?Number(_.target.value):null),className:"input flex-1",children:[l.jsx("option",{value:"",children:"--  --"}),b.map(_=>l.jsx("option",{value:_.id,children:_.name},_.id))]}),l.jsxs("select",{value:ge||"",onChange:_=>ve(_.target.value?Number(_.target.value):void 0),className:"input flex-1",disabled:!Ae,children:[l.jsx("option",{value:"",children:"--  --"}),Y.map(_=>l.jsx("option",{value:_.id,children:_.name},_.id))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("textarea",{value:fe,onChange:_=>ce(_.target.value),className:"input min-h-[60px] resize-none",placeholder:"..."})]}),l.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(il,{className:"w-4 h-4 text-primary-500"}),l.jsx("span",{className:"font-medium text-slate-700",children:""})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[De.map((_,se)=>l.jsxs("span",{className:"text-xs bg-white px-2 py-1 rounded border border-slate-200",children:["C",se+1,": ",_]},se)),oe>12&&l.jsxs("span",{className:"text-xs text-slate-400",children:["... ",oe-12," "]})]})]}),l.jsxs("div",{className:"flex items-start gap-2 text-sm text-amber-700 bg-amber-50 rounded-lg p-3",children:[l.jsx(Hv,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),l.jsxs("p",{children:[" ",oe,"  ",_e," "]})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx("button",{type:"button",onClick:d,className:"flex-1 btn-secondary",disabled:C,children:""}),l.jsx("button",{type:"submit",className:"flex-1 btn-primary",disabled:C,children:C?"...":` ${oe} `})]})]})]})})}const p1={active:"",inactive:"",deceased:""},y1={active:"bg-green-100 text-green-800",inactive:"bg-slate-100 text-slate-600",deceased:"bg-red-100 text-red-800"},zp={chemo:"bg-purple-100 text-purple-700",rt:"bg-blue-100 text-blue-700",surgery:"bg-red-100 text-red-700",mdt:"bg-orange-100 text-orange-700",fu:"bg-teal-100 text-teal-700",default:"bg-slate-100 text-slate-700"};function v1({patient:r,onClose:o,onEdit:d}){const[m,b]=U.useState("-"),[T,Y]=U.useState({total:0,pending:0,completed:0}),[L,C]=U.useState([]),[D,P]=U.useState(!0),[q,ee]=U.useState(!1),[ue,oe]=U.useState(!1),[de,_e]=U.useState(null),[be,Ae]=U.useState(!1),{markDataChanged:w}=Ca(),ge=U.useMemo(()=>{const xe=L.filter(De=>!De.isCompleted).sort((De,_)=>(De.dueDate||De.eventDate||"").localeCompare(_.dueDate||_.eventDate||"")),me=L.filter(De=>De.isCompleted).sort((De,_)=>(_.dueDate||_.eventDate||"").localeCompare(De.dueDate||De.eventDate||""));return[...xe,...me]},[L]),ve=be?ge:ge.slice(0,3),fe=ge.length>3;U.useEffect(()=>{ce()},[r]);const ce=async()=>{try{if(r.cancerTypeId){const xe=await Gb(r.cancerTypeId);xe&&b(xe.name)}if(r.id){const[xe,me]=await Promise.all([Xb(r.id),Zf(r.id)]);Y(xe);const De=me.sort((_,se)=>_.isCompleted!==se.isCompleted?_.isCompleted?1:-1:(_.dueDate||"").localeCompare(se.dueDate||""));C(De)}}catch(xe){console.error(":",xe)}finally{P(!1)}},He=async xe=>{try{await t0(xe.id),we.success(xe.isCompleted?"":""),w(),ce()}catch{we.error("")}},Fe=async xe=>{if(confirm(`${xe.title}`))try{await e0(xe.id),we.success(""),w(),ce()}catch{we.error("")}},nt=()=>{w(),ce()},st=xe=>{if(!xe)return"";try{const me=ia(xe);return _a(me)?"":Dn(me,"MM/dd",{locale:la})}catch{return xe}},te=(xe,me)=>{if(me)return"text-slate-400";if(!xe)return"text-slate-500";try{const De=ia(xe);return _a(De)?"text-primary-600 font-semibold":Vf(De)?"text-red-600 font-semibold":"text-slate-600"}catch{return"text-slate-500"}};return l.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:[l.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-xl max-h-[90vh] overflow-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 sticky top-0 bg-white z-10",children:[l.jsx("h2",{className:"text-lg font-bold text-slate-800",children:""}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-lg text-primary-500",children:l.jsx(Fn,{className:"w-5 h-5"})}),l.jsx("button",{onClick:o,className:"p-2 hover:bg-slate-100 rounded-lg",children:l.jsx(Rt,{className:"w-5 h-5"})})]})]}),D?l.jsx("div",{className:"flex items-center justify-center h-48",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center",children:l.jsx(Xf,{className:"w-8 h-8 text-primary-600"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800",children:r.name}),l.jsx("span",{className:`badge ${y1[r.status]}`,children:p1[r.status]})]}),l.jsx("p",{className:"text-slate-500",children:r.mrn})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(Tf,{label:"",value:r.sex==="M"?"":r.sex==="F"?"":"-"}),l.jsx(Tf,{label:"",value:r.birthDate?`${Math.floor((new Date().getTime()-new Date(r.birthDate).getTime())/(365.25*24*60*60*1e3))} `:"-"}),l.jsx(Tf,{label:"",value:m})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsx(_f,{label:"",value:T.total,color:"blue"}),l.jsx(_f,{label:"",value:T.pending,color:"amber"}),l.jsx(_f,{label:"",value:T.completed,color:"green"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h4",{className:"font-semibold text-slate-700 flex items-center gap-2",children:[l.jsx(il,{className:"w-5 h-5"}),""]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>oe(!0),className:"btn-secondary text-sm py-1.5 px-3 flex items-center gap-1",title:"",children:[l.jsx(fg,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:""})]}),l.jsxs("button",{onClick:()=>ee(!0),className:"btn-primary text-sm py-1.5 px-3 flex items-center gap-1",children:[l.jsx(sa,{className:"w-4 h-4"}),""]})]})]}),L.length===0?l.jsx("div",{className:"text-center py-6 text-slate-400 bg-slate-50 rounded-lg",children:""}):l.jsxs("div",{className:"space-y-2",children:[ve.map(xe=>l.jsx(g1,{event:xe,onToggleComplete:()=>He(xe),onEdit:()=>_e(xe),onDelete:()=>Fe(xe),formatDueDate:st,getDueDateColor:te},xe.id)),fe&&l.jsx("button",{onClick:()=>Ae(!be),className:"w-full py-2 text-sm text-primary-500 hover:bg-primary-50 rounded-lg flex items-center justify-center gap-1",children:be?l.jsxs(l.Fragment,{children:[" ",l.jsx(Lf,{className:"w-4 h-4"})]}):l.jsxs(l.Fragment,{children:[" (",ge.length-3," ) ",l.jsx(Lr,{className:"w-4 h-4"})]})})]})]})]}),l.jsx("div",{className:"p-4 border-t border-slate-200 sticky bottom-0 bg-white",children:l.jsx("button",{onClick:o,className:"w-full btn-secondary",children:""})})]}),q&&l.jsx(Mf,{patientId:r.id,onClose:()=>ee(!1),onSuccess:nt}),de&&l.jsx(Mf,{event:de,patientId:r.id,onClose:()=>_e(null),onSuccess:nt}),ue&&l.jsx(h1,{patientId:r.id,patientName:r.name,onClose:()=>oe(!1),onSuccess:nt})]})}function Tf({label:r,value:o}){return l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500",children:r}),l.jsx("p",{className:"font-medium text-slate-800",children:o})]})}function _f({label:r,value:o,color:d}){const m={blue:"bg-blue-50 text-blue-700",amber:"bg-amber-50 text-amber-700",green:"bg-green-50 text-green-700"};return l.jsxs("div",{className:`rounded-lg p-3 text-center ${m[d]}`,children:[l.jsx("p",{className:"text-2xl font-bold",children:o}),l.jsx("p",{className:"text-sm",children:r})]})}function g1({event:r,onToggleComplete:o,onEdit:d,onDelete:m,formatDueDate:b,getDueDateColor:T}){const[Y,L]=U.useState(!1),C=zp[r.eventType]||zp.default,D=Bf[r.eventType]||r.eventType;return l.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg bg-slate-50 ${r.isCompleted?"opacity-60":""}`,children:[l.jsx("button",{onClick:o,className:`
          w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0
          transition-colors
          ${r.isCompleted?"bg-green-500 border-green-500 text-white":"border-slate-300 hover:border-primary-500"}
        `,children:r.isCompleted&&l.jsx(rn,{className:"w-3 h-3"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[l.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${C}`,children:D}),r.dueDate&&l.jsx("span",{className:`text-xs ${T(r.dueDate,r.isCompleted)}`,children:b(r.dueDate)})]}),l.jsx("p",{className:`text-sm text-slate-700 truncate ${r.isCompleted?"line-through":""}`,children:r.title})]}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>L(!Y),className:"p-1 hover:bg-slate-200 rounded",children:l.jsx(xu,{className:"w-4 h-4 text-slate-400"})}),Y&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>L(!1)}),l.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-20 min-w-[80px]",children:[l.jsxs("button",{onClick:()=>{L(!1),d()},className:"w-full px-3 py-1.5 text-left hover:bg-slate-50 text-sm text-slate-700 flex items-center gap-2",children:[l.jsx(Fn,{className:"w-3 h-3"})," "]}),l.jsxs("button",{onClick:()=>{L(!1),m()},className:"w-full px-3 py-1.5 text-left hover:bg-slate-50 text-sm text-red-600 flex items-center gap-2",children:[l.jsx(qn,{className:"w-3 h-3"})," "]})]})]})]})]})}const kf={active:"",inactive:"",deceased:""},x1={active:"bg-green-100 text-green-800",inactive:"bg-slate-100 text-slate-600",deceased:"bg-red-100 text-red-800"},iu={updated:"",mrn:"",age:"",physician:"",diagnosis:"",nextEvent:""};function b1(){const[r,o]=U.useState([]),[d,m]=U.useState([]),[b,T]=U.useState([]),[Y,L]=U.useState([]),[C,D]=U.useState(!0),[P,q]=U.useState(""),[ee,ue]=U.useState("all"),[oe,de]=U.useState("all"),[_e,be]=U.useState(!1),[Ae,w]=U.useState(!1),[ge,ve]=U.useState(!1),[fe,ce]=U.useState("updated"),[He,Fe]=U.useState({}),[nt,st]=U.useState(!1),[te,xe]=U.useState(null),[me,De]=U.useState(null),[_,se]=U.useState(null),{markDataChanged:F}=Ca(),{selectedPatientId:ze,setSelectedPatientId:ie}=Oi();U.useEffect(()=>{if(ze&&r.length>0){const Be=r.find(Ye=>Ye.id===ze);Be&&(De(Be),ie(null))}},[ze,r,ie]);const N=U.useCallback(async()=>{try{const[Be,Ye,ht,Cn]=await Promise.all([x0({status:ee,search:P,cancerTypeId:oe==="all"?void 0:oe}),Jf(),Wb(),wu()]);o(Be),m(Ye),T(ht),L(Cn);const cn={};for(const cl of Be){const Jl=(await Zf(cl.id)).filter(ra=>!ra.isCompleted&&ra.dueDate).sort((ra,Ea)=>(ra.dueDate||"").localeCompare(Ea.dueDate||""));Jl.length>0&&(cn[cl.id]=Jl[0].dueDate)}Fe(cn)}catch(Be){we.error(""),console.error(Be)}finally{D(!1)}},[ee,P,oe]);U.useEffect(()=>{N()},[N]);const X=Be=>{Be.preventDefault(),N()},je=async()=>{if(_)try{await Kb(_.id),we.success(""),F(),se(null),N()}catch(Be){we.error(""),console.error(Be)}},Ne=Be=>{if(!Be)return"-";const Ye=d.find(ht=>ht.id===Be);return Ye?Ye.name:"-"},Xe=Be=>!Be||Be.length===0?[]:Be.map(Ye=>b.find(ht=>ht.id===Ye)).filter(Ye=>!!Ye),Qe=Be=>Y.find(ht=>ht.id===Be)?.name||"",Ve=Be=>Be?Math.floor((new Date().getTime()-new Date(Be).getTime())/(365.25*24*60*60*1e3)):999,kt=Be=>!Be||Be.length===0?"zzz":b.find(ht=>ht.id===Be[0])?.name||"zzz",_t=U.useMemo(()=>{const Be=[...r];switch(fe){case"mrn":return Be.sort((Ye,ht)=>Ye.mrn.localeCompare(ht.mrn));case"age":return Be.sort((Ye,ht)=>Ve(Ye.birthDate)-Ve(ht.birthDate));case"physician":return Be.sort((Ye,ht)=>kt(Ye.physicianIds).localeCompare(kt(ht.physicianIds)));case"diagnosis":return Be.sort((Ye,ht)=>(Ye.createdAt||"").localeCompare(ht.createdAt||""));case"nextEvent":return Be.sort((Ye,ht)=>{const Cn=He[Ye.id]||"9999-12-31",cn=He[ht.id]||"9999-12-31";return Cn.localeCompare(cn)});default:return Be.sort((Ye,ht)=>(ht.updatedAt||"").localeCompare(Ye.updatedAt||""))}},[r,fe,b,He]),Ue=()=>{F(),N()};return C?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):l.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:""}),l.jsxs("button",{onClick:()=>st(!0),className:"btn-primary flex items-center gap-2",children:[l.jsx(sa,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden sm:inline",children:""})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("form",{onSubmit:X,className:"flex-1 min-w-[150px] relative",children:[l.jsx(mg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),l.jsx("input",{type:"text",placeholder:"...",value:P,onChange:Be=>q(Be.target.value),className:"input pl-10"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>{be(!_e),w(!1)},className:`btn-secondary flex items-center gap-1 text-sm px-2 py-2 ${ee!=="all"?"ring-2 ring-primary-500":""}`,children:[l.jsx(Wv,{className:"w-4 h-4"}),l.jsx("span",{className:"max-w-[60px] truncate",children:ee==="all"?"":kf[ee]})]}),_e&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>be(!1)}),l.jsx("div",{className:"absolute right-0 top-full mt-2 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-20 min-w-[120px]",children:["all","active","inactive","deceased"].map(Be=>l.jsx("button",{onClick:()=>{ue(Be),be(!1)},className:`w-full px-4 py-2 text-left hover:bg-slate-50 ${ee===Be?"text-primary-500 font-medium":"text-slate-700"}`,children:Be==="all"?"":kf[Be]},Be))})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>{w(!Ae),be(!1)},className:`btn-secondary flex items-center gap-1 text-sm px-2 py-2 ${oe!=="all"?"ring-2 ring-primary-500":""}`,children:l.jsx("span",{className:"max-w-[60px] truncate",children:oe==="all"?"":d.find(Be=>Be.id===oe)?.name||""})}),Ae&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>w(!1)}),l.jsxs("div",{className:"absolute right-0 top-full mt-2 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-20 min-w-[140px] max-h-64 overflow-auto",children:[l.jsx("button",{onClick:()=>{de("all"),w(!1)},className:`w-full px-4 py-2 text-left hover:bg-slate-50 ${oe==="all"?"text-primary-500 font-medium":"text-slate-700"}`,children:""}),d.map(Be=>l.jsx("button",{onClick:()=>{de(Be.id),w(!1)},className:`w-full px-4 py-2 text-left hover:bg-slate-50 ${oe===Be.id?"text-primary-500 font-medium":"text-slate-700"}`,children:Be.name},Be.id))]})]})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>{ve(!ge),be(!1),w(!1)},className:`btn-secondary flex items-center gap-1 text-sm px-2 py-2 ${fe!=="updated"?"ring-2 ring-primary-500":""}`,children:[l.jsx(Tv,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline max-w-[60px] truncate",children:iu[fe]}),l.jsx(Lr,{className:"w-3 h-3"})]}),ge&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>ve(!1)}),l.jsx("div",{className:"absolute right-0 top-full mt-2 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-20 min-w-[120px]",children:Object.keys(iu).map(Be=>l.jsx("button",{onClick:()=>{ce(Be),ve(!1)},className:`w-full px-4 py-2 text-left hover:bg-slate-50 ${fe===Be?"text-primary-500 font-medium":"text-slate-700"}`,children:iu[Be]},Be))})]})]})]})]}),l.jsxs("div",{className:"text-sm text-slate-500",children:[" ",r.length," ",fe!=="updated"&&l.jsxs("span",{className:"text-primary-500 ml-2",children:[" ",iu[fe],""]})]}),l.jsx("div",{className:"space-y-2",children:_t.length===0?l.jsxs("div",{className:"card text-center py-12 text-slate-500",children:[l.jsx(Xf,{className:"w-12 h-12 mx-auto mb-4 text-slate-300"}),l.jsx("p",{children:""}),l.jsx("button",{onClick:()=>st(!0),className:"mt-4 text-primary-500 hover:underline",children:""})]}):_t.map(Be=>l.jsx(w1,{patient:Be,cancerTypeName:Ne(Be.cancerTypeId),physicianDetails:Xe(Be.physicianIds),getDeptName:Qe,onView:()=>De(Be),onEdit:()=>xe(Be),onDelete:()=>se(Be)},Be.id))}),nt&&l.jsx(kp,{onClose:()=>st(!1),onSuccess:Ue}),te&&l.jsx(kp,{patient:te,onClose:()=>xe(null),onSuccess:Ue}),me&&l.jsx(v1,{patient:me,onClose:()=>De(null),onEdit:()=>{xe(me),De(null)}}),_&&l.jsx(N1,{patientName:_.name,onCancel:()=>se(null),onConfirm:je})]})}function j1(r){if(!r)return"";const o={mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},d={morning:"",afternoon:"",evening:""},m=[];for(const[b,T]of Object.entries(r))T&&T.length>0&&m.push(`${o[b]}${T.map(Y=>d[Y]).join("")}`);return m.join(" ")}function w1({patient:r,cancerTypeName:o,physicianDetails:d,getDeptName:m,onView:b,onEdit:T,onDelete:Y}){const[L,C]=U.useState(!1),D=r.sex==="M"?"bg-blue-100 text-blue-600":r.sex==="F"?"bg-pink-100 text-pink-600":"bg-slate-100 text-slate-600",P=r.sex==="M"?"border-l-4 border-l-blue-400":r.sex==="F"?"border-l-4 border-l-pink-400":"";return l.jsx("div",{className:`card hover:shadow-md transition-shadow cursor-pointer ${P}`,onClick:b,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${D}`,children:l.jsx(Xf,{className:"w-6 h-6"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold text-slate-800 truncate",children:r.name}),l.jsx("span",{className:`badge ${x1[r.status]}`,children:kf[r.status]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mt-1 flex-wrap",children:[l.jsx("span",{children:r.mrn}),l.jsx("span",{children:""}),l.jsx("span",{children:r.sex==="M"?"":r.sex==="F"?"":"-"}),r.birthDate&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsxs("span",{children:[Math.floor((new Date().getTime()-new Date(r.birthDate).getTime())/(365.25*24*60*60*1e3)),""]})]}),l.jsx("span",{children:""}),l.jsx("span",{children:o})]}),d.length>0&&l.jsx("div",{className:"mt-2 space-y-1",children:d.map(q=>l.jsxs("div",{className:"flex items-center gap-2 text-xs",onClick:ee=>ee.stopPropagation(),children:[l.jsx(cu,{className:"w-3 h-3 text-slate-400"}),l.jsx("span",{className:"text-slate-600",children:q.name}),l.jsxs("span",{className:"text-slate-400",children:["(",m(q.departmentId),")"]}),q.clinicSchedule&&Object.keys(q.clinicSchedule).length>0&&l.jsx("span",{className:"text-primary-500 text-[10px]",children:j1(q.clinicSchedule)}),q.phone&&l.jsxs("a",{href:`tel:${q.phone}`,className:"text-blue-500 hover:text-blue-600 flex items-center gap-0.5",title:"",children:[l.jsx($p,{className:"w-3 h-3"}),l.jsx("span",{children:q.phone})]})]},q.id))})]}),l.jsxs("div",{className:"relative flex-shrink-0",onClick:q=>q.stopPropagation(),children:[l.jsx("button",{onClick:()=>C(!L),className:"p-2 hover:bg-slate-100 rounded-lg",children:l.jsx(xu,{className:"w-5 h-5 text-slate-400"})}),L&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>C(!1)}),l.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-20 min-w-[100px]",children:[l.jsxs("button",{onClick:()=>{C(!1),T()},className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2 text-slate-700",children:[l.jsx(Fn,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>{C(!1),Y()},className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2 text-red-600",children:[l.jsx(qn,{className:"w-4 h-4"}),""]})]})]})]}),l.jsx(Ai,{className:"w-5 h-5 text-slate-300 flex-shrink-0"})]})})}function N1({patientName:r,onCancel:o,onConfirm:d}){return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full p-6 shadow-xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-bold text-slate-800",children:""}),l.jsx("button",{onClick:o,className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Rt,{className:"w-5 h-5"})})]}),l.jsxs("p",{className:"text-slate-600 mb-6",children:["",l.jsx("span",{className:"font-semibold",children:r}),"",l.jsx("br",{}),l.jsx("span",{className:"text-red-500 text-sm",children:""})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:o,className:"flex-1 btn-secondary",children:""}),l.jsx("button",{onClick:d,className:"flex-1 btn-danger",children:""})]})]})})}function S1(){const[r,o]=U.useState([]),[d,m]=U.useState({}),[b,T]=U.useState([]),[Y,L]=U.useState(!0),[C,D]=U.useState("today"),[P,q]=U.useState("list"),[ee,ue]=U.useState(0),[oe,de]=U.useState(0),[_e,be]=U.useState(0),[Ae,w]=U.useState(0),[ge,ve]=U.useState(null),[fe,ce]=U.useState(null),{markDataChanged:He}=Ca(),{setCurrentPage:Fe,setSelectedPatientId:nt}=Oi(),st=F=>{nt(F),Fe("patients")},te=U.useCallback(async()=>{L(!0);try{const F=await If();T(F);let ze;C==="today"?ze=await pp():C==="tomorrow"?ze=await yp():C==="week"?ze=await vp():C==="overdue"?ze=await Of():C==="completed"?ze=await zg():ze=await Mi({isCompleted:!1}),o(ze);const ie=[...new Set(ze.map(Qe=>Qe.patientId))],N={};for(const Qe of ie){const Ve=await Hb(Qe);Ve&&(N[Qe]=Ve)}m(N);const[X,je,Ne,Xe]=await Promise.all([pp(),yp(),vp(),Of()]);ue(X.length),de(je.length),be(Ne.length),w(Xe.length)}catch(F){we.error(""),console.error(F)}finally{L(!1)}},[C]);U.useEffect(()=>{te()},[te]);const xe=async F=>{if(!(!F.isCompleted&&!confirm(`${F.title}`)))try{await t0(F.id),we.success(F.isCompleted?"":""),He(),te()}catch{we.error("")}},me=async()=>{if(fe)try{await e0(fe.id),we.success(""),He(),ce(null),te()}catch{we.error("")}},De=()=>{He(),te()},_=F=>{if(!F)return"-";try{const ze=ia(F);return _a(ze)?"":hu(ze)?"":Dn(ze,"MM/dd (EEE)",{locale:la})}catch{return F}},se=F=>{if(!F)return"text-slate-500";try{const ze=ia(F);return _a(ze)?"text-primary-600 font-semibold":Vf(ze)?"text-red-600 font-semibold":hu(ze)?"text-blue-600":"text-slate-600"}catch{return"text-slate-500"}};return Y?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):l.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-800",children:""}),l.jsx("p",{className:"text-sm text-slate-500",children:""})]}),l.jsxs("div",{className:"border-b border-slate-200 pb-2",children:[l.jsxs("div",{className:"flex gap-1 mb-1",children:[l.jsx(_i,{active:C==="today",onClick:()=>D("today"),icon:l.jsx(Jp,{className:"w-4 h-4"}),label:"",count:ee}),l.jsx(_i,{active:C==="tomorrow",onClick:()=>D("tomorrow"),icon:l.jsx(il,{className:"w-4 h-4"}),label:"",count:oe}),l.jsx(_i,{active:C==="week",onClick:()=>D("week"),icon:l.jsx(Vp,{className:"w-4 h-4"}),label:"",count:_e}),l.jsx(_i,{active:C==="overdue",onClick:()=>D("overdue"),icon:l.jsx(Da,{className:"w-4 h-4"}),label:"",count:Ae,danger:!0})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex gap-1",children:[l.jsx(_i,{active:C==="all",onClick:()=>D("all"),icon:l.jsx(il,{className:"w-4 h-4"}),label:""}),l.jsx(_i,{active:C==="completed",onClick:()=>D("completed"),icon:l.jsx(Zl,{className:"w-4 h-4"}),label:""})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>q("list"),className:`p-2 rounded-lg ${P==="list"?"bg-primary-100 text-primary-600":"text-slate-400 hover:bg-slate-100"}`,title:"",children:l.jsx(Ip,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>q("gantt"),className:`p-2 rounded-lg ${P==="gantt"?"bg-primary-100 text-primary-600":"text-slate-400 hover:bg-slate-100"}`,title:"",children:l.jsx(Ov,{className:"w-4 h-4"})})]})]})]}),P==="list"?l.jsx("div",{className:"space-y-2",children:r.length===0?l.jsxs("div",{className:"card text-center py-12 text-slate-500",children:[l.jsx(Zl,{className:"w-12 h-12 mx-auto mb-4 text-green-400"}),l.jsxs("p",{children:[C==="today"&&" ",C==="tomorrow"&&"",C==="week"&&"",C==="overdue"&&" ",C==="all"&&"",C==="completed"&&""]})]}):r.map(F=>l.jsx(T1,{event:F,patient:d[F.patientId],eventTypes:b,onToggleComplete:()=>xe(F),onEdit:()=>ve(F),onDelete:()=>ce(F),onPatientClick:st,formatDueDate:_,getDueDateColor:se},F.id))}):l.jsx(D1,{events:r,patientMap:d,eventTypes:b,onEventClick:F=>ve(F)}),ge&&l.jsx(Mf,{event:ge,onClose:()=>ve(null),onSuccess:De}),fe&&l.jsx(_1,{eventTitle:fe.title,onCancel:()=>ce(null),onConfirm:me})]})}function _i({active:r,onClick:o,icon:d,label:m,count:b,danger:T}){return l.jsxs("button",{onClick:o,className:`
        flex items-center gap-1 px-2 py-1.5 text-sm font-medium
        rounded-lg transition-colors whitespace-nowrap
        ${r?"bg-primary-100 text-primary-600":"text-slate-500 hover:bg-slate-100 hover:text-slate-700"}
      `,children:[d,l.jsx("span",{className:"hidden sm:inline",children:m}),l.jsx("span",{className:"sm:hidden",children:m}),b!==void 0&&b>0&&l.jsx("span",{className:`
          ml-0.5 px-1.5 py-0.5 text-xs rounded-full
          ${T?"bg-red-100 text-red-700":"bg-slate-200 text-slate-600"}
        `,children:b})]})}function T1({event:r,patient:o,eventTypes:d,onToggleComplete:m,onEdit:b,onDelete:T,onPatientClick:Y,formatDueDate:L,getDueDateColor:C}){const[D,P]=U.useState(!1),q=d.find(oe=>oe.code===r.eventType),ee=q&&vu[q.color]||"bg-slate-100 text-slate-700",ue=q?.name||r.eventType;return l.jsx("div",{className:`card ${r.isCompleted?"opacity-60":""}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("button",{onClick:m,className:`
            mt-0.5 w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0
            transition-colors
            ${r.isCompleted?"bg-green-500 border-green-500 text-white":"border-slate-300 hover:border-primary-500"}
          `,children:r.isCompleted&&l.jsx(rn,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("span",{className:`badge text-xs ${ee}`,children:ue}),l.jsx("span",{className:`text-sm ${C(r.dueDate)}`,children:L(r.dueDate)})]}),l.jsx("p",{className:`font-medium text-slate-800 mt-1 ${r.isCompleted?"line-through":""}`,children:r.title}),o&&l.jsxs("button",{onClick:()=>Y?.(r.patientId),className:"text-sm text-primary-500 hover:text-primary-600 hover:underline mt-0.5 text-left",children:[o.name," (",o.mrn,")"]}),r.note&&l.jsx("p",{className:"text-sm text-slate-400 mt-1 line-clamp-1",children:r.note})]}),l.jsxs("div",{className:"relative flex-shrink-0",children:[l.jsx("button",{onClick:()=>P(!D),className:"p-2 hover:bg-slate-100 rounded-lg",children:l.jsx(xu,{className:"w-5 h-5 text-slate-400"})}),D&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>P(!1)}),l.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-20 min-w-[100px]",children:[l.jsxs("button",{onClick:()=>{P(!1),b()},className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2 text-slate-700",children:[l.jsx(Fn,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>{P(!1),T()},className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2 text-red-600",children:[l.jsx(qn,{className:"w-4 h-4"}),""]})]})]})]})]})})}function _1({eventTitle:r,onCancel:o,onConfirm:d}){return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full p-6 shadow-xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-bold text-slate-800",children:""}),l.jsx("button",{onClick:o,className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Rt,{className:"w-5 h-5"})})]}),l.jsxs("p",{className:"text-slate-600 mb-6",children:["",l.jsx("span",{className:"font-semibold",children:r}),""]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:o,className:"flex-1 btn-secondary",children:""}),l.jsx("button",{onClick:d,className:"flex-1 btn-danger",children:""})]})]})})}function D1({events:r,patientMap:o,eventTypes:d,onEventClick:m}){const[b,T]=U.useState(new Date),Y=m0(b),L=f0(b),C=d0({start:Y,end:L}),D=U.useMemo(()=>r.filter(ee=>{if(!ee.dueDate)return!1;const ue=ia(ee.dueDate);return ue>=Y&&ue<=L}),[r,Y,L]),P=U.useMemo(()=>{const ee={};return D.forEach(ue=>{ee[ue.patientId]||(ee[ue.patientId]=[]),ee[ue.patientId].push(ue)}),ee},[D]),q=ee=>{const ue=d.find(de=>de.code===ee);return ue&&{purple:"bg-purple-500",blue:"bg-blue-500",red:"bg-red-500",orange:"bg-orange-500",teal:"bg-teal-500",green:"bg-green-500",pink:"bg-pink-500",amber:"bg-amber-500",slate:"bg-slate-500",indigo:"bg-indigo-500",cyan:"bg-cyan-500",emerald:"bg-emerald-500",violet:"bg-violet-500",lime:"bg-lime-500",sky:"bg-sky-500",rose:"bg-rose-500"}[ue.color]||"bg-slate-400"};return l.jsxs("div",{className:"card overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-slate-50",children:[l.jsx("button",{onClick:()=>T(g0(b)),className:"px-3 py-1 hover:bg-slate-200 rounded",children:""}),l.jsx("h3",{className:"font-semibold text-slate-800",children:Dn(b,"yyyy M",{locale:la})}),l.jsx("button",{onClick:()=>T(Qf(b,1)),className:"px-3 py-1 hover:bg-slate-200 rounded",children:""})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("div",{className:"min-w-[800px]",children:[l.jsxs("div",{className:"flex border-b sticky top-0 bg-white",children:[l.jsx("div",{className:"w-32 flex-shrink-0 p-2 text-xs text-slate-500 font-medium border-r",children:""}),l.jsx("div",{className:"flex flex-1",children:C.map((ee,ue)=>{const oe=ee.getDay()===0||ee.getDay()===6,de=_a(ee);return l.jsxs("div",{className:`flex-1 min-w-[28px] text-center text-xs py-1 border-r ${oe?"bg-slate-50":""} ${de?"bg-primary-100 font-bold text-primary-700":"text-slate-500"}`,children:[l.jsx("div",{children:Dn(ee,"d")}),l.jsx("div",{className:"text-[10px]",children:Dn(ee,"EEE",{locale:la})})]},ue)})})]}),Object.keys(P).length===0?l.jsx("div",{className:"text-center py-8 text-slate-400",children:""}):Object.entries(P).map(([ee,ue])=>{const oe=o[Number(ee)];return l.jsxs("div",{className:"flex border-b hover:bg-slate-50",children:[l.jsx("div",{className:"w-32 flex-shrink-0 p-2 text-sm font-medium text-slate-700 border-r truncate",children:oe?.name||` ${ee}`}),l.jsxs("div",{className:"flex flex-1 relative py-1",children:[C.map((de,_e)=>{const be=de.getDay()===0||de.getDay()===6;return l.jsx("div",{className:`flex-1 min-w-[28px] border-r ${be?"bg-slate-50/50":""}`},_e)}),ue.map(de=>{if(!de.dueDate)return null;const _e=ia(de.dueDate),be=Vg(_e,Y);if(be<0||be>=C.length)return null;const Ae=`${be/C.length*100}%`,w=d.find(ge=>ge.code===de.eventType);return l.jsx("div",{className:`absolute top-1 h-5 rounded cursor-pointer hover:opacity-80 ${q(de.eventType)} ${de.isCompleted?"opacity-40":""}`,style:{left:Ae,width:`${100/C.length}%`,minWidth:"24px"},title:`${de.title} (${w?.name||de.eventType})`,onClick:()=>m(de),children:l.jsx("span",{className:"text-[10px] text-white px-1 truncate block leading-5",children:de.title})},de.id)})]})]},ee)})]})}),l.jsx("div",{className:"p-3 border-t bg-slate-50",children:l.jsx("div",{className:"flex flex-wrap gap-3 text-xs",children:d.slice(0,8).map(ee=>l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:`w-3 h-3 rounded ${q(ee.code)}`}),l.jsx("span",{className:"text-slate-600",children:ee.name})]},ee.id))})})]})}function C1(){const[r,o]=U.useState([]),[d,m]=U.useState([]),[b,T]=U.useState([]),[Y,L]=U.useState(!0),[C,D]=U.useState("upcoming"),[P,q]=U.useState("list"),[ee,ue]=U.useState(!1),[oe,de]=U.useState(null),[_e,be]=U.useState(null),[Ae,w]=U.useState(new Date),{markDataChanged:ge}=Ca(),ve=U.useCallback(async()=>{L(!0);try{const[me,De,_]=await Promise.all([n0(P==="calendar"?void 0:C==="completed"?{isCompleted:!0}:C==="upcoming"?{isCompleted:!1}:void 0),j0(),w0()]);o(me),m(De),T(_)}finally{L(!1)}},[C,P]);U.useEffect(()=>{ve()},[ve]);const fe=async me=>{!me.isCompleted&&!confirm(`${me.title}`)||(await Hg(me.id),we.success(me.isCompleted?"":""),ge(),ve())},ce=async()=>{_e&&(await qg(_e.id),we.success(""),be(null),ge(),ve())},He=me=>me&&d.find(_=>_.id===me)?.name||"",Fe=me=>{if(!me)return"bg-slate-100 text-slate-700";const De=d.find(_=>_.id===me);return De&&vu[De.color]||"bg-slate-100 text-slate-700"},nt=me=>{const De=ia(me);return _a(De)?"":hu(De)?"":Dn(De,"MM/dd (EEE)",{locale:la})},st=(me,De)=>{if(De)return"text-slate-400";const _=ia(me);return Vf(_)&&!_a(_)?"text-red-500":_a(_)?"text-green-600":hu(_)?"text-blue-500":"text-slate-500"},te=U.useMemo(()=>{const me=m0(Ae),De=f0(Ae);return d0({start:me,end:De})},[Ae]),xe=me=>{const De=Dn(me,"yyyy-MM-dd");return r.filter(_=>_.scheduledDate===De)};return l.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-slate-800 flex items-center gap-2",children:[l.jsx(As,{className:"w-6 h-6 text-primary-500"}),""]}),l.jsxs("button",{onClick:()=>ue(!0),className:"btn-primary flex items-center gap-1",children:[l.jsx(sa,{className:"w-4 h-4"})," "]})]}),l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200",children:[l.jsxs("div",{className:"flex gap-1",children:[l.jsx(Df,{active:C==="upcoming",onClick:()=>{D("upcoming"),q("list")},label:""}),l.jsx(Df,{active:C==="completed",onClick:()=>{D("completed"),q("list")},label:""}),l.jsx(Df,{active:C==="all",onClick:()=>{D("all"),q("list")},label:""})]}),l.jsxs("div",{className:"flex gap-1 pb-2",children:[l.jsx("button",{onClick:()=>q("list"),className:`p-2 rounded ${P==="list"?"bg-primary-100 text-primary-600":"text-slate-400 hover:bg-slate-100"}`,children:l.jsx(Ip,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>q("calendar"),className:`p-2 rounded ${P==="calendar"?"bg-primary-100 text-primary-600":"text-slate-400 hover:bg-slate-100"}`,children:l.jsx(Vp,{className:"w-5 h-5"})})]})]}),P==="list"?l.jsx("div",{className:"space-y-3",children:Y?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):r.length===0?l.jsxs("div",{className:"text-center py-12 text-slate-500",children:[l.jsx(As,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),l.jsx("p",{children:C==="upcoming"?"":C==="completed"?"":""})]}):r.map(me=>l.jsx(E1,{item:me,typeName:He(me.meetingTypeId),typeColor:Fe(me.meetingTypeId),formatDate:nt,getDateColor:st,onToggleComplete:()=>fe(me),onEdit:()=>de(me),onDelete:()=>be(me)},me.id))}):l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("button",{onClick:()=>w(g0(Ae)),className:"p-2 hover:bg-slate-100 rounded",children:l.jsx(Zp,{className:"w-5 h-5"})}),l.jsx("h3",{className:"text-lg font-semibold",children:Dn(Ae,"yyyy  M ",{locale:la})}),l.jsx("button",{onClick:()=>w(Qf(Ae,1)),className:"p-2 hover:bg-slate-100 rounded",children:l.jsx(Ai,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["","","","","","",""].map(me=>l.jsx("div",{className:"text-center text-sm font-medium text-slate-500 py-1",children:me},me))}),l.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:Vx(te[0])}).map((me,De)=>l.jsx("div",{className:"min-h-[80px]"},`empty-${De}`)),te.map(me=>{const De=xe(me),_=_a(me);return l.jsxs("div",{className:`min-h-[80px] border rounded p-1 ${_?"border-primary-500 bg-primary-50":"border-slate-200"}`,children:[l.jsx("div",{className:`text-sm font-medium mb-1 ${_?"text-primary-600":"text-slate-700"}`,children:Dn(me,"d")}),l.jsxs("div",{className:"space-y-0.5",children:[De.slice(0,3).map(se=>l.jsxs("button",{onClick:()=>de(se),className:`w-full text-left text-xs px-1 py-0.5 rounded truncate ${Fe(se.meetingTypeId)} ${se.isCompleted?"opacity-50 line-through":""}`,children:[se.scheduledTime&&l.jsxs("span",{className:"font-medium",children:[se.scheduledTime.slice(0,5)," "]}),He(se.meetingTypeId)]},se.id)),De.length>3&&l.jsxs("div",{className:"text-xs text-slate-400 px-1",children:["+",De.length-3," "]})]})]},me.toISOString())})]})]}),(ee||oe)&&l.jsx(A1,{item:oe||void 0,meetingTypes:d,meetingLocations:b,onClose:()=>{ue(!1),de(null)},onSuccess:()=>{ue(!1),de(null),ge(),ve()}}),_e&&l.jsx(O1,{title:_e.title,onCancel:()=>be(null),onConfirm:ce})]})}function Df({active:r,onClick:o,label:d}){return l.jsx("button",{onClick:o,className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${r?"border-primary-500 text-primary-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:d})}function E1({item:r,typeName:o,typeColor:d,formatDate:m,getDateColor:b,onToggleComplete:T,onEdit:Y,onDelete:L}){const[C,D]=U.useState(!1);return l.jsx("div",{className:`card ${r.isCompleted?"opacity-60":""}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("button",{onClick:T,className:`mt-1 w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${r.isCompleted?"bg-green-500 border-green-500":"border-slate-300 hover:border-primary-500"}`,children:r.isCompleted&&l.jsx(rn,{className:"w-3 h-3 text-white"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${d}`,children:o}),l.jsxs("span",{className:`text-sm font-medium ${b(r.scheduledDate,r.isCompleted)}`,children:[m(r.scheduledDate),r.scheduledTime&&` ${r.scheduledTime}`]})]}),l.jsx("p",{className:`mt-1 font-medium ${r.isCompleted?"line-through text-slate-400":"text-slate-800"}`,children:r.title}),r.description&&l.jsx("p",{className:"text-sm text-slate-500 mt-1",children:r.description}),r.location&&l.jsxs("p",{className:"text-xs text-slate-400 mt-1 flex items-center gap-1",children:[l.jsx(Kf,{className:"w-3 h-3"})," ",r.location]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>D(!C),className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(xu,{className:"w-5 h-5 text-slate-400"})}),C&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>D(!1)}),l.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white rounded-lg shadow-lg border py-1 z-20 min-w-[100px]",children:[l.jsxs("button",{onClick:()=>{D(!1),Y()},className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2 text-slate-700",children:[l.jsx(Fn,{className:"w-4 h-4"})," "]}),l.jsxs("button",{onClick:()=>{D(!1),L()},className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2 text-red-600",children:[l.jsx(qn,{className:"w-4 h-4"})," "]})]})]})]})]})})}function A1({item:r,meetingTypes:o,meetingLocations:d,onClose:m,onSuccess:b}){const T=!!r,[Y,L]=U.useState(!1),[C,D]=U.useState(r?.meetingTypeId),[P,q]=U.useState(r?.title||""),[ee,ue]=U.useState(r?.scheduledDate||new Date().toISOString().split("T")[0]),[oe,de]=U.useState(r?.scheduledTime||""),[_e,be]=U.useState(r?.locationId),Ae=async w=>{if(w.preventDefault(),!C){we.error("");return}const ge=o.find(ce=>ce.id===C),ve=P.trim()||ge?.name||"",fe=d.find(ce=>ce.id===_e);L(!0);try{T&&r?.id?(await Ug(r.id,{meetingTypeId:C,title:ve,scheduledDate:ee,scheduledTime:oe||void 0,locationId:_e,location:fe?.name}),we.success("")):(await Rg({meetingTypeId:C,title:ve,scheduledDate:ee,scheduledTime:oe||void 0,locationId:_e,location:fe?.name}),we.success("")),b()}catch{we.error("")}finally{L(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-xl",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h2",{className:"text-lg font-bold text-slate-800",children:T?"":""}),l.jsx("button",{onClick:m,className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Rt,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:Ae,className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:C||"",onChange:w=>D(w.target.value?Number(w.target.value):void 0),className:"input",children:[l.jsx("option",{value:"",children:"--  --"}),o.map(w=>l.jsx("option",{value:w.id,children:w.name},w.id))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"date",value:ee,onChange:w=>ue(w.target.value),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("div",{className:"flex gap-1",children:l.jsx("input",{type:"time",value:oe,onChange:w=>de(w.target.value),className:"input flex-1"})}),l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsx("button",{type:"button",onClick:()=>de("07:30"),className:"px-2 py-1 text-xs bg-slate-100 hover:bg-slate-200 rounded",children:"7:30"}),l.jsx("button",{type:"button",onClick:()=>de("12:30"),className:"px-2 py-1 text-xs bg-slate-100 hover:bg-slate-200 rounded",children:"12:30"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsxs("select",{value:_e||"",onChange:w=>be(w.target.value?Number(w.target.value):void 0),className:"input",children:[l.jsx("option",{value:"",children:"--  --"}),d.map(w=>l.jsx("option",{value:w.id,children:w.name},w.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("textarea",{value:P,onChange:w=>q(w.target.value),className:"input min-h-[60px] resize-none",placeholder:"..."})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx("button",{type:"button",onClick:m,className:"flex-1 btn-secondary",disabled:Y,children:""}),l.jsx("button",{type:"submit",className:"flex-1 btn-primary",disabled:Y,children:Y?"...":""})]})]})]})})}function O1({title:r,onCancel:o,onConfirm:d}){return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full shadow-xl p-6",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:""}),l.jsxs("p",{className:"text-slate-600 mb-6",children:["",r,""]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:o,className:"flex-1 btn-secondary",children:""}),l.jsx("button",{onClick:d,className:"flex-1 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600",children:""})]})]})})}function M1(){const[r,o]=U.useState("cancer"),{markDataChanged:d}=Ca();return l.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[l.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-800",children:""}),l.jsxs("div",{className:"flex gap-1 border-b border-slate-200 overflow-x-auto pb-1",children:[l.jsx(Di,{active:r==="cancer",onClick:()=>o("cancer"),icon:l.jsx(Nv,{className:"w-4 h-4"}),label:""}),l.jsx(Di,{active:r==="department",onClick:()=>o("department"),icon:l.jsx(Qp,{className:"w-4 h-4"}),label:"/"}),l.jsx(Di,{active:r==="imaging",onClick:()=>o("imaging"),icon:l.jsx(eg,{className:"w-4 h-4"}),label:""}),l.jsx(Di,{active:r==="eventType",onClick:()=>o("eventType"),icon:l.jsx(il,{className:"w-4 h-4"}),label:""}),l.jsx(Di,{active:r==="meetingType",onClick:()=>o("meetingType"),icon:l.jsx(As,{className:"w-4 h-4"}),label:""}),l.jsx(Di,{active:r==="meetingLocation",onClick:()=>o("meetingLocation"),icon:l.jsx(Kf,{className:"w-4 h-4"}),label:""})]}),r==="cancer"&&l.jsx(k1,{onDataChange:d}),r==="department"&&l.jsx(z1,{onDataChange:d}),r==="imaging"&&l.jsx(B1,{onDataChange:d}),r==="eventType"&&l.jsx(R1,{onDataChange:d}),r==="meetingType"&&l.jsx(U1,{onDataChange:d}),r==="meetingLocation"&&l.jsx(q1,{onDataChange:d})]})}function Di({active:r,onClick:o,icon:d,label:m}){return l.jsxs("button",{onClick:o,className:`flex items-center gap-1.5 px-3 py-2 text-sm font-medium rounded-t-lg whitespace-nowrap transition-colors ${r?"bg-primary-50 text-primary-600 border-b-2 border-primary-500":"text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:[d,m]})}function zi(){return l.jsx("div",{className:"flex justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})})}function Bi({index:r,total:o,onMoveUp:d,onMoveDown:m}){return l.jsxs("div",{className:"flex flex-col",children:[l.jsx("button",{onClick:d,disabled:r===0,className:"p-0.5 hover:bg-slate-100 rounded disabled:opacity-30",children:l.jsx(Lf,{className:"w-4 h-4 text-slate-400"})}),l.jsx("button",{onClick:m,disabled:r===o-1,className:"p-0.5 hover:bg-slate-100 rounded disabled:opacity-30",children:l.jsx(Lr,{className:"w-4 h-4 text-slate-400"})})]})}function k1({onDataChange:r}){const[o,d]=U.useState([]),[m,b]=U.useState(!0),[T,Y]=U.useState(null),[L,C]=U.useState({code:"",name:""}),[D,P]=U.useState(!1),[q,ee]=U.useState({code:"",name:""}),ue=async()=>{d(await Jf(!0)),b(!1)};U.useEffect(()=>{ue()},[]);const oe=async()=>{if(!q.name.trim()){we.error("");return}await Qb({code:q.code.trim()||q.name.trim().substring(0,3).toUpperCase(),name:q.name.trim()}),we.success(""),P(!1),ee({code:"",name:""}),r(),ue()},de=async w=>{if(!L.name.trim()){we.error("");return}await Dp(w,{code:L.code.trim(),name:L.name.trim()}),we.success(""),Y(null),r(),ue()},_e=async w=>{confirm("")&&(await Vb(w),we.success(""),r(),ue())},be=async w=>{await Dp(w.id,{isActive:!w.isActive}),we.success(w.isActive?"":""),r(),ue()},Ae=async(w,ge)=>{const ve=ge==="up"?w-1:w+1;if(ve<0||ve>=o.length)return;const fe=[...o];[fe[w],fe[ve]]=[fe[ve],fe[w]],d(fe),await Zb(fe.map(ce=>ce.id)),r()};return m?l.jsx(zi,{}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-slate-500",children:"  "}),!D&&l.jsxs("button",{onClick:()=>P(!0),className:"btn-primary text-sm flex items-center gap-1",children:[l.jsx(sa,{className:"w-4 h-4"})," "]})]}),D&&l.jsxs("div",{className:"card flex flex-col sm:flex-row gap-2",children:[l.jsx("input",{type:"text",placeholder:"",value:q.name,onChange:w=>ee({...q,name:w.target.value}),className:"input flex-1",autoFocus:!0}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:oe,className:"btn-primary",children:l.jsx(rn,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{P(!1),ee({code:"",name:""})},className:"btn-secondary",children:l.jsx(Rt,{className:"w-4 h-4"})})]})]}),o.map((w,ge)=>l.jsxs("div",{className:`card flex items-center gap-2 ${w.isActive?"":"opacity-50"}`,children:[l.jsx(Bi,{index:ge,total:o.length,onMoveUp:()=>Ae(ge,"up"),onMoveDown:()=>Ae(ge,"down")}),T===w.id?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"text",value:L.name,onChange:ve=>C({...L,name:ve.target.value}),className:"input flex-1"}),l.jsx("button",{onClick:()=>de(w.id),className:"btn-primary p-2",children:l.jsx(rn,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>Y(null),className:"btn-secondary p-2",children:l.jsx(Rt,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"flex-1 text-slate-700 truncate",children:w.name}),!w.isActive&&l.jsx("span",{className:"text-xs text-slate-400",children:"()"}),l.jsx("button",{onClick:()=>be(w),className:"text-xs text-slate-500 hover:text-slate-700",children:w.isActive?"":""}),l.jsx("button",{onClick:()=>{Y(w.id),C({code:w.code,name:w.name})},className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Fn,{className:"w-4 h-4 text-slate-400"})}),l.jsx("button",{onClick:()=>_e(w.id),className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(qn,{className:"w-4 h-4 text-red-400"})})]})]},w.id))]})}function z1({onDataChange:r}){const[o,d]=U.useState([]),[m,b]=U.useState({}),[T,Y]=U.useState(!0),[L,C]=U.useState(null),[D,P]=U.useState(null),[q,ee]=U.useState(""),[ue,oe]=U.useState(!1),[de,_e]=U.useState(""),[be,Ae]=U.useState(null),[w,ge]=U.useState({name:"",phone:""}),[ve,fe]=U.useState(null),[ce,He]=U.useState({name:"",phone:""}),Fe=async()=>{const F=await wu(!0);d(F);const ze={};for(const ie of F)ie.id&&(ze[ie.id]=await pu(ie.id,!0));b(ze),Y(!1)};U.useEffect(()=>{Fe()},[]);const nt=async()=>{if(!de.trim()){we.error("");return}await Jb({name:de.trim()}),we.success(""),oe(!1),_e(""),r(),Fe()},st=async F=>{if(!q.trim()){we.error("");return}await Ib(F,{name:q.trim()}),we.success(""),P(null),r(),Fe()},te=async F=>{confirm("")&&(await $b(F),we.success(""),r(),Fe())},xe=async(F,ze)=>{const ie=ze==="up"?F-1:F+1;if(ie<0||ie>=o.length)return;const N=[...o];[N[F],N[ie]]=[N[ie],N[F]],d(N),await Fb(N.map(X=>X.id)),r()},me=async F=>{if(!ce.name.trim()){we.error("");return}await Pb({name:ce.name.trim(),departmentId:F,phone:ce.phone.trim()||void 0}),we.success(""),fe(null),He({name:"",phone:""}),r(),Fe()},De=async F=>{if(!w.name.trim()){we.error("");return}await Cp(F,{name:w.name.trim(),phone:w.phone.trim()||void 0}),we.success(""),Ae(null),r(),Fe()},_=async F=>{confirm("")&&(await e1(F),we.success(""),r(),Fe())},se=async F=>{await Cp(F.id,{isActive:!F.isActive}),we.success(F.isActive?"":""),r(),Fe()};return T?l.jsx(zi,{}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-slate-500",children:""}),!ue&&l.jsxs("button",{onClick:()=>oe(!0),className:"btn-primary text-sm flex items-center gap-1",children:[l.jsx(sa,{className:"w-4 h-4"})," "]})]}),ue&&l.jsxs("div",{className:"card flex flex-col sm:flex-row gap-2",children:[l.jsx("input",{type:"text",placeholder:"",value:de,onChange:F=>_e(F.target.value),className:"input flex-1",autoFocus:!0}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:nt,className:"btn-primary",children:l.jsx(rn,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{oe(!1),_e("")},className:"btn-secondary",children:l.jsx(Rt,{className:"w-4 h-4"})})]})]}),o.map((F,ze)=>l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Bi,{index:ze,total:o.length,onMoveUp:()=>xe(ze,"up"),onMoveDown:()=>xe(ze,"down")}),l.jsx("button",{onClick:()=>C(L===F.id?null:F.id),className:"p-1",children:L===F.id?l.jsx(Lr,{className:"w-4 h-4"}):l.jsx(Ai,{className:"w-4 h-4"})}),D===F.id?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"text",value:q,onChange:ie=>ee(ie.target.value),className:"input flex-1"}),l.jsx("button",{onClick:()=>st(F.id),className:"btn-primary p-2",children:l.jsx(rn,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>P(null),className:"btn-secondary p-2",children:l.jsx(Rt,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(Qp,{className:"w-4 h-4 text-primary-500"}),l.jsx("span",{className:"flex-1 font-medium text-slate-800",children:F.name}),l.jsxs("span",{className:"text-xs text-slate-400",children:[m[F.id]?.length||0," "]}),l.jsx("button",{onClick:()=>{P(F.id),ee(F.name)},className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Fn,{className:"w-4 h-4 text-slate-400"})}),l.jsx("button",{onClick:()=>te(F.id),className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(qn,{className:"w-4 h-4 text-red-400"})})]})]}),L===F.id&&l.jsxs("div",{className:"mt-3 ml-8 space-y-2 border-l-2 border-slate-100 pl-4",children:[m[F.id]?.map(ie=>l.jsx("div",{className:`flex items-center gap-2 py-2 ${ie.isActive?"":"opacity-50"}`,children:be===ie.id?l.jsxs(l.Fragment,{children:[l.jsx(cu,{className:"w-4 h-4 text-slate-400"}),l.jsx("input",{type:"text",placeholder:"",value:w.name,onChange:N=>ge({...w,name:N.target.value}),className:"input w-24"}),l.jsx("input",{type:"text",placeholder:"",value:w.phone,onChange:N=>ge({...w,phone:N.target.value}),className:"input w-32"}),l.jsx("button",{onClick:()=>De(ie.id),className:"btn-primary p-1.5",children:l.jsx(rn,{className:"w-3 h-3"})}),l.jsx("button",{onClick:()=>Ae(null),className:"btn-secondary p-1.5",children:l.jsx(Rt,{className:"w-3 h-3"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(cu,{className:"w-4 h-4 text-slate-400"}),l.jsx("span",{className:"flex-1 text-slate-700",children:ie.name}),ie.phone&&l.jsxs("span",{className:"text-xs text-slate-400 flex items-center gap-1",children:[l.jsx($p,{className:"w-3 h-3"}),ie.phone]}),!ie.isActive&&l.jsx("span",{className:"text-xs text-slate-400",children:"()"}),l.jsx("button",{onClick:()=>se(ie),className:"text-xs text-slate-500 hover:text-slate-700",children:ie.isActive?"":""}),l.jsx("button",{onClick:()=>{Ae(ie.id),ge({name:ie.name,phone:ie.phone||""})},className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Fn,{className:"w-3 h-3 text-slate-400"})}),l.jsx("button",{onClick:()=>_(ie.id),className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(qn,{className:"w-3 h-3 text-red-400"})})]})},ie.id)),ve===F.id?l.jsxs("div",{className:"flex items-center gap-2 py-2",children:[l.jsx(cu,{className:"w-4 h-4 text-slate-400"}),l.jsx("input",{type:"text",placeholder:"",value:ce.name,onChange:ie=>He({...ce,name:ie.target.value}),className:"input w-24",autoFocus:!0}),l.jsx("input",{type:"text",placeholder:"",value:ce.phone,onChange:ie=>He({...ce,phone:ie.target.value}),className:"input w-32"}),l.jsx("button",{onClick:()=>me(F.id),className:"btn-primary p-1.5",children:l.jsx(rn,{className:"w-3 h-3"})}),l.jsx("button",{onClick:()=>{fe(null),He({name:"",phone:""})},className:"btn-secondary p-1.5",children:l.jsx(Rt,{className:"w-3 h-3"})})]}):l.jsxs("button",{onClick:()=>fe(F.id),className:"text-sm text-primary-500 hover:text-primary-600 flex items-center gap-1 py-2",children:[l.jsx(sa,{className:"w-4 h-4"})," "]})]})]},F.id))]})}function B1({onDataChange:r}){const[o,d]=U.useState([]),[m,b]=U.useState(!0),[T,Y]=U.useState(null),[L,C]=U.useState({code:"",name:""}),[D,P]=U.useState(!1),[q,ee]=U.useState({code:"",name:""}),ue=async()=>{d(await t1(!0)),b(!1)};U.useEffect(()=>{ue()},[]);const oe=async()=>{if(!q.name.trim()){we.error("");return}await n1({code:q.code.trim()||q.name.trim().substring(0,4).toUpperCase(),name:q.name.trim()}),we.success(""),P(!1),ee({code:"",name:""}),r(),ue()},de=async w=>{if(!L.name.trim()){we.error("");return}await Ep(w,{code:L.code.trim(),name:L.name.trim()}),we.success(""),Y(null),r(),ue()},_e=async w=>{confirm("")&&(await a1(w),we.success(""),r(),ue())},be=async w=>{await Ep(w.id,{isActive:!w.isActive}),we.success(w.isActive?"":""),r(),ue()},Ae=async(w,ge)=>{const ve=ge==="up"?w-1:w+1;if(ve<0||ve>=o.length)return;const fe=[...o];[fe[w],fe[ve]]=[fe[ve],fe[w]],d(fe),await l1(fe.map(ce=>ce.id)),r()};return m?l.jsx(zi,{}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-slate-500",children:"  "}),!D&&l.jsxs("button",{onClick:()=>P(!0),className:"btn-primary text-sm flex items-center gap-1",children:[l.jsx(sa,{className:"w-4 h-4"})," "]})]}),D&&l.jsxs("div",{className:"card flex flex-col sm:flex-row gap-2",children:[l.jsx("input",{type:"text",placeholder:"",value:q.code,onChange:w=>ee({...q,code:w.target.value}),className:"input w-24"}),l.jsx("input",{type:"text",placeholder:"",value:q.name,onChange:w=>ee({...q,name:w.target.value}),className:"input flex-1",autoFocus:!0}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:oe,className:"btn-primary",children:l.jsx(rn,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{P(!1),ee({code:"",name:""})},className:"btn-secondary",children:l.jsx(Rt,{className:"w-4 h-4"})})]})]}),o.map((w,ge)=>l.jsxs("div",{className:`card flex items-center gap-2 ${w.isActive?"":"opacity-50"}`,children:[l.jsx(Bi,{index:ge,total:o.length,onMoveUp:()=>Ae(ge,"up"),onMoveDown:()=>Ae(ge,"down")}),T===w.id?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"text",value:L.code,onChange:ve=>C({...L,code:ve.target.value}),className:"input w-24"}),l.jsx("input",{type:"text",value:L.name,onChange:ve=>C({...L,name:ve.target.value}),className:"input flex-1"}),l.jsx("button",{onClick:()=>de(w.id),className:"btn-primary p-2",children:l.jsx(rn,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>Y(null),className:"btn-secondary p-2",children:l.jsx(Rt,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"font-mono text-primary-600 w-16",children:w.code}),l.jsx("span",{className:"flex-1 text-slate-700 truncate",children:w.name}),!w.isActive&&l.jsx("span",{className:"text-xs text-slate-400",children:"()"}),l.jsx("button",{onClick:()=>be(w),className:"text-xs text-slate-500 hover:text-slate-700",children:w.isActive?"":""}),l.jsx("button",{onClick:()=>{Y(w.id),C({code:w.code,name:w.name})},className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Fn,{className:"w-4 h-4 text-slate-400"})}),l.jsx("button",{onClick:()=>_e(w.id),className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(qn,{className:"w-4 h-4 text-red-400"})})]})]},w.id))]})}const yu=["purple","blue","red","orange","teal","indigo","cyan","amber","pink","emerald","violet","lime","sky","rose","slate","green","yellow"];function R1({onDataChange:r}){const[o,d]=U.useState([]),[m,b]=U.useState(!0),[T,Y]=U.useState(null),[L,C]=U.useState({code:"",name:"",color:"blue"}),[D,P]=U.useState(!1),[q,ee]=U.useState({code:"",name:"",color:"blue"}),ue=async()=>{d(await If(!0)),b(!1)};U.useEffect(()=>{ue()},[]);const oe=async()=>{if(!q.name.trim()){we.error("");return}await s1({code:q.code.trim()||q.name.trim(),name:q.name.trim(),color:q.color}),we.success(""),P(!1),ee({code:"",name:"",color:"blue"}),r(),ue()},de=async w=>{if(!L.name.trim()){we.error("");return}await Ap(w,{code:L.code.trim(),name:L.name.trim(),color:L.color}),we.success(""),Y(null),r(),ue()},_e=async w=>{confirm("")&&(await i1(w),we.success(""),r(),ue())},be=async w=>{await Ap(w.id,{isActive:!w.isActive}),we.success(w.isActive?"":""),r(),ue()},Ae=async(w,ge)=>{const ve=ge==="up"?w-1:w+1;if(ve<0||ve>=o.length)return;const fe=[...o];[fe[w],fe[ve]]=[fe[ve],fe[w]],d(fe),await r1(fe.map(ce=>ce.id)),r()};return m?l.jsx(zi,{}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-slate-500",children:"  "}),!D&&l.jsxs("button",{onClick:()=>P(!0),className:"btn-primary text-sm flex items-center gap-1",children:[l.jsx(sa,{className:"w-4 h-4"})," "]})]}),D&&l.jsxs("div",{className:"card flex flex-col sm:flex-row gap-2",children:[l.jsx("input",{type:"text",placeholder:"",value:q.name,onChange:w=>ee({...q,name:w.target.value}),className:"input flex-1",autoFocus:!0}),l.jsx("select",{value:q.color,onChange:w=>ee({...q,color:w.target.value}),className:"input w-32",children:yu.map(w=>l.jsx("option",{value:w,children:w},w))}),l.jsx("button",{onClick:oe,className:"btn-primary",children:l.jsx(rn,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{P(!1),ee({code:"",name:"",color:"blue"})},className:"btn-secondary",children:l.jsx(Rt,{className:"w-4 h-4"})})]}),o.map((w,ge)=>l.jsxs("div",{className:`card flex items-center gap-2 ${w.isActive?"":"opacity-50"}`,children:[l.jsx(Bi,{index:ge,total:o.length,onMoveUp:()=>Ae(ge,"up"),onMoveDown:()=>Ae(ge,"down")}),T===w.id?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"text",value:L.name,onChange:ve=>C({...L,name:ve.target.value}),className:"input flex-1"}),l.jsx("select",{value:L.color,onChange:ve=>C({...L,color:ve.target.value}),className:"input w-32",children:yu.map(ve=>l.jsx("option",{value:ve,children:ve},ve))}),l.jsx("button",{onClick:()=>de(w.id),className:"btn-primary p-2",children:l.jsx(rn,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>Y(null),className:"btn-secondary p-2",children:l.jsx(Rt,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${vu[w.color]||"bg-slate-100 text-slate-700"}`,children:w.color}),l.jsx("span",{className:"flex-1 text-slate-700 truncate",children:w.name}),!w.isActive&&l.jsx("span",{className:"text-xs text-slate-400",children:"()"}),l.jsx("button",{onClick:()=>be(w),className:"text-xs text-slate-500 hover:text-slate-700",children:w.isActive?"":""}),l.jsx("button",{onClick:()=>{Y(w.id),C({code:w.code,name:w.name,color:w.color})},className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Fn,{className:"w-4 h-4 text-slate-400"})}),l.jsx("button",{onClick:()=>_e(w.id),className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(qn,{className:"w-4 h-4 text-red-400"})})]})]},w.id))]})}function U1({onDataChange:r}){const[o,d]=U.useState([]),[m,b]=U.useState(!0),[T,Y]=U.useState(null),[L,C]=U.useState({code:"",name:"",color:"blue"}),[D,P]=U.useState(!1),[q,ee]=U.useState({code:"",name:"",color:"blue"}),ue=async()=>{d(await j0(!0)),b(!1)};U.useEffect(()=>{ue()},[]);const oe=async()=>{if(!q.name.trim()){we.error("");return}await c1({code:q.code.trim()||q.name.trim(),name:q.name.trim(),color:q.color}),we.success(""),P(!1),ee({code:"",name:"",color:"blue"}),r(),ue()},de=async w=>{if(!L.name.trim()){we.error("");return}await Op(w,{code:L.code.trim(),name:L.name.trim(),color:L.color}),we.success(""),Y(null),r(),ue()},_e=async w=>{confirm("")&&(await u1(w),we.success(""),r(),ue())},be=async w=>{await Op(w.id,{isActive:!w.isActive}),we.success(w.isActive?"":""),r(),ue()},Ae=async(w,ge)=>{const ve=ge==="up"?w-1:w+1;if(ve<0||ve>=o.length)return;const fe=[...o];[fe[w],fe[ve]]=[fe[ve],fe[w]],d(fe),await o1(fe.map(ce=>ce.id)),r()};return m?l.jsx(zi,{}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-slate-500",children:"  "}),!D&&l.jsxs("button",{onClick:()=>P(!0),className:"btn-primary text-sm flex items-center gap-1",children:[l.jsx(sa,{className:"w-4 h-4"})," "]})]}),D&&l.jsxs("div",{className:"card flex flex-col sm:flex-row gap-2",children:[l.jsx("input",{type:"text",placeholder:"",value:q.name,onChange:w=>ee({...q,name:w.target.value}),className:"input flex-1",autoFocus:!0}),l.jsx("select",{value:q.color,onChange:w=>ee({...q,color:w.target.value}),className:"input w-32",children:yu.map(w=>l.jsx("option",{value:w,children:w},w))}),l.jsx("button",{onClick:oe,className:"btn-primary",children:l.jsx(rn,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{P(!1),ee({code:"",name:"",color:"blue"})},className:"btn-secondary",children:l.jsx(Rt,{className:"w-4 h-4"})})]}),o.map((w,ge)=>l.jsxs("div",{className:`card flex items-center gap-2 ${w.isActive?"":"opacity-50"}`,children:[l.jsx(Bi,{index:ge,total:o.length,onMoveUp:()=>Ae(ge,"up"),onMoveDown:()=>Ae(ge,"down")}),T===w.id?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"text",value:L.name,onChange:ve=>C({...L,name:ve.target.value}),className:"input flex-1"}),l.jsx("select",{value:L.color,onChange:ve=>C({...L,color:ve.target.value}),className:"input w-32",children:yu.map(ve=>l.jsx("option",{value:ve,children:ve},ve))}),l.jsx("button",{onClick:()=>de(w.id),className:"btn-primary p-2",children:l.jsx(rn,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>Y(null),className:"btn-secondary p-2",children:l.jsx(Rt,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${vu[w.color]||"bg-slate-100 text-slate-700"}`,children:w.color}),l.jsx("span",{className:"flex-1 text-slate-700 truncate",children:w.name}),!w.isActive&&l.jsx("span",{className:"text-xs text-slate-400",children:"()"}),l.jsx("button",{onClick:()=>be(w),className:"text-xs text-slate-500 hover:text-slate-700",children:w.isActive?"":""}),l.jsx("button",{onClick:()=>{Y(w.id),C({code:w.code,name:w.name,color:w.color})},className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Fn,{className:"w-4 h-4 text-slate-400"})}),l.jsx("button",{onClick:()=>_e(w.id),className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(qn,{className:"w-4 h-4 text-red-400"})})]})]},w.id))]})}function q1({onDataChange:r}){const[o,d]=U.useState([]),[m,b]=U.useState(!0),[T,Y]=U.useState(null),[L,C]=U.useState(""),[D,P]=U.useState(!1),[q,ee]=U.useState(""),ue=async()=>{d(await w0(!0)),b(!1)};U.useEffect(()=>{ue()},[]);const oe=async()=>{if(!q.trim()){we.error("");return}await f1({name:q.trim()}),we.success(""),P(!1),ee(""),r(),ue()},de=async w=>{if(!L.trim()){we.error("");return}await Mp(w,{name:L.trim()}),we.success(""),Y(null),r(),ue()},_e=async w=>{confirm("")&&(await d1(w),we.success(""),r(),ue())},be=async w=>{await Mp(w.id,{isActive:!w.isActive}),we.success(w.isActive?"":""),r(),ue()},Ae=async(w,ge)=>{const ve=ge==="up"?w-1:w+1;if(ve<0||ve>=o.length)return;const fe=[...o];[fe[w],fe[ve]]=[fe[ve],fe[w]],d(fe),await m1(fe.map(ce=>ce.id)),r()};return m?l.jsx(zi,{}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-slate-500",children:"  "}),!D&&l.jsxs("button",{onClick:()=>P(!0),className:"btn-primary text-sm flex items-center gap-1",children:[l.jsx(sa,{className:"w-4 h-4"})," "]})]}),D&&l.jsxs("div",{className:"card flex flex-col sm:flex-row gap-2",children:[l.jsx("input",{type:"text",placeholder:"",value:q,onChange:w=>ee(w.target.value),className:"input flex-1",autoFocus:!0}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:oe,className:"btn-primary",children:l.jsx(rn,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{P(!1),ee("")},className:"btn-secondary",children:l.jsx(Rt,{className:"w-4 h-4"})})]})]}),o.map((w,ge)=>l.jsxs("div",{className:`card flex items-center gap-2 ${w.isActive?"":"opacity-50"}`,children:[l.jsx(Bi,{index:ge,total:o.length,onMoveUp:()=>Ae(ge,"up"),onMoveDown:()=>Ae(ge,"down")}),l.jsx(Kf,{className:"w-4 h-4 text-primary-500"}),T===w.id?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"text",value:L,onChange:ve=>C(ve.target.value),className:"input flex-1"}),l.jsx("button",{onClick:()=>de(w.id),className:"btn-primary p-2",children:l.jsx(rn,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>Y(null),className:"btn-secondary p-2",children:l.jsx(Rt,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"flex-1 text-slate-700 truncate",children:w.name}),!w.isActive&&l.jsx("span",{className:"text-xs text-slate-400",children:"()"}),l.jsx("button",{onClick:()=>be(w),className:"text-xs text-slate-500 hover:text-slate-700",children:w.isActive?"":""}),l.jsx("button",{onClick:()=>{Y(w.id),C(w.name)},className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Fn,{className:"w-4 h-4 text-slate-400"})}),l.jsx("button",{onClick:()=>_e(w.id),className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(qn,{className:"w-4 h-4 text-red-400"})})]})]},w.id))]})}function H1(){const[r,o]=U.useState(!1),[d,m]=U.useState(!1),[b,T]=U.useState(!1),[Y,L]=U.useState(!1),[C,D]=U.useState(!1),[P,q]=U.useState(""),[ee,ue]=U.useState(""),[oe,de]=U.useState({}),_e=U.useRef(null),{setLastBackupDate:be}=Ca(),Ae=Hp(),w=qf();U.useEffect(()=>{ge()},[]);const ge=async()=>{const te={:await H.cancerTypes.count(),:await H.departments.count(),:await H.physicians.count(),:await H.imagingTypes.count(),:await H.eventTypes.count(),:await H.meetingTypes.count(),:await H.meetingLocations.count(),:await H.patients.count(),:await H.events.count(),:await H.workItems.count()};de(te)},ve=async()=>{o(!0);try{const te=await Hf();we.success(`${te}`),be(new Date().toISOString().split("T")[0])}catch(te){we.error(`${te.message}`)}finally{o(!1)}},fe=async te=>{const xe=te.target.files?.[0];if(xe){if(!confirm("")){_e.current&&(_e.current.value="");return}m(!0);try{const me=await Xp(xe);me.success?(we.success(me.message),window.location.reload()):we.error(me.message)}catch(me){we.error(`${me.message}`)}finally{m(!1),_e.current&&(_e.current.value="")}}},ce=async()=>{T(!0);try{const te=await H.patients.toArray(),xe=await H.events.toArray(),me=Fe(te,["id","mrn","name","sex","cancerTypeId","status","createdAt","updatedAt"]);nt(me,`patients_${He()}.csv`);const De=Fe(xe,["id","patientId","eventType","title","eventDate","dueDate","status","isCompleted","note","createdAt","updatedAt"]);nt(De,`events_${He()}.csv`),we.success("CSV ")}catch(te){we.error(`${te.message}`)}finally{T(!1)}},He=()=>new Date().toISOString().replace(/[:.]/g,"").slice(0,15),Fe=(te,xe)=>{if(te.length===0)return xe.join(",")+`
`;const me=xe.join(","),De=te.map(_=>xe.map(se=>{const F=_[se];return F==null?"":typeof F=="string"&&(F.includes(",")||F.includes('"')||F.includes(`
`))?`"${F.replace(/"/g,'""')}"`:String(F)}).join(","));return[me,...De].join(`
`)},nt=(te,xe)=>{const De=new Blob(["\uFEFF"+te],{type:"text/csv;charset=utf-8;"}),_=URL.createObjectURL(De),se=document.createElement("a");se.href=_,se.download=xe,document.body.appendChild(se),se.click(),document.body.removeChild(se),URL.revokeObjectURL(_)},st=te=>{try{return Dn(ia(te),"yyyy/MM/dd HH:mm",{locale:la})}catch{return te}};return l.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[l.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-800",children:""}),l.jsxs("div",{className:"card",children:[l.jsxs("h2",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx(Ef,{className:"w-5 h-5 text-primary-500"}),""]}),l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w===new Date().toISOString().split("T")[0]?l.jsx(Zl,{className:"w-6 h-6 text-green-500"}):w?l.jsx(Jp,{className:"w-6 h-6 text-amber-500"}):l.jsx(Da,{className:"w-6 h-6 text-red-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-slate-800",children:w===new Date().toISOString().split("T")[0]?"":w?`${w}`:""}),l.jsx("p",{className:"text-sm text-slate-500",children:""})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("button",{onClick:ve,disabled:r,className:"btn-primary flex items-center justify-center gap-2",children:[Ei()?l.jsx(Fp,{className:"w-5 h-5"}):l.jsx(ou,{className:"w-5 h-5"}),r?"...":Ei()?"":""]}),l.jsxs("button",{onClick:()=>_e.current?.click(),disabled:d,className:"btn-secondary flex items-center justify-center gap-2",children:[l.jsx(Af,{className:"w-5 h-5"}),d?"...":""]})]}),l.jsx("input",{ref:_e,type:"file",accept:".json",onChange:fe,className:"hidden"})]}),l.jsxs("div",{className:"card",children:[l.jsxs("h2",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx($v,{className:"w-5 h-5 text-primary-500"})," CSV"]}),l.jsx("p",{className:"text-slate-600 mb-4",children:" CSV  Excel "}),l.jsxs("button",{onClick:ce,disabled:b,className:"btn-secondary flex items-center gap-2",children:[l.jsx(ou,{className:"w-5 h-5"}),b?"...":" CSV + "]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("h2",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx(Ef,{className:"w-5 h-5 text-primary-500"}),""]}),l.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4 text-sm",children:Object.entries(oe).map(([te,xe])=>l.jsxs("div",{className:"bg-slate-50 rounded p-2 text-center",children:[l.jsx("div",{className:"font-medium text-slate-700",children:xe}),l.jsx("div",{className:"text-xs text-slate-500",children:te})]},te))}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("button",{onClick:ge,className:"btn-secondary flex items-center justify-center gap-2",children:[l.jsx(ug,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>{const te=String(Math.floor(1e3+Math.random()*9e3));ue(te),q(""),D(!0)},disabled:Y,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 disabled:opacity-50 flex items-center justify-center gap-2",children:[l.jsx(qn,{className:"w-4 h-4"}),Y?"...":""]})]}),l.jsx("p",{className:"text-xs text-slate-400 mt-3",children:""})]}),C&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full p-6 shadow-xl",children:[l.jsxs("h3",{className:"text-lg font-bold text-red-600 mb-4 flex items-center gap-2",children:[l.jsx(Da,{className:"w-6 h-6"}),""]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-slate-600 mb-2",children:" "}),l.jsx("p",{className:"text-slate-600 mb-4",children:""}),l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center mb-4",children:l.jsx("span",{className:"text-3xl font-mono font-bold text-red-600 tracking-widest",children:ee})}),l.jsx("input",{type:"text",value:P,onChange:te=>q(te.target.value.replace(/\D/g,"").slice(0,4)),placeholder:" 4 ",className:"input text-center text-2xl font-mono tracking-widest",maxLength:4,autoFocus:!0})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>D(!1),className:"flex-1 btn-secondary",children:""}),l.jsx("button",{onClick:async()=>{if(P!==ee){we.error("");return}D(!1),L(!0);try{await H.transaction("rw",[H.patients,H.events,H.cancerTypes,H.physicians,H.departments,H.imagingTypes,H.eventTypes,H.meetingTypes,H.meetingLocations,H.workItems,H.patientPhysicians],async()=>{await H.patients.clear(),await H.events.clear(),await H.cancerTypes.clear(),await H.physicians.clear(),await H.departments.clear(),await H.imagingTypes.clear(),await H.eventTypes.clear(),await H.meetingTypes.clear(),await H.meetingLocations.clear(),await H.workItems.clear(),await H.patientPhysicians.clear()}),await Rp(),we.success(""),ge()}catch(te){we.error(`${te.message}`)}finally{L(!1)}},disabled:P.length!==4,className:"flex-1 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 disabled:opacity-50",children:""})]})]})}),Ae.length>0&&l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"font-semibold text-slate-800 mb-4",children:""}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-auto",children:Ae.slice(0,10).map((te,xe)=>l.jsxs("div",{className:"flex items-center justify-between text-sm py-2 border-b border-slate-100 last:border-0",children:[l.jsx("span",{className:"text-slate-600",children:st(te.date)}),l.jsxs("span",{className:"text-slate-400",children:[te.recordCount," "]})]},xe))})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"font-semibold text-slate-800 mb-4",children:""}),l.jsxs("p",{className:"text-2xl font-bold text-primary-500 mb-4",children:["V",gu]}),l.jsx("div",{className:"space-y-4",children:cv.slice(0,3).map(te=>l.jsxs("div",{className:"border-l-2 border-slate-200 pl-4",children:[l.jsxs("p",{className:"font-medium text-slate-700",children:["V",te.version," - ",te.date]}),l.jsx("ul",{className:"text-sm text-slate-500 mt-1 space-y-0.5",children:te.changes.map((xe,me)=>l.jsxs("li",{children:[" ",xe]},me))})]},te.version))})]}),l.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Da,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-amber-800",children:""}),l.jsxs("ul",{className:"text-sm text-amber-700 mt-1 space-y-1",children:[l.jsx("li",{children:" "}),l.jsx("li",{children:" iOS Safari  7 "}),l.jsx("li",{children:" iCloudGoogle Drive"})]})]})]})})]})}function Y1(){const[r,o]=U.useState(!0),[d,m]=U.useState(null),{isBackupModalOpen:b,isDataLossModalOpen:T,openBackupModal:Y,openDataLossModal:L,setLastBackupDate:C}=Ca(),{currentPage:D}=Oi();U.useEffect(()=>{P()},[]);const P=async()=>{try{await iv();const ue=await mv(),oe=await dv(),de=qf();if(C(de),de&&oe){console.log("[App] "),L(),o(!1);return}ue&&!uv()&&(console.log("[App] "),Y()),o(!1)}catch(ue){console.error("[App] :",ue),m(ue.message),o(!1)}},q=()=>{console.log("[App] ")};if(r)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-600",children:"..."})]})});if(d)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:l.jsxs("div",{className:"card max-w-md w-full text-center",children:[l.jsx("div",{className:"text-red-500 text-5xl mb-4",children:""}),l.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:""}),l.jsx("p",{className:"text-slate-600 mb-4",children:d}),l.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:""})]})});const ee=()=>{switch(D){case"dashboard":return l.jsx(_p,{});case"patients":return l.jsx(b1,{});case"events":return l.jsx(S1,{});case"work":return l.jsx(C1,{});case"masterdata":return l.jsx(M1,{});case"tools":return l.jsx(H1,{});default:return l.jsx(_p,{})}};return l.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[l.jsx(Mg,{}),l.jsx("main",{className:"flex-1 pb-20 md:pb-0 overflow-auto",children:ee()}),l.jsx(Ag,{}),l.jsx(Cg,{}),b&&l.jsx(mp,{onComplete:q}),T&&l.jsx(mp,{onComplete:q,isDataLoss:!0})]})}$y.createRoot(document.getElementById("root")).render(l.jsx(U.StrictMode,{children:l.jsx(Y1,{})}));
