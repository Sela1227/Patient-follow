(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))m(b);new MutationObserver(b=>{for(const T of b)if(T.type==="childList")for(const Y of T.addedNodes)Y.tagName==="LINK"&&Y.rel==="modulepreload"&&m(Y)}).observe(document,{childList:!0,subtree:!0});function d(b){const T={};return b.integrity&&(T.integrity=b.integrity),b.referrerPolicy&&(T.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?T.credentials="include":b.crossOrigin==="anonymous"?T.credentials="omit":T.credentials="same-origin",T}function m(b){if(b.ep)return;b.ep=!0;const T=d(b);fetch(b.href,T)}})();var Hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vf={exports:{}},zr={};var Ih;function Yy(){if(Ih)return zr;Ih=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function d(m,b,T){var Y=null;if(T!==void 0&&(Y=""+T),b.key!==void 0&&(Y=""+b.key),"key"in b){T={};for(var L in b)L!=="key"&&(T[L]=b[L])}else T=b;return b=T.ref,{$$typeof:r,type:m,key:Y,ref:b!==void 0?b:null,props:T}}return zr.Fragment=o,zr.jsx=d,zr.jsxs=d,zr}var $h;function Ly(){return $h||($h=1,vf.exports=Yy()),vf.exports}var l=Ly(),gf={exports:{}},Je={};var Fh;function Ky(){if(Fh)return Je;Fh=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),D=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),te=Symbol.iterator;function ue(N){return N===null||typeof N!="object"?null:(N=te&&N[te]||N["@@iterator"],typeof N=="function"?N:null)}var oe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},de=Object.assign,_e={};function we(N,K,be){this.props=N,this.context=K,this.refs=_e,this.updater=be||oe}we.prototype.isReactComponent={},we.prototype.setState=function(N,K){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,K,"setState")},we.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Oe(){}Oe.prototype=we.prototype;function w(N,K,be){this.props=N,this.context=K,this.refs=_e,this.updater=be||oe}var xe=w.prototype=new Oe;xe.constructor=w,de(xe,we.prototype),xe.isPureReactComponent=!0;var ve=Array.isArray;function fe(){}var ce={H:null,A:null,T:null,S:null},qe=Object.prototype.hasOwnProperty;function Qe(N,K,be){var Te=be.ref;return{$$typeof:r,type:N,key:K,ref:Te!==void 0?Te:null,props:be}}function Fe(N,K){return Qe(N.type,K,N.props)}function at(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function ne(N){var K={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(be){return K[be]})}var ge=/\/+/g;function he(N,K){return typeof N=="object"&&N!==null&&N.key!=null?ne(""+N.key):K.toString(36)}function Ee(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(fe,fe):(N.status="pending",N.then(function(K){N.status==="pending"&&(N.status="fulfilled",N.value=K)},function(K){N.status==="pending"&&(N.status="rejected",N.reason=K)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function _(N,K,be,Te,Le){var Xe=typeof N;(Xe==="undefined"||Xe==="boolean")&&(N=null);var Ve=!1;if(N===null)Ve=!0;else switch(Xe){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(N.$$typeof){case r:case o:Ve=!0;break;case ee:return Ve=N._init,_(Ve(N._payload),K,be,Te,Le)}}if(Ve)return Le=Le(N),Ve=Te===""?"."+he(N,0):Te,ve(Le)?(be="",Ve!=null&&(be=Ve.replace(ge,"$&/")+"/"),_(Le,K,be,"",function(Ue){return Ue})):Le!=null&&(at(Le)&&(Le=Fe(Le,be+(Le.key==null||N&&N.key===Le.key?"":(""+Le.key).replace(ge,"$&/")+"/")+Ve)),K.push(Le)),1;Ve=0;var Gt=Te===""?".":Te+":";if(ve(N))for(var Ot=0;Ot<N.length;Ot++)Te=N[Ot],Xe=Gt+he(Te,Ot),Ve+=_(Te,K,be,Xe,Le);else if(Ot=ue(N),typeof Ot=="function")for(N=Ot.call(N),Ot=0;!(Te=N.next()).done;)Te=Te.value,Xe=Gt+he(Te,Ot++),Ve+=_(Te,K,be,Xe,Le);else if(Xe==="object"){if(typeof N.then=="function")return _(Ee(N),K,be,Te,Le);throw K=String(N),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function re(N,K,be){if(N==null)return N;var Te=[],Le=0;return _(N,Te,"","",function(Xe){return K.call(be,Xe,Le++)}),Te}function W(N){if(N._status===-1){var K=N._result;K=K(),K.then(function(be){(N._status===0||N._status===-1)&&(N._status=1,N._result=be)},function(be){(N._status===0||N._status===-1)&&(N._status=2,N._result=be)}),N._status===-1&&(N._status=0,N._result=K)}if(N._status===1)return N._result.default;throw N._result}var ze=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},$={map:re,forEach:function(N,K,be){re(N,function(){K.apply(this,arguments)},be)},count:function(N){var K=0;return re(N,function(){K++}),K},toArray:function(N){return re(N,function(K){return K})||[]},only:function(N){if(!at(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Je.Activity=U,Je.Children=$,Je.Component=we,Je.Fragment=d,Je.Profiler=b,Je.PureComponent=w,Je.StrictMode=m,Je.Suspense=C,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Je.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ce.H.useMemoCache(N)}},Je.cache=function(N){return function(){return N.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(N,K,be){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var Te=de({},N.props),Le=N.key;if(K!=null)for(Xe in K.key!==void 0&&(Le=""+K.key),K)!qe.call(K,Xe)||Xe==="key"||Xe==="__self"||Xe==="__source"||Xe==="ref"&&K.ref===void 0||(Te[Xe]=K[Xe]);var Xe=arguments.length-2;if(Xe===1)Te.children=be;else if(1<Xe){for(var Ve=Array(Xe),Gt=0;Gt<Xe;Gt++)Ve[Gt]=arguments[Gt+2];Te.children=Ve}return Qe(N.type,Le,Te)},Je.createContext=function(N){return N={$$typeof:Y,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:T,_context:N},N},Je.createElement=function(N,K,be){var Te,Le={},Xe=null;if(K!=null)for(Te in K.key!==void 0&&(Xe=""+K.key),K)qe.call(K,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(Le[Te]=K[Te]);var Ve=arguments.length-2;if(Ve===1)Le.children=be;else if(1<Ve){for(var Gt=Array(Ve),Ot=0;Ot<Ve;Ot++)Gt[Ot]=arguments[Ot+2];Le.children=Gt}if(N&&N.defaultProps)for(Te in Ve=N.defaultProps,Ve)Le[Te]===void 0&&(Le[Te]=Ve[Te]);return Qe(N,Xe,Le)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(N){return{$$typeof:L,render:N}},Je.isValidElement=at,Je.lazy=function(N){return{$$typeof:ee,_payload:{_status:-1,_result:N},_init:W}},Je.memo=function(N,K){return{$$typeof:D,type:N,compare:K===void 0?null:K}},Je.startTransition=function(N){var K=ce.T,be={};ce.T=be;try{var Te=N(),Le=ce.S;Le!==null&&Le(be,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(fe,ze)}catch(Xe){ze(Xe)}finally{K!==null&&be.types!==null&&(K.types=be.types),ce.T=K}},Je.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Je.use=function(N){return ce.H.use(N)},Je.useActionState=function(N,K,be){return ce.H.useActionState(N,K,be)},Je.useCallback=function(N,K){return ce.H.useCallback(N,K)},Je.useContext=function(N){return ce.H.useContext(N)},Je.useDebugValue=function(){},Je.useDeferredValue=function(N,K){return ce.H.useDeferredValue(N,K)},Je.useEffect=function(N,K){return ce.H.useEffect(N,K)},Je.useEffectEvent=function(N){return ce.H.useEffectEvent(N)},Je.useId=function(){return ce.H.useId()},Je.useImperativeHandle=function(N,K,be){return ce.H.useImperativeHandle(N,K,be)},Je.useInsertionEffect=function(N,K){return ce.H.useInsertionEffect(N,K)},Je.useLayoutEffect=function(N,K){return ce.H.useLayoutEffect(N,K)},Je.useMemo=function(N,K){return ce.H.useMemo(N,K)},Je.useOptimistic=function(N,K){return ce.H.useOptimistic(N,K)},Je.useReducer=function(N,K,be){return ce.H.useReducer(N,K,be)},Je.useRef=function(N){return ce.H.useRef(N)},Je.useState=function(N){return ce.H.useState(N)},Je.useSyncExternalStore=function(N,K,be){return ce.H.useSyncExternalStore(N,K,be)},Je.useTransition=function(){return ce.H.useTransition()},Je.version="19.2.4",Je}var Wh;function kf(){return Wh||(Wh=1,gf.exports=Ky()),gf.exports}var H=kf();const tu=kp(H);var xf={exports:{}},Br={},bf={exports:{}},jf={};var Ph;function Xy(){return Ph||(Ph=1,(function(r){function o(_,re){var W=_.length;_.push(re);e:for(;0<W;){var ze=W-1>>>1,$=_[ze];if(0<b($,re))_[ze]=re,_[W]=$,W=ze;else break e}}function d(_){return _.length===0?null:_[0]}function m(_){if(_.length===0)return null;var re=_[0],W=_.pop();if(W!==re){_[0]=W;e:for(var ze=0,$=_.length,N=$>>>1;ze<N;){var K=2*(ze+1)-1,be=_[K],Te=K+1,Le=_[Te];if(0>b(be,W))Te<$&&0>b(Le,be)?(_[ze]=Le,_[Te]=W,ze=Te):(_[ze]=be,_[K]=W,ze=K);else if(Te<$&&0>b(Le,W))_[ze]=Le,_[Te]=W,ze=Te;else break e}}return re}function b(_,re){var W=_.sortIndex-re.sortIndex;return W!==0?W:_.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var T=performance;r.unstable_now=function(){return T.now()}}else{var Y=Date,L=Y.now();r.unstable_now=function(){return Y.now()-L}}var C=[],D=[],ee=1,U=null,te=3,ue=!1,oe=!1,de=!1,_e=!1,we=typeof setTimeout=="function"?setTimeout:null,Oe=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function xe(_){for(var re=d(D);re!==null;){if(re.callback===null)m(D);else if(re.startTime<=_)m(D),re.sortIndex=re.expirationTime,o(C,re);else break;re=d(D)}}function ve(_){if(de=!1,xe(_),!oe)if(d(C)!==null)oe=!0,fe||(fe=!0,ne());else{var re=d(D);re!==null&&Ee(ve,re.startTime-_)}}var fe=!1,ce=-1,qe=5,Qe=-1;function Fe(){return _e?!0:!(r.unstable_now()-Qe<qe)}function at(){if(_e=!1,fe){var _=r.unstable_now();Qe=_;var re=!0;try{e:{oe=!1,de&&(de=!1,Oe(ce),ce=-1),ue=!0;var W=te;try{t:{for(xe(_),U=d(C);U!==null&&!(U.expirationTime>_&&Fe());){var ze=U.callback;if(typeof ze=="function"){U.callback=null,te=U.priorityLevel;var $=ze(U.expirationTime<=_);if(_=r.unstable_now(),typeof $=="function"){U.callback=$,xe(_),re=!0;break t}U===d(C)&&m(C),xe(_)}else m(C);U=d(C)}if(U!==null)re=!0;else{var N=d(D);N!==null&&Ee(ve,N.startTime-_),re=!1}}break e}finally{U=null,te=W,ue=!1}re=void 0}}finally{re?ne():fe=!1}}}var ne;if(typeof w=="function")ne=function(){w(at)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,he=ge.port2;ge.port1.onmessage=at,ne=function(){he.postMessage(null)}}else ne=function(){we(at,0)};function Ee(_,re){ce=we(function(){_(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(_){_.callback=null},r.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qe=0<_?Math.floor(1e3/_):5},r.unstable_getCurrentPriorityLevel=function(){return te},r.unstable_next=function(_){switch(te){case 1:case 2:case 3:var re=3;break;default:re=te}var W=te;te=re;try{return _()}finally{te=W}},r.unstable_requestPaint=function(){_e=!0},r.unstable_runWithPriority=function(_,re){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var W=te;te=_;try{return re()}finally{te=W}},r.unstable_scheduleCallback=function(_,re,W){var ze=r.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ze+W:ze):W=ze,_){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=W+$,_={id:ee++,callback:re,priorityLevel:_,startTime:W,expirationTime:$,sortIndex:-1},W>ze?(_.sortIndex=W,o(D,_),d(C)===null&&_===d(D)&&(de?(Oe(ce),ce=-1):de=!0,Ee(ve,W-ze))):(_.sortIndex=$,o(C,_),oe||ue||(oe=!0,fe||(fe=!0,ne()))),_},r.unstable_shouldYield=Fe,r.unstable_wrapCallback=function(_){var re=te;return function(){var W=te;te=re;try{return _.apply(this,arguments)}finally{te=W}}}})(jf)),jf}var ep;function Gy(){return ep||(ep=1,bf.exports=Xy()),bf.exports}var wf={exports:{}},dn={};var tp;function Qy(){if(tp)return dn;tp=1;var r=kf();function o(C){var D="https://react.dev/errors/"+C;if(1<arguments.length){D+="?args[]="+encodeURIComponent(arguments[1]);for(var ee=2;ee<arguments.length;ee++)D+="&args[]="+encodeURIComponent(arguments[ee])}return"Minified React error #"+C+"; visit "+D+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var m={d:{f:d,r:function(){throw Error(o(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},b=Symbol.for("react.portal");function T(C,D,ee){var U=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:U==null?null:""+U,children:C,containerInfo:D,implementation:ee}}var Y=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function L(C,D){if(C==="font")return"";if(typeof D=="string")return D==="use-credentials"?D:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=m,dn.createPortal=function(C,D){var ee=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D||D.nodeType!==1&&D.nodeType!==9&&D.nodeType!==11)throw Error(o(299));return T(C,D,null,ee)},dn.flushSync=function(C){var D=Y.T,ee=m.p;try{if(Y.T=null,m.p=2,C)return C()}finally{Y.T=D,m.p=ee,m.d.f()}},dn.preconnect=function(C,D){typeof C=="string"&&(D?(D=D.crossOrigin,D=typeof D=="string"?D==="use-credentials"?D:"":void 0):D=null,m.d.C(C,D))},dn.prefetchDNS=function(C){typeof C=="string"&&m.d.D(C)},dn.preinit=function(C,D){if(typeof C=="string"&&D&&typeof D.as=="string"){var ee=D.as,U=L(ee,D.crossOrigin),te=typeof D.integrity=="string"?D.integrity:void 0,ue=typeof D.fetchPriority=="string"?D.fetchPriority:void 0;ee==="style"?m.d.S(C,typeof D.precedence=="string"?D.precedence:void 0,{crossOrigin:U,integrity:te,fetchPriority:ue}):ee==="script"&&m.d.X(C,{crossOrigin:U,integrity:te,fetchPriority:ue,nonce:typeof D.nonce=="string"?D.nonce:void 0})}},dn.preinitModule=function(C,D){if(typeof C=="string")if(typeof D=="object"&&D!==null){if(D.as==null||D.as==="script"){var ee=L(D.as,D.crossOrigin);m.d.M(C,{crossOrigin:ee,integrity:typeof D.integrity=="string"?D.integrity:void 0,nonce:typeof D.nonce=="string"?D.nonce:void 0})}}else D==null&&m.d.M(C)},dn.preload=function(C,D){if(typeof C=="string"&&typeof D=="object"&&D!==null&&typeof D.as=="string"){var ee=D.as,U=L(ee,D.crossOrigin);m.d.L(C,ee,{crossOrigin:U,integrity:typeof D.integrity=="string"?D.integrity:void 0,nonce:typeof D.nonce=="string"?D.nonce:void 0,type:typeof D.type=="string"?D.type:void 0,fetchPriority:typeof D.fetchPriority=="string"?D.fetchPriority:void 0,referrerPolicy:typeof D.referrerPolicy=="string"?D.referrerPolicy:void 0,imageSrcSet:typeof D.imageSrcSet=="string"?D.imageSrcSet:void 0,imageSizes:typeof D.imageSizes=="string"?D.imageSizes:void 0,media:typeof D.media=="string"?D.media:void 0})}},dn.preloadModule=function(C,D){if(typeof C=="string")if(D){var ee=L(D.as,D.crossOrigin);m.d.m(C,{as:typeof D.as=="string"&&D.as!=="script"?D.as:void 0,crossOrigin:ee,integrity:typeof D.integrity=="string"?D.integrity:void 0})}else m.d.m(C)},dn.requestFormReset=function(C){m.d.r(C)},dn.unstable_batchedUpdates=function(C,D){return C(D)},dn.useFormState=function(C,D,ee){return Y.H.useFormState(C,D,ee)},dn.useFormStatus=function(){return Y.H.useHostTransitionStatus()},dn.version="19.2.4",dn}var np;function Vy(){if(np)return wf.exports;np=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),wf.exports=Qy(),wf.exports}var ap;function Zy(){if(ap)return Br;ap=1;var r=Gy(),o=kf(),d=Vy();function m(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function T(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Y(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function L(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function C(e){if(T(e)!==e)throw Error(m(188))}function D(e){var t=e.alternate;if(!t){if(t=T(e),t===null)throw Error(m(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var c=i.alternate;if(c===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===c.child){for(c=i.child;c;){if(c===n)return C(i),e;if(c===a)return C(i),t;c=c.sibling}throw Error(m(188))}if(n.return!==a.return)n=i,a=c;else{for(var p=!1,g=i.child;g;){if(g===n){p=!0,n=i,a=c;break}if(g===a){p=!0,a=i,n=c;break}g=g.sibling}if(!p){for(g=c.child;g;){if(g===n){p=!0,n=c,a=i;break}if(g===a){p=!0,a=c,n=i;break}g=g.sibling}if(!p)throw Error(m(189))}}if(n.alternate!==a)throw Error(m(190))}if(n.tag!==3)throw Error(m(188));return n.stateNode.current===n?e:t}function ee(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=ee(e),t!==null)return t;e=e.sibling}return null}var U=Object.assign,te=Symbol.for("react.element"),ue=Symbol.for("react.transitional.element"),oe=Symbol.for("react.portal"),de=Symbol.for("react.fragment"),_e=Symbol.for("react.strict_mode"),we=Symbol.for("react.profiler"),Oe=Symbol.for("react.consumer"),w=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),Qe=Symbol.for("react.activity"),Fe=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=at&&e[at]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Symbol.for("react.client.reference");function he(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ge?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case de:return"Fragment";case we:return"Profiler";case _e:return"StrictMode";case ve:return"Suspense";case fe:return"SuspenseList";case Qe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case oe:return"Portal";case w:return e.displayName||"Context";case Oe:return(e._context.displayName||"Context")+".Consumer";case xe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ce:return t=e.displayName||null,t!==null?t:he(e.type)||"Memo";case qe:t=e._payload,e=e._init;try{return he(e(t))}catch{}}return null}var Ee=Array.isArray,_=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ze=[],$=-1;function N(e){return{current:e}}function K(e){0>$||(e.current=ze[$],ze[$]=null,$--)}function be(e,t){$++,ze[$]=e.current,e.current=t}var Te=N(null),Le=N(null),Xe=N(null),Ve=N(null);function Gt(e,t){switch(be(Xe,t),be(Le,e),be(Te,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=gh(t),e=xh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(Te),be(Te,e)}function Ot(){K(Te),K(Le),K(Xe)}function Ue(e){e.memoizedState!==null&&be(Ve,e);var t=Te.current,n=xh(t,e.type);t!==n&&(be(Le,e),be(Te,n))}function Gl(e){Le.current===e&&(K(Te),K(Le)),Ve.current===e&&(K(Ve),Or._currentValue=W)}var ct,ll;function Ta(e){if(ct===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ct=t&&t[1]||"",ll=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ct+e+ll}var Jn=!1;function Mi(e,t){if(!e||Jn)return"";Jn=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(P){var F=P}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(P){F=P}e.call(ie.prototype)}}else{try{throw Error()}catch(P){F=P}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(P){if(P&&F&&typeof P.stack=="string")return[P.stack,F.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),p=c[0],g=c[1];if(p&&g){var S=p.split(`
`),J=g.split(`
`);for(i=a=0;a<S.length&&!S[a].includes("DetermineComponentFrameRoot");)a++;for(;i<J.length&&!J[i].includes("DetermineComponentFrameRoot");)i++;if(a===S.length||i===J.length)for(a=S.length-1,i=J.length-1;1<=a&&0<=i&&S[a]!==J[i];)i--;for(;1<=a&&0<=i;a--,i--)if(S[a]!==J[i]){if(a!==1||i!==1)do if(a--,i--,0>i||S[a]!==J[i]){var le=`
`+S[a].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=a&&0<=i);break}}}finally{Jn=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ta(n):""}function ju(e,t){switch(e.tag){case 26:case 27:case 5:return Ta(e.type);case 16:return Ta("Lazy");case 13:return e.child!==t&&t!==null?Ta("Suspense Fallback"):Ta("Suspense");case 19:return Ta("SuspenseList");case 0:case 15:return Mi(e.type,!1);case 11:return Mi(e.type.render,!1);case 1:return Mi(e.type,!0);case 31:return Ta("Activity");default:return""}}function Yr(e){try{var t="",n=null;do t+=ju(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var ki=Object.prototype.hasOwnProperty,Ql=r.unstable_scheduleCallback,vn=r.unstable_cancelCallback,Lr=r.unstable_shouldYield,Vl=r.unstable_requestPaint,sn=r.unstable_now,Zl=r.unstable_getCurrentPriorityLevel,rn=r.unstable_ImmediatePriority,la=r.unstable_UserBlockingPriority,sl=r.unstable_NormalPriority,Jl=r.unstable_LowPriority,Cs=r.unstable_IdlePriority,Es=r.log,_a=r.unstable_setDisableYieldValue,sa=null,Ft=null;function Wt(e){if(typeof Es=="function"&&_a(e),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(sa,e)}catch{}}var Ae=Math.clz32?Math.clz32:Os,Il=Math.log,Da=Math.LN2;function Os(e){return e>>>=0,e===0?32:31-(Il(e)/Da|0)|0}var De=256,il=262144,$l=4194304;function In(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fl(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,c=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var g=a&134217727;return g!==0?(a=g&~c,a!==0?i=In(a):(p&=g,p!==0?i=In(p):n||(n=g&~e,n!==0&&(i=In(n))))):(g=a&~c,g!==0?i=In(g):p!==0?i=In(p):n||(n=a&~e,n!==0&&(i=In(n)))),i===0?0:t!==0&&t!==i&&(t&c)===0&&(c=i&-i,n=t&-t,c>=n||c===32&&(n&4194048)!==0)?t:i}function Ca(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function wu(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kr(){var e=$l;return $l<<=1,($l&62914560)===0&&($l=4194304),e}function ia(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zi(e,t,n,a,i,c){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var g=e.entanglements,S=e.expirationTimes,J=e.hiddenUpdates;for(n=p&~n;0<n;){var le=31-Ae(n),ie=1<<le;g[le]=0,S[le]=-1;var F=J[le];if(F!==null)for(J[le]=null,le=0;le<F.length;le++){var P=F[le];P!==null&&(P.lane&=-536870913)}n&=~ie}a!==0&&Wl(e,a,0),c!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=c&~(p&~t))}function Wl(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ae(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function wt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Ae(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function zt(e,t){var n=t&-t;return n=(n&42)!==0?1:Bi(n),(n&(e.suspendedLanes|t))!==0?0:n}function Bi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function rl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Pl(){var e=re.p;return e!==0?e:(e=window.event,e===void 0?32:Kh(e.type))}function es(e,t){var n=re.p;try{return re.p=e,t()}finally{re.p=n}}var ra=Math.random().toString(36).slice(2),St="__reactFiber$"+ra,Bt="__reactProps$"+ra,mn="__reactContainer$"+ra,cl="__reactEvents$"+ra,Nu="__reactListeners$"+ra,ca="__reactHandles$"+ra,Ri="__reactResources$"+ra,Tn="__reactMarker$"+ra;function As(e){delete e[St],delete e[Bt],delete e[cl],delete e[Nu],delete e[ca]}function ua(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mn]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_h(e);e!==null;){if(n=e[St])return n;e=_h(e)}return t}e=n,n=e.parentNode}return null}function vt(e){if(e=e[St]||e[mn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function _n(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(m(33))}function cn(e){var t=e[Ri];return t||(t=e[Ri]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Rt(e){e[Tn]=!0}var Ea=new Set,ts={};function $n(e,t){oa(e,t),oa(e+"Capture",t)}function oa(e,t){for(ts[e]=t,e=0;e<t.length;e++)Ea.add(t[e])}var Oa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ui={},ns={};function Xr(e){return ki.call(ns,e)?!0:ki.call(Ui,e)?!1:Oa.test(e)?ns[e]=!0:(Ui[e]=!0,!1)}function Pe(e,t,n){if(Xr(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function as(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Rn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ul(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Gr(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,c=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){n=""+p,c.call(this,p)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ms(e){if(!e._valueTracker){var t=ul(e)?"checked":"value";e._valueTracker=Gr(e,t,""+e[t])}}function qi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ul(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function ft(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ls=/[\n"\\]/g;function Zt(e){return e.replace(ls,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function fa(e,t,n,a,i,c,p,g){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Pt(t)):e.value!==""+Pt(t)&&(e.value=""+Pt(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?ss(e,p,Pt(t)):n!=null?ss(e,p,Pt(n)):a!=null&&e.removeAttribute("value"),i==null&&c!=null&&(e.defaultChecked=!!c),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+Pt(g):e.removeAttribute("name")}function ks(e,t,n,a,i,c,p,g){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||n!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Ms(e);return}n=n!=null?""+Pt(n):"",t=t!=null?""+Pt(t):n,g||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=g?e.checked:!!a,e.defaultChecked=!!a,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ms(e)}function ss(e,t,n){t==="number"&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Fn(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Pt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Hi(e,t,n){if(t!=null&&(t=""+Pt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Pt(n):""}function is(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(m(92));if(Ee(a)){if(1<a.length)throw Error(m(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Pt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Ms(e)}function Aa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function it(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Su.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Yi(e,t,n){if(t!=null&&typeof t!="object")throw Error(m(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&it(e,i,a)}else for(var c in t)t.hasOwnProperty(c)&&it(e,c,t[c])}function Li(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wn(e){return hn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function gn(){}var Un=null;function zs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ma=null,Tt=null;function Dn(e){var t=vt(e);if(t&&(e=t.stateNode)){var n=e[Bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(fa(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Zt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[Bt]||null;if(!i)throw Error(m(90));fa(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&qi(a)}break e;case"textarea":Hi(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Fn(e,!!n.multiple,t,!1)}}}var ka=!1;function ol(e,t,n){if(ka)return e(t,n);ka=!0;try{var a=e(t);return a}finally{if(ka=!1,(Ma!==null||Tt!==null)&&(kc(),Ma&&(t=Ma,e=Tt,Tt=Ma=null,Dn(t),e)))for(t=0;t<e.length;t++)Dn(e[t])}}function za(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Bt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(m(231,t,typeof n));return n}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ki=!1;if(Jt)try{var un={};Object.defineProperty(un,"passive",{get:function(){Ki=!0}}),window.addEventListener("test",un,un),window.removeEventListener("test",un,un)}catch{Ki=!1}var qn=null,Bs=null,fl=null;function dl(){if(fl)return fl;var e,t=Bs,n=t.length,a,i="value"in qn?qn.value:qn.textContent,c=i.length;for(e=0;e<n&&t[e]===i[e];e++);var p=n-e;for(a=1;a<=p&&t[n-a]===i[c-a];a++);return fl=i.slice(e,1<a?1-a:void 0)}function ml(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rs(){return!0}function Qr(){return!1}function Ht(e){function t(n,a,i,c,p){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=c,this.target=p,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?rs:Qr,this.isPropagationStopped=Qr,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),t}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rs=Ht(Ba),da=U({},Ba,{view:0,detail:0}),Us=Ht(da),cs,Xi,us,qs=U({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ra,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==us&&(us&&e.type==="mousemove"?(cs=e.screenX-us.screenX,Xi=e.screenY-us.screenY):Xi=cs=0,us=e),cs)},movementY:function(e){return"movementY"in e?e.movementY:Xi}}),Hs=Ht(qs),Gi=U({},qs,{dataTransfer:0}),Vr=Ht(Gi),Ys=U({},da,{relatedTarget:0}),hl=Ht(Ys),Ls=U({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),Zr=Ht(Ls),_u=U({},Ba,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pl=Ht(_u),Qi=U({},Ba,{data:0}),Ks=Ht(Qi),Vi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},It={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function os(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=It[e])?!!t[e]:!1}function Ra(){return os}var Jr=U({},da,{key:function(e){if(e.key){var t=Vi[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ra,charCode:function(e){return e.type==="keypress"?ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xs=Ht(Jr),Ir=U({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Ht(Ir),Gs=U({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ra}),Ii=Ht(Gs),Ua=U({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),$i=Ht(Ua),Fi=U({},qs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qs=Ht(Fi),Wi=U({},Ba,{newState:0,oldState:0}),$r=Ht(Wi),Du=[9,13,27,32],fs=Jt&&"CompositionEvent"in window,ma=null;Jt&&"documentMode"in document&&(ma=document.documentMode);var Cu=Jt&&"TextEvent"in window&&!ma,Vs=Jt&&(!fs||ma&&8<ma&&11>=ma),Zs=" ",Fr=!1;function Pi(e,t){switch(e){case"keyup":return Du.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qa=!1;function Pr(e,t){switch(e){case"compositionend":return Wr(t);case"keypress":return t.which!==32?null:(Fr=!0,Zs);case"textInput":return e=t.data,e===Zs&&Fr?null:e;default:return null}}function Eu(e,t){if(qa)return e==="compositionend"||!fs&&Pi(e,t)?(e=dl(),fl=Bs=qn=null,qa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vs&&t.locale!=="ko"?null:t.data;default:return null}}var ec={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Js(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ec[e.type]:t==="textarea"}function er(e,t,n,a){Ma?Tt?Tt.push(a):Tt=[a]:Ma=a,t=Yc(t,"onChange"),0<t.length&&(n=new Rs("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var yl=null,ds=null;function Ou(e){dh(e,0)}function Is(e){var t=_n(e);if(qi(t))return e}function ms(e,t){if(e==="change")return t}var Hn=!1;if(Jt){var _t;if(Jt){var vl="oninput"in document;if(!vl){var Ha=document.createElement("div");Ha.setAttribute("oninput","return;"),vl=typeof Ha.oninput=="function"}_t=vl}else _t=!1;Hn=_t&&(!document.documentMode||9<document.documentMode)}function tc(){yl&&(yl.detachEvent("onpropertychange",$s),ds=yl=null)}function $s(e){if(e.propertyName==="value"&&Is(ds)){var t=[];er(t,ds,e,zs(e)),ol(Ou,t)}}function nc(e,t,n){e==="focusin"?(tc(),yl=t,ds=n,yl.attachEvent("onpropertychange",$s)):e==="focusout"&&tc()}function Ya(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Is(ds)}function tr(e,t){if(e==="click")return Is(t)}function gl(e,t){if(e==="input"||e==="change")return Is(t)}function ha(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:ha;function s(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!ki.call(t,i)||!on(e[i],t[i]))return!1}return!0}function u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f(e,t){var n=u(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u(n)}}function h(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function y(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ft(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ft(e.document)}return t}function v(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var x=Jt&&"documentMode"in document&&11>=document.documentMode,j=null,O=null,G=null,A=!1;function E(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;A||j==null||j!==ft(a)||(a=j,"selectionStart"in a&&v(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),G&&s(G,a)||(G=a,a=Yc(O,"onSelect"),0<a.length&&(t=new Rs("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=j)))}function z(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var R={animationend:z("Animation","AnimationEnd"),animationiteration:z("Animation","AnimationIteration"),animationstart:z("Animation","AnimationStart"),transitionrun:z("Transition","TransitionRun"),transitionstart:z("Transition","TransitionStart"),transitioncancel:z("Transition","TransitionCancel"),transitionend:z("Transition","TransitionEnd")},M={},k={};Jt&&(k=document.createElement("div").style,"AnimationEvent"in window||(delete R.animationend.animation,delete R.animationiteration.animation,delete R.animationstart.animation),"TransitionEvent"in window||delete R.transitionend.transition);function V(e){if(M[e])return M[e];if(!R[e])return e;var t=R[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in k)return M[e]=t[n];return e}var I=V("animationend"),Q=V("animationiteration"),ae=V("animationstart"),me=V("transitionrun"),Ne=V("transitionstart"),Se=V("transitioncancel"),pe=V("transitionend"),Me=new Map,Ce="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ce.push("scrollEnd");function ye(e,t){Me.set(e,t),$n(t,[e])}var ke=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ge=[],et=0,He=0;function Ze(){for(var e=et,t=He=et=0;t<e;){var n=Ge[t];Ge[t++]=null;var a=Ge[t];Ge[t++]=null;var i=Ge[t];Ge[t++]=null;var c=Ge[t];if(Ge[t++]=null,a!==null&&i!==null){var p=a.pending;p===null?i.next=i:(i.next=p.next,p.next=i),a.pending=i}c!==0&&pa(n,i,c)}}function gt(e,t,n,a){Ge[et++]=e,Ge[et++]=t,Ge[et++]=n,Ge[et++]=a,He|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function fn(e,t,n,a){return gt(e,t,n,a),xl(e)}function mt(e,t){return gt(e,null,null,t),xl(e)}function pa(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,c=e.return;c!==null;)c.childLanes|=n,a=c.alternate,a!==null&&(a.childLanes|=n),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(i=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,i&&t!==null&&(i=31-Ae(n),e=c.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),c):null}function xl(e){if(50<Nr)throw Nr=0,Yo=null,Error(m(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Fs={};function w0(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,t,n,a){return new w0(e,t,n,a)}function Au(e){return e=e.prototype,!(!e||!e.isReactComponent)}function La(e,t){var n=e.alternate;return n===null?(n=Cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Jf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ac(e,t,n,a,i,c){var p=0;if(a=e,typeof e=="function")Au(e)&&(p=1);else if(typeof e=="string")p=Dy(e,n,Te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Qe:return e=Cn(31,n,t,i),e.elementType=Qe,e.lanes=c,e;case de:return hs(n.children,i,c,t);case _e:p=8,i|=24;break;case we:return e=Cn(12,n,t,i|2),e.elementType=we,e.lanes=c,e;case ve:return e=Cn(13,n,t,i),e.elementType=ve,e.lanes=c,e;case fe:return e=Cn(19,n,t,i),e.elementType=fe,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w:p=10;break e;case Oe:p=9;break e;case xe:p=11;break e;case ce:p=14;break e;case qe:p=16,a=null;break e}p=29,n=Error(m(130,e===null?"null":typeof e,"")),a=null}return t=Cn(p,n,t,i),t.elementType=e,t.type=a,t.lanes=c,t}function hs(e,t,n,a){return e=Cn(7,e,a,t),e.lanes=n,e}function Mu(e,t,n){return e=Cn(6,e,null,t),e.lanes=n,e}function If(e){var t=Cn(18,null,null,0);return t.stateNode=e,t}function ku(e,t,n){return t=Cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $f=new WeakMap;function Yn(e,t){if(typeof e=="object"&&e!==null){var n=$f.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Yr(t)},$f.set(e,t),t)}return{value:e,source:t,stack:Yr(t)}}var Ws=[],Ps=0,lc=null,nr=0,Ln=[],Kn=0,bl=null,ya=1,va="";function Ka(e,t){Ws[Ps++]=nr,Ws[Ps++]=lc,lc=e,nr=t}function Ff(e,t,n){Ln[Kn++]=ya,Ln[Kn++]=va,Ln[Kn++]=bl,bl=e;var a=ya;e=va;var i=32-Ae(a)-1;a&=~(1<<i),n+=1;var c=32-Ae(t)+i;if(30<c){var p=i-i%5;c=(a&(1<<p)-1).toString(32),a>>=p,i-=p,ya=1<<32-Ae(t)+i|n<<i|a,va=c+e}else ya=1<<c|n<<i|a,va=e}function zu(e){e.return!==null&&(Ka(e,1),Ff(e,1,0))}function Bu(e){for(;e===lc;)lc=Ws[--Ps],Ws[Ps]=null,nr=Ws[--Ps],Ws[Ps]=null;for(;e===bl;)bl=Ln[--Kn],Ln[Kn]=null,va=Ln[--Kn],Ln[Kn]=null,ya=Ln[--Kn],Ln[Kn]=null}function Wf(e,t){Ln[Kn++]=ya,Ln[Kn++]=va,Ln[Kn++]=bl,ya=t.id,va=t.overflow,bl=e}var en=null,Dt=null,rt=!1,jl=null,Xn=!1,Ru=Error(m(519));function wl(e){var t=Error(m(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ar(Yn(t,e)),Ru}function Pf(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[St]=e,t[Bt]=a,n){case"dialog":nt("cancel",t),nt("close",t);break;case"iframe":case"object":case"embed":nt("load",t);break;case"video":case"audio":for(n=0;n<Tr.length;n++)nt(Tr[n],t);break;case"source":nt("error",t);break;case"img":case"image":case"link":nt("error",t),nt("load",t);break;case"details":nt("toggle",t);break;case"input":nt("invalid",t),ks(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":nt("invalid",t);break;case"textarea":nt("invalid",t),is(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||yh(t.textContent,n)?(a.popover!=null&&(nt("beforetoggle",t),nt("toggle",t)),a.onScroll!=null&&nt("scroll",t),a.onScrollEnd!=null&&nt("scrollend",t),a.onClick!=null&&(t.onclick=gn),t=!0):t=!1,t||wl(e,!0)}function ed(e){for(en=e.return;en;)switch(en.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:en=en.return}}function ei(e){if(e!==en)return!1;if(!rt)return ed(e),rt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||tf(e.type,e.memoizedProps)),n=!n),n&&Dt&&wl(e),ed(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(317));Dt=Th(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(317));Dt=Th(e)}else t===27?(t=Dt,Rl(e.type)?(e=rf,rf=null,Dt=e):Dt=t):Dt=en?Qn(e.stateNode.nextSibling):null;return!0}function ps(){Dt=en=null,rt=!1}function Uu(){var e=jl;return e!==null&&(wn===null?wn=e:wn.push.apply(wn,e),jl=null),e}function ar(e){jl===null?jl=[e]:jl.push(e)}var qu=N(null),ys=null,Xa=null;function Nl(e,t,n){be(qu,t._currentValue),t._currentValue=n}function Ga(e){e._currentValue=qu.current,K(qu)}function Hu(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Yu(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){var p=i.child;c=c.firstContext;e:for(;c!==null;){var g=c;c=i;for(var S=0;S<t.length;S++)if(g.context===t[S]){c.lanes|=n,g=c.alternate,g!==null&&(g.lanes|=n),Hu(c.return,n,e),a||(p=null);break e}c=g.next}}else if(i.tag===18){if(p=i.return,p===null)throw Error(m(341));p.lanes|=n,c=p.alternate,c!==null&&(c.lanes|=n),Hu(p,n,e),p=null}else p=i.child;if(p!==null)p.return=i;else for(p=i;p!==null;){if(p===e){p=null;break}if(i=p.sibling,i!==null){i.return=p.return,p=i;break}p=p.return}i=p}}function ti(e,t,n,a){e=null;for(var i=t,c=!1;i!==null;){if(!c){if((i.flags&524288)!==0)c=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var p=i.alternate;if(p===null)throw Error(m(387));if(p=p.memoizedProps,p!==null){var g=i.type;on(i.pendingProps.value,p.value)||(e!==null?e.push(g):e=[g])}}else if(i===Ve.current){if(p=i.alternate,p===null)throw Error(m(387));p.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Or):e=[Or])}i=i.return}e!==null&&Yu(t,e,n,a),t.flags|=262144}function sc(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vs(e){ys=e,Xa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tn(e){return td(ys,e)}function ic(e,t){return ys===null&&vs(e),td(e,t)}function td(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Xa===null){if(e===null)throw Error(m(308));Xa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Xa=Xa.next=t;return n}var N0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},S0=r.unstable_scheduleCallback,T0=r.unstable_NormalPriority,Yt={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lu(){return{controller:new N0,data:new Map,refCount:0}}function lr(e){e.refCount--,e.refCount===0&&S0(T0,function(){e.controller.abort()})}var sr=null,Ku=0,ni=0,ai=null;function _0(e,t){if(sr===null){var n=sr=[];Ku=0,ni=Vo(),ai={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Ku++,t.then(nd,nd),t}function nd(){if(--Ku===0&&sr!==null){ai!==null&&(ai.status="fulfilled");var e=sr;sr=null,ni=0,ai=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function D0(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var ad=_.S;_.S=function(e,t){Ym=sn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&_0(e,t),ad!==null&&ad(e,t)};var gs=N(null);function Xu(){var e=gs.current;return e!==null?e:Nt.pooledCache}function rc(e,t){t===null?be(gs,gs.current):be(gs,t.pool)}function ld(){var e=Xu();return e===null?null:{parent:Yt._currentValue,pool:e}}var li=Error(m(460)),Gu=Error(m(474)),cc=Error(m(542)),uc={then:function(){}};function sd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function id(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(gn,gn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cd(e),e;default:if(typeof t.status=="string")t.then(gn,gn);else{if(e=Nt,e!==null&&100<e.shellSuspendCounter)throw Error(m(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cd(e),e}throw bs=t,li}}function xs(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(bs=n,li):n}}var bs=null;function rd(){if(bs===null)throw Error(m(459));var e=bs;return bs=null,e}function cd(e){if(e===li||e===cc)throw Error(m(483))}var si=null,ir=0;function oc(e){var t=ir;return ir+=1,si===null&&(si=[]),id(si,e,t)}function rr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function fc(e,t){throw t.$$typeof===te?Error(m(525)):(e=Object.prototype.toString.call(t),Error(m(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ud(e){function t(X,B){if(e){var Z=X.deletions;Z===null?(X.deletions=[B],X.flags|=16):Z.push(B)}}function n(X,B){if(!e)return null;for(;B!==null;)t(X,B),B=B.sibling;return null}function a(X){for(var B=new Map;X!==null;)X.key!==null?B.set(X.key,X):B.set(X.index,X),X=X.sibling;return B}function i(X,B){return X=La(X,B),X.index=0,X.sibling=null,X}function c(X,B,Z){return X.index=Z,e?(Z=X.alternate,Z!==null?(Z=Z.index,Z<B?(X.flags|=67108866,B):Z):(X.flags|=67108866,B)):(X.flags|=1048576,B)}function p(X){return e&&X.alternate===null&&(X.flags|=67108866),X}function g(X,B,Z,se){return B===null||B.tag!==6?(B=Mu(Z,X.mode,se),B.return=X,B):(B=i(B,Z),B.return=X,B)}function S(X,B,Z,se){var Ye=Z.type;return Ye===de?le(X,B,Z.props.children,se,Z.key):B!==null&&(B.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===qe&&xs(Ye)===B.type)?(B=i(B,Z.props),rr(B,Z),B.return=X,B):(B=ac(Z.type,Z.key,Z.props,null,X.mode,se),rr(B,Z),B.return=X,B)}function J(X,B,Z,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==Z.containerInfo||B.stateNode.implementation!==Z.implementation?(B=ku(Z,X.mode,se),B.return=X,B):(B=i(B,Z.children||[]),B.return=X,B)}function le(X,B,Z,se,Ye){return B===null||B.tag!==7?(B=hs(Z,X.mode,se,Ye),B.return=X,B):(B=i(B,Z),B.return=X,B)}function ie(X,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Mu(""+B,X.mode,Z),B.return=X,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ue:return Z=ac(B.type,B.key,B.props,null,X.mode,Z),rr(Z,B),Z.return=X,Z;case oe:return B=ku(B,X.mode,Z),B.return=X,B;case qe:return B=xs(B),ie(X,B,Z)}if(Ee(B)||ne(B))return B=hs(B,X.mode,Z,null),B.return=X,B;if(typeof B.then=="function")return ie(X,oc(B),Z);if(B.$$typeof===w)return ie(X,ic(X,B),Z);fc(X,B)}return null}function F(X,B,Z,se){var Ye=B!==null?B.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ye!==null?null:g(X,B,""+Z,se);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ue:return Z.key===Ye?S(X,B,Z,se):null;case oe:return Z.key===Ye?J(X,B,Z,se):null;case qe:return Z=xs(Z),F(X,B,Z,se)}if(Ee(Z)||ne(Z))return Ye!==null?null:le(X,B,Z,se,null);if(typeof Z.then=="function")return F(X,B,oc(Z),se);if(Z.$$typeof===w)return F(X,B,ic(X,Z),se);fc(X,Z)}return null}function P(X,B,Z,se,Ye){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return X=X.get(Z)||null,g(B,X,""+se,Ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case ue:return X=X.get(se.key===null?Z:se.key)||null,S(B,X,se,Ye);case oe:return X=X.get(se.key===null?Z:se.key)||null,J(B,X,se,Ye);case qe:return se=xs(se),P(X,B,Z,se,Ye)}if(Ee(se)||ne(se))return X=X.get(Z)||null,le(B,X,se,Ye,null);if(typeof se.then=="function")return P(X,B,Z,oc(se),Ye);if(se.$$typeof===w)return P(X,B,Z,ic(B,se),Ye);fc(B,se)}return null}function Be(X,B,Z,se){for(var Ye=null,ut=null,Re=B,We=B=0,st=null;Re!==null&&We<Z.length;We++){Re.index>We?(st=Re,Re=null):st=Re.sibling;var ot=F(X,Re,Z[We],se);if(ot===null){Re===null&&(Re=st);break}e&&Re&&ot.alternate===null&&t(X,Re),B=c(ot,B,We),ut===null?Ye=ot:ut.sibling=ot,ut=ot,Re=st}if(We===Z.length)return n(X,Re),rt&&Ka(X,We),Ye;if(Re===null){for(;We<Z.length;We++)Re=ie(X,Z[We],se),Re!==null&&(B=c(Re,B,We),ut===null?Ye=Re:ut.sibling=Re,ut=Re);return rt&&Ka(X,We),Ye}for(Re=a(Re);We<Z.length;We++)st=P(Re,X,We,Z[We],se),st!==null&&(e&&st.alternate!==null&&Re.delete(st.key===null?We:st.key),B=c(st,B,We),ut===null?Ye=st:ut.sibling=st,ut=st);return e&&Re.forEach(function(Ll){return t(X,Ll)}),rt&&Ka(X,We),Ye}function Ke(X,B,Z,se){if(Z==null)throw Error(m(151));for(var Ye=null,ut=null,Re=B,We=B=0,st=null,ot=Z.next();Re!==null&&!ot.done;We++,ot=Z.next()){Re.index>We?(st=Re,Re=null):st=Re.sibling;var Ll=F(X,Re,ot.value,se);if(Ll===null){Re===null&&(Re=st);break}e&&Re&&Ll.alternate===null&&t(X,Re),B=c(Ll,B,We),ut===null?Ye=Ll:ut.sibling=Ll,ut=Ll,Re=st}if(ot.done)return n(X,Re),rt&&Ka(X,We),Ye;if(Re===null){for(;!ot.done;We++,ot=Z.next())ot=ie(X,ot.value,se),ot!==null&&(B=c(ot,B,We),ut===null?Ye=ot:ut.sibling=ot,ut=ot);return rt&&Ka(X,We),Ye}for(Re=a(Re);!ot.done;We++,ot=Z.next())ot=P(Re,X,We,ot.value,se),ot!==null&&(e&&ot.alternate!==null&&Re.delete(ot.key===null?We:ot.key),B=c(ot,B,We),ut===null?Ye=ot:ut.sibling=ot,ut=ot);return e&&Re.forEach(function(qy){return t(X,qy)}),rt&&Ka(X,We),Ye}function jt(X,B,Z,se){if(typeof Z=="object"&&Z!==null&&Z.type===de&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ue:e:{for(var Ye=Z.key;B!==null;){if(B.key===Ye){if(Ye=Z.type,Ye===de){if(B.tag===7){n(X,B.sibling),se=i(B,Z.props.children),se.return=X,X=se;break e}}else if(B.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===qe&&xs(Ye)===B.type){n(X,B.sibling),se=i(B,Z.props),rr(se,Z),se.return=X,X=se;break e}n(X,B);break}else t(X,B);B=B.sibling}Z.type===de?(se=hs(Z.props.children,X.mode,se,Z.key),se.return=X,X=se):(se=ac(Z.type,Z.key,Z.props,null,X.mode,se),rr(se,Z),se.return=X,X=se)}return p(X);case oe:e:{for(Ye=Z.key;B!==null;){if(B.key===Ye)if(B.tag===4&&B.stateNode.containerInfo===Z.containerInfo&&B.stateNode.implementation===Z.implementation){n(X,B.sibling),se=i(B,Z.children||[]),se.return=X,X=se;break e}else{n(X,B);break}else t(X,B);B=B.sibling}se=ku(Z,X.mode,se),se.return=X,X=se}return p(X);case qe:return Z=xs(Z),jt(X,B,Z,se)}if(Ee(Z))return Be(X,B,Z,se);if(ne(Z)){if(Ye=ne(Z),typeof Ye!="function")throw Error(m(150));return Z=Ye.call(Z),Ke(X,B,Z,se)}if(typeof Z.then=="function")return jt(X,B,oc(Z),se);if(Z.$$typeof===w)return jt(X,B,ic(X,Z),se);fc(X,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,B!==null&&B.tag===6?(n(X,B.sibling),se=i(B,Z),se.return=X,X=se):(n(X,B),se=Mu(Z,X.mode,se),se.return=X,X=se),p(X)):n(X,B)}return function(X,B,Z,se){try{ir=0;var Ye=jt(X,B,Z,se);return si=null,Ye}catch(Re){if(Re===li||Re===cc)throw Re;var ut=Cn(29,Re,null,X.mode);return ut.lanes=se,ut.return=X,ut}}}var js=ud(!0),od=ud(!1),Sl=!1;function Qu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _l(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(dt&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=xl(e),pa(e,null,n),t}return gt(e,a,t,n),xl(e)}function cr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,wt(e,n)}}function Zu(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};c===null?i=c=p:c=c.next=p,n=n.next}while(n!==null);c===null?i=c=t:c=c.next=t}else i=c=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ju=!1;function ur(){if(Ju){var e=ai;if(e!==null)throw e}}function or(e,t,n,a){Ju=!1;var i=e.updateQueue;Sl=!1;var c=i.firstBaseUpdate,p=i.lastBaseUpdate,g=i.shared.pending;if(g!==null){i.shared.pending=null;var S=g,J=S.next;S.next=null,p===null?c=J:p.next=J,p=S;var le=e.alternate;le!==null&&(le=le.updateQueue,g=le.lastBaseUpdate,g!==p&&(g===null?le.firstBaseUpdate=J:g.next=J,le.lastBaseUpdate=S))}if(c!==null){var ie=i.baseState;p=0,le=J=S=null,g=c;do{var F=g.lane&-536870913,P=F!==g.lane;if(P?(lt&F)===F:(a&F)===F){F!==0&&F===ni&&(Ju=!0),le!==null&&(le=le.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var Be=e,Ke=g;F=t;var jt=n;switch(Ke.tag){case 1:if(Be=Ke.payload,typeof Be=="function"){ie=Be.call(jt,ie,F);break e}ie=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ke.payload,F=typeof Be=="function"?Be.call(jt,ie,F):Be,F==null)break e;ie=U({},ie,F);break e;case 2:Sl=!0}}F=g.callback,F!==null&&(e.flags|=64,P&&(e.flags|=8192),P=i.callbacks,P===null?i.callbacks=[F]:P.push(F))}else P={lane:F,tag:g.tag,payload:g.payload,callback:g.callback,next:null},le===null?(J=le=P,S=ie):le=le.next=P,p|=F;if(g=g.next,g===null){if(g=i.shared.pending,g===null)break;P=g,g=P.next,P.next=null,i.lastBaseUpdate=P,i.shared.pending=null}}while(!0);le===null&&(S=ie),i.baseState=S,i.firstBaseUpdate=J,i.lastBaseUpdate=le,c===null&&(i.shared.lanes=0),Al|=p,e.lanes=p,e.memoizedState=ie}}function fd(e,t){if(typeof e!="function")throw Error(m(191,e));e.call(t)}function dd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)fd(n[e],t)}var ii=N(null),dc=N(0);function md(e,t){e=Pa,be(dc,e),be(ii,t),Pa=e|t.baseLanes}function Iu(){be(dc,Pa),be(ii,ii.current)}function $u(){Pa=dc.current,K(ii),K(dc)}var En=N(null),Gn=null;function Dl(e){var t=e.alternate;be(Ut,Ut.current&1),be(En,e),Gn===null&&(t===null||ii.current!==null||t.memoizedState!==null)&&(Gn=e)}function Fu(e){be(Ut,Ut.current),be(En,e),Gn===null&&(Gn=e)}function hd(e){e.tag===22?(be(Ut,Ut.current),be(En,e),Gn===null&&(Gn=e)):Cl()}function Cl(){be(Ut,Ut.current),be(En,En.current)}function On(e){K(En),Gn===e&&(Gn=null),K(Ut)}var Ut=N(0);function mc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||lf(n)||sf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qa=0,Ie=null,xt=null,Lt=null,hc=!1,ri=!1,ws=!1,pc=0,fr=0,ci=null,C0=0;function At(){throw Error(m(321))}function Wu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!on(e[n],t[n]))return!1;return!0}function Pu(e,t,n,a,i,c){return Qa=c,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_.H=e===null||e.memoizedState===null?Fd:po,ws=!1,c=n(a,i),ws=!1,ri&&(c=yd(t,n,a,i)),pd(e),c}function pd(e){_.H=hr;var t=xt!==null&&xt.next!==null;if(Qa=0,Lt=xt=Ie=null,hc=!1,fr=0,ci=null,t)throw Error(m(300));e===null||Kt||(e=e.dependencies,e!==null&&sc(e)&&(Kt=!0))}function yd(e,t,n,a){Ie=e;var i=0;do{if(ri&&(ci=null),fr=0,ri=!1,25<=i)throw Error(m(301));if(i+=1,Lt=xt=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}_.H=Wd,c=t(n,a)}while(ri);return c}function E0(){var e=_.H,t=e.useState()[0];return t=typeof t.then=="function"?dr(t):t,e=e.useState()[0],(xt!==null?xt.memoizedState:null)!==e&&(Ie.flags|=1024),t}function eo(){var e=pc!==0;return pc=0,e}function to(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function no(e){if(hc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}hc=!1}Qa=0,Lt=xt=Ie=null,ri=!1,fr=pc=0,ci=null}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Ie.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function qt(){if(xt===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=Lt===null?Ie.memoizedState:Lt.next;if(t!==null)Lt=t,xt=e;else{if(e===null)throw Ie.alternate===null?Error(m(467)):Error(m(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Lt===null?Ie.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dr(e){var t=fr;return fr+=1,ci===null&&(ci=[]),e=id(ci,e,t),t=Ie,(Lt===null?t.memoizedState:Lt.next)===null&&(t=t.alternate,_.H=t===null||t.memoizedState===null?Fd:po),e}function vc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return dr(e);if(e.$$typeof===w)return tn(e)}throw Error(m(438,String(e)))}function ao(e){var t=null,n=Ie.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Ie.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=yc(),Ie.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=Fe;return t.index++,n}function Va(e,t){return typeof t=="function"?t(e):t}function gc(e){var t=qt();return lo(t,xt,e)}function lo(e,t,n){var a=e.queue;if(a===null)throw Error(m(311));a.lastRenderedReducer=n;var i=e.baseQueue,c=a.pending;if(c!==null){if(i!==null){var p=i.next;i.next=c.next,c.next=p}t.baseQueue=i=c,a.pending=null}if(c=e.baseState,i===null)e.memoizedState=c;else{t=i.next;var g=p=null,S=null,J=t,le=!1;do{var ie=J.lane&-536870913;if(ie!==J.lane?(lt&ie)===ie:(Qa&ie)===ie){var F=J.revertLane;if(F===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ie===ni&&(le=!0);else if((Qa&F)===F){J=J.next,F===ni&&(le=!0);continue}else ie={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},S===null?(g=S=ie,p=c):S=S.next=ie,Ie.lanes|=F,Al|=F;ie=J.action,ws&&n(c,ie),c=J.hasEagerState?J.eagerState:n(c,ie)}else F={lane:ie,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},S===null?(g=S=F,p=c):S=S.next=F,Ie.lanes|=ie,Al|=ie;J=J.next}while(J!==null&&J!==t);if(S===null?p=c:S.next=g,!on(c,e.memoizedState)&&(Kt=!0,le&&(n=ai,n!==null)))throw n;e.memoizedState=c,e.baseState=p,e.baseQueue=S,a.lastRenderedState=c}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function so(e){var t=qt(),n=t.queue;if(n===null)throw Error(m(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,c=t.memoizedState;if(i!==null){n.pending=null;var p=i=i.next;do c=e(c,p.action),p=p.next;while(p!==i);on(c,t.memoizedState)||(Kt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,a]}function vd(e,t,n){var a=Ie,i=qt(),c=rt;if(c){if(n===void 0)throw Error(m(407));n=n()}else n=t();var p=!on((xt||i).memoizedState,n);if(p&&(i.memoizedState=n,Kt=!0),i=i.queue,co(bd.bind(null,a,i,e),[e]),i.getSnapshot!==t||p||Lt!==null&&Lt.memoizedState.tag&1){if(a.flags|=2048,ui(9,{destroy:void 0},xd.bind(null,a,i,n,t),null),Nt===null)throw Error(m(349));c||(Qa&127)!==0||gd(a,t,n)}return n}function gd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ie.updateQueue,t===null?(t=yc(),Ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xd(e,t,n,a){t.value=n,t.getSnapshot=a,jd(t)&&wd(e)}function bd(e,t,n){return n(function(){jd(t)&&wd(e)})}function jd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!on(e,n)}catch{return!0}}function wd(e){var t=mt(e,2);t!==null&&Nn(t,e,2)}function io(e){var t=pn();if(typeof e=="function"){var n=e;if(e=n(),ws){Wt(!0);try{n()}finally{Wt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:e},t}function Nd(e,t,n,a){return e.baseState=n,lo(e,xt,typeof a=="function"?a:Va)}function O0(e,t,n,a,i){if(jc(e))throw Error(m(485));if(e=t.action,e!==null){var c={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){c.listeners.push(p)}};_.T!==null?n(!0):c.isTransition=!1,a(c),n=t.pending,n===null?(c.next=t.pending=c,Sd(t,c)):(c.next=n.next,t.pending=n.next=c)}}function Sd(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var c=_.T,p={};_.T=p;try{var g=n(i,a),S=_.S;S!==null&&S(p,g),Td(e,t,g)}catch(J){ro(e,t,J)}finally{c!==null&&p.types!==null&&(c.types=p.types),_.T=c}}else try{c=n(i,a),Td(e,t,c)}catch(J){ro(e,t,J)}}function Td(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){_d(e,t,a)},function(a){return ro(e,t,a)}):_d(e,t,n)}function _d(e,t,n){t.status="fulfilled",t.value=n,Dd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Sd(e,n)))}function ro(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Dd(t),t=t.next;while(t!==a)}e.action=null}function Dd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Cd(e,t){return t}function Ed(e,t){if(rt){var n=Nt.formState;if(n!==null){e:{var a=Ie;if(rt){if(Dt){t:{for(var i=Dt,c=Xn;i.nodeType!==8;){if(!c){i=null;break t}if(i=Qn(i.nextSibling),i===null){i=null;break t}}c=i.data,i=c==="F!"||c==="F"?i:null}if(i){Dt=Qn(i.nextSibling),a=i.data==="F!";break e}}wl(a)}a=!1}a&&(t=n[0])}}return n=pn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cd,lastRenderedState:t},n.queue=a,n=Jd.bind(null,Ie,a),a.dispatch=n,a=io(!1),c=ho.bind(null,Ie,!1,a.queue),a=pn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=O0.bind(null,Ie,i,c,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Od(e){var t=qt();return Ad(t,xt,e)}function Ad(e,t,n){if(t=lo(e,t,Cd)[0],e=gc(Va)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=dr(t)}catch(p){throw p===li?cc:p}else a=t;t=qt();var i=t.queue,c=i.dispatch;return n!==t.memoizedState&&(Ie.flags|=2048,ui(9,{destroy:void 0},A0.bind(null,i,n),null)),[a,c,e]}function A0(e,t){e.action=t}function Md(e){var t=qt(),n=xt;if(n!==null)return Ad(t,n,e);qt(),t=t.memoizedState,n=qt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function ui(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Ie.updateQueue,t===null&&(t=yc(),Ie.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function kd(){return qt().memoizedState}function xc(e,t,n,a){var i=pn();Ie.flags|=e,i.memoizedState=ui(1|t,{destroy:void 0},n,a===void 0?null:a)}function bc(e,t,n,a){var i=qt();a=a===void 0?null:a;var c=i.memoizedState.inst;xt!==null&&a!==null&&Wu(a,xt.memoizedState.deps)?i.memoizedState=ui(t,c,n,a):(Ie.flags|=e,i.memoizedState=ui(1|t,c,n,a))}function zd(e,t){xc(8390656,8,e,t)}function co(e,t){bc(2048,8,e,t)}function M0(e){Ie.flags|=4;var t=Ie.updateQueue;if(t===null)t=yc(),Ie.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Bd(e){var t=qt().memoizedState;return M0({ref:t,nextImpl:e}),function(){if((dt&2)!==0)throw Error(m(440));return t.impl.apply(void 0,arguments)}}function Rd(e,t){return bc(4,2,e,t)}function Ud(e,t){return bc(4,4,e,t)}function qd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hd(e,t,n){n=n!=null?n.concat([e]):null,bc(4,4,qd.bind(null,t,e),n)}function uo(){}function Yd(e,t){var n=qt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Wu(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Ld(e,t){var n=qt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Wu(t,a[1]))return a[0];if(a=e(),ws){Wt(!0);try{e()}finally{Wt(!1)}}return n.memoizedState=[a,t],a}function oo(e,t,n){return n===void 0||(Qa&1073741824)!==0&&(lt&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Km(),Ie.lanes|=e,Al|=e,n)}function Kd(e,t,n,a){return on(n,t)?n:ii.current!==null?(e=oo(e,n,a),on(e,t)||(Kt=!0),e):(Qa&42)===0||(Qa&1073741824)!==0&&(lt&261930)===0?(Kt=!0,e.memoizedState=n):(e=Km(),Ie.lanes|=e,Al|=e,t)}function Xd(e,t,n,a,i){var c=re.p;re.p=c!==0&&8>c?c:8;var p=_.T,g={};_.T=g,ho(e,!1,t,n);try{var S=i(),J=_.S;if(J!==null&&J(g,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var le=D0(S,a);mr(e,t,le,kn(e))}else mr(e,t,a,kn(e))}catch(ie){mr(e,t,{then:function(){},status:"rejected",reason:ie},kn())}finally{re.p=c,p!==null&&g.types!==null&&(p.types=g.types),_.T=p}}function k0(){}function fo(e,t,n,a){if(e.tag!==5)throw Error(m(476));var i=Gd(e).queue;Xd(e,i,t,W,n===null?k0:function(){return Qd(e),n(a)})}function Gd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:W},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Qd(e){var t=Gd(e);t.next===null&&(t=e.alternate.memoizedState),mr(e,t.next.queue,{},kn())}function mo(){return tn(Or)}function Vd(){return qt().memoizedState}function Zd(){return qt().memoizedState}function z0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=kn();e=Tl(n);var a=_l(t,e,n);a!==null&&(Nn(a,t,n),cr(a,t,n)),t={cache:Lu()},e.payload=t;return}t=t.return}}function B0(e,t,n){var a=kn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},jc(e)?Id(t,n):(n=fn(e,t,n,a),n!==null&&(Nn(n,e,a),$d(n,t,a)))}function Jd(e,t,n){var a=kn();mr(e,t,n,a)}function mr(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(jc(e))Id(t,i);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var p=t.lastRenderedState,g=c(p,n);if(i.hasEagerState=!0,i.eagerState=g,on(g,p))return gt(e,t,i,0),Nt===null&&Ze(),!1}catch{}if(n=fn(e,t,i,a),n!==null)return Nn(n,e,a),$d(n,t,a),!0}return!1}function ho(e,t,n,a){if(a={lane:2,revertLane:Vo(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},jc(e)){if(t)throw Error(m(479))}else t=fn(e,n,a,2),t!==null&&Nn(t,e,2)}function jc(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function Id(e,t){ri=hc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $d(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,wt(e,n)}}var hr={readContext:tn,use:vc,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};hr.useEffectEvent=At;var Fd={readContext:tn,use:vc,useCallback:function(e,t){return pn().memoizedState=[e,t===void 0?null:t],e},useContext:tn,useEffect:zd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,xc(4194308,4,qd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xc(4194308,4,e,t)},useInsertionEffect:function(e,t){xc(4,2,e,t)},useMemo:function(e,t){var n=pn();t=t===void 0?null:t;var a=e();if(ws){Wt(!0);try{e()}finally{Wt(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=pn();if(n!==void 0){var i=n(t);if(ws){Wt(!0);try{n(t)}finally{Wt(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=B0.bind(null,Ie,e),[a.memoizedState,e]},useRef:function(e){var t=pn();return e={current:e},t.memoizedState=e},useState:function(e){e=io(e);var t=e.queue,n=Jd.bind(null,Ie,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:uo,useDeferredValue:function(e,t){var n=pn();return oo(n,e,t)},useTransition:function(){var e=io(!1);return e=Xd.bind(null,Ie,e.queue,!0,!1),pn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Ie,i=pn();if(rt){if(n===void 0)throw Error(m(407));n=n()}else{if(n=t(),Nt===null)throw Error(m(349));(lt&127)!==0||gd(a,t,n)}i.memoizedState=n;var c={value:n,getSnapshot:t};return i.queue=c,zd(bd.bind(null,a,c,e),[e]),a.flags|=2048,ui(9,{destroy:void 0},xd.bind(null,a,c,n,t),null),n},useId:function(){var e=pn(),t=Nt.identifierPrefix;if(rt){var n=va,a=ya;n=(a&~(1<<32-Ae(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=pc++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=C0++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:mo,useFormState:Ed,useActionState:Ed,useOptimistic:function(e){var t=pn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ho.bind(null,Ie,!0,n),n.dispatch=t,[e,t]},useMemoCache:ao,useCacheRefresh:function(){return pn().memoizedState=z0.bind(null,Ie)},useEffectEvent:function(e){var t=pn(),n={impl:e};return t.memoizedState=n,function(){if((dt&2)!==0)throw Error(m(440));return n.impl.apply(void 0,arguments)}}},po={readContext:tn,use:vc,useCallback:Yd,useContext:tn,useEffect:co,useImperativeHandle:Hd,useInsertionEffect:Rd,useLayoutEffect:Ud,useMemo:Ld,useReducer:gc,useRef:kd,useState:function(){return gc(Va)},useDebugValue:uo,useDeferredValue:function(e,t){var n=qt();return Kd(n,xt.memoizedState,e,t)},useTransition:function(){var e=gc(Va)[0],t=qt().memoizedState;return[typeof e=="boolean"?e:dr(e),t]},useSyncExternalStore:vd,useId:Vd,useHostTransitionStatus:mo,useFormState:Od,useActionState:Od,useOptimistic:function(e,t){var n=qt();return Nd(n,xt,e,t)},useMemoCache:ao,useCacheRefresh:Zd};po.useEffectEvent=Bd;var Wd={readContext:tn,use:vc,useCallback:Yd,useContext:tn,useEffect:co,useImperativeHandle:Hd,useInsertionEffect:Rd,useLayoutEffect:Ud,useMemo:Ld,useReducer:so,useRef:kd,useState:function(){return so(Va)},useDebugValue:uo,useDeferredValue:function(e,t){var n=qt();return xt===null?oo(n,e,t):Kd(n,xt.memoizedState,e,t)},useTransition:function(){var e=so(Va)[0],t=qt().memoizedState;return[typeof e=="boolean"?e:dr(e),t]},useSyncExternalStore:vd,useId:Vd,useHostTransitionStatus:mo,useFormState:Md,useActionState:Md,useOptimistic:function(e,t){var n=qt();return xt!==null?Nd(n,xt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ao,useCacheRefresh:Zd};Wd.useEffectEvent=Bd;function yo(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:U({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vo={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=kn(),i=Tl(a);i.payload=t,n!=null&&(i.callback=n),t=_l(e,i,a),t!==null&&(Nn(t,e,a),cr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=kn(),i=Tl(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=_l(e,i,a),t!==null&&(Nn(t,e,a),cr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kn(),a=Tl(n);a.tag=2,t!=null&&(a.callback=t),t=_l(e,a,n),t!==null&&(Nn(t,e,n),cr(t,e,n))}};function Pd(e,t,n,a,i,c,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,p):t.prototype&&t.prototype.isPureReactComponent?!s(n,a)||!s(i,c):!0}function em(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function Ns(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=U({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function tm(e){ke(e)}function nm(e){console.error(e)}function am(e){ke(e)}function wc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function lm(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function go(e,t,n){return n=Tl(n),n.tag=3,n.payload={element:null},n.callback=function(){wc(e,t)},n}function sm(e){return e=Tl(e),e.tag=3,e}function im(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var c=a.value;e.payload=function(){return i(c)},e.callback=function(){lm(t,n,a)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){lm(t,n,a),typeof i!="function"&&(Ml===null?Ml=new Set([this]):Ml.add(this));var g=a.stack;this.componentDidCatch(a.value,{componentStack:g!==null?g:""})})}function R0(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&ti(t,n,i,!0),n=En.current,n!==null){switch(n.tag){case 31:case 13:return Gn===null?zc():n.alternate===null&&Mt===0&&(Mt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===uc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Xo(e,a,i)),!1;case 22:return n.flags|=65536,a===uc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Xo(e,a,i)),!1}throw Error(m(435,n.tag))}return Xo(e,a,i),zc(),!1}if(rt)return t=En.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Ru&&(e=Error(m(422),{cause:a}),ar(Yn(e,n)))):(a!==Ru&&(t=Error(m(423),{cause:a}),ar(Yn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Yn(a,n),i=go(e.stateNode,a,i),Zu(e,i),Mt!==4&&(Mt=2)),!1;var c=Error(m(520),{cause:a});if(c=Yn(c,n),wr===null?wr=[c]:wr.push(c),Mt!==4&&(Mt=2),t===null)return!0;a=Yn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=go(n.stateNode,a,e),Zu(n,e),!1;case 1:if(t=n.type,c=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Ml===null||!Ml.has(c))))return n.flags|=65536,i&=-i,n.lanes|=i,i=sm(i),im(i,e,n,a),Zu(n,i),!1}n=n.return}while(n!==null);return!1}var xo=Error(m(461)),Kt=!1;function nn(e,t,n,a){t.child=e===null?od(t,null,n,a):js(t,e.child,n,a)}function rm(e,t,n,a,i){n=n.render;var c=t.ref;if("ref"in a){var p={};for(var g in a)g!=="ref"&&(p[g]=a[g])}else p=a;return vs(t),a=Pu(e,t,n,p,c,i),g=eo(),e!==null&&!Kt?(to(e,t,i),Za(e,t,i)):(rt&&g&&zu(t),t.flags|=1,nn(e,t,a,i),t.child)}function cm(e,t,n,a,i){if(e===null){var c=n.type;return typeof c=="function"&&!Au(c)&&c.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=c,um(e,t,c,a,i)):(e=ac(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Do(e,i)){var p=c.memoizedProps;if(n=n.compare,n=n!==null?n:s,n(p,a)&&e.ref===t.ref)return Za(e,t,i)}return t.flags|=1,e=La(c,a),e.ref=t.ref,e.return=t,t.child=e}function um(e,t,n,a,i){if(e!==null){var c=e.memoizedProps;if(s(c,a)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=a=c,Do(e,i))(e.flags&131072)!==0&&(Kt=!0);else return t.lanes=e.lanes,Za(e,t,i)}return bo(e,t,n,a,i)}function om(e,t,n,a){var i=a.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~c}else a=0,t.child=null;return fm(e,t,c,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&rc(t,c!==null?c.cachePool:null),c!==null?md(t,c):Iu(),hd(t);else return a=t.lanes=536870912,fm(e,t,c!==null?c.baseLanes|n:n,n,a)}else c!==null?(rc(t,c.cachePool),md(t,c),Cl(),t.memoizedState=null):(e!==null&&rc(t,null),Iu(),Cl());return nn(e,t,i,n),t.child}function pr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function fm(e,t,n,a,i){var c=Xu();return c=c===null?null:{parent:Yt._currentValue,pool:c},t.memoizedState={baseLanes:n,cachePool:c},e!==null&&rc(t,null),Iu(),hd(t),e!==null&&ti(e,t,a,!0),t.childLanes=i,null}function Nc(e,t){return t=Tc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function dm(e,t,n){return js(t,e.child,null,n),e=Nc(t,t.pendingProps),e.flags|=2,On(t),t.memoizedState=null,e}function U0(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(rt){if(a.mode==="hidden")return e=Nc(t,a),t.lanes=536870912,pr(null,e);if(Fu(t),(e=Dt)?(e=Sh(e,Xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:bl!==null?{id:ya,overflow:va}:null,retryLane:536870912,hydrationErrors:null},n=If(e),n.return=t,t.child=n,en=t,Dt=null)):e=null,e===null)throw wl(t);return t.lanes=536870912,null}return Nc(t,a)}var c=e.memoizedState;if(c!==null){var p=c.dehydrated;if(Fu(t),i)if(t.flags&256)t.flags&=-257,t=dm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(m(558));else if(Kt||ti(e,t,n,!1),i=(n&e.childLanes)!==0,Kt||i){if(a=Nt,a!==null&&(p=zt(a,n),p!==0&&p!==c.retryLane))throw c.retryLane=p,mt(e,p),Nn(a,e,p),xo;zc(),t=dm(e,t,n)}else e=c.treeContext,Dt=Qn(p.nextSibling),en=t,rt=!0,jl=null,Xn=!1,e!==null&&Wf(t,e),t=Nc(t,a),t.flags|=4096;return t}return e=La(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Sc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(m(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function bo(e,t,n,a,i){return vs(t),n=Pu(e,t,n,a,void 0,i),a=eo(),e!==null&&!Kt?(to(e,t,i),Za(e,t,i)):(rt&&a&&zu(t),t.flags|=1,nn(e,t,n,i),t.child)}function mm(e,t,n,a,i,c){return vs(t),t.updateQueue=null,n=yd(t,a,n,i),pd(e),a=eo(),e!==null&&!Kt?(to(e,t,c),Za(e,t,c)):(rt&&a&&zu(t),t.flags|=1,nn(e,t,n,c),t.child)}function hm(e,t,n,a,i){if(vs(t),t.stateNode===null){var c=Fs,p=n.contextType;typeof p=="object"&&p!==null&&(c=tn(p)),c=new n(a,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=vo,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=a,c.state=t.memoizedState,c.refs={},Qu(t),p=n.contextType,c.context=typeof p=="object"&&p!==null?tn(p):Fs,c.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(yo(t,n,p,a),c.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(p=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),p!==c.state&&vo.enqueueReplaceState(c,c.state,null),or(t,a,c,i),ur(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){c=t.stateNode;var g=t.memoizedProps,S=Ns(n,g);c.props=S;var J=c.context,le=n.contextType;p=Fs,typeof le=="object"&&le!==null&&(p=tn(le));var ie=n.getDerivedStateFromProps;le=typeof ie=="function"||typeof c.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,le||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g||J!==p)&&em(t,c,a,p),Sl=!1;var F=t.memoizedState;c.state=F,or(t,a,c,i),ur(),J=t.memoizedState,g||F!==J||Sl?(typeof ie=="function"&&(yo(t,n,ie,a),J=t.memoizedState),(S=Sl||Pd(t,n,S,a,F,J,p))?(le||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=J),c.props=a,c.state=J,c.context=p,a=S):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,Vu(e,t),p=t.memoizedProps,le=Ns(n,p),c.props=le,ie=t.pendingProps,F=c.context,J=n.contextType,S=Fs,typeof J=="object"&&J!==null&&(S=tn(J)),g=n.getDerivedStateFromProps,(J=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==ie||F!==S)&&em(t,c,a,S),Sl=!1,F=t.memoizedState,c.state=F,or(t,a,c,i),ur();var P=t.memoizedState;p!==ie||F!==P||Sl||e!==null&&e.dependencies!==null&&sc(e.dependencies)?(typeof g=="function"&&(yo(t,n,g,a),P=t.memoizedState),(le=Sl||Pd(t,n,le,a,F,P,S)||e!==null&&e.dependencies!==null&&sc(e.dependencies))?(J||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,P,S),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,P,S)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=P),c.props=a,c.state=P,c.context=S,a=le):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),a=!1)}return c=a,Sc(e,t),a=(t.flags&128)!==0,c||a?(c=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&a?(t.child=js(t,e.child,null,i),t.child=js(t,null,n,i)):nn(e,t,n,i),t.memoizedState=c.state,e=t.child):e=Za(e,t,i),e}function pm(e,t,n,a){return ps(),t.flags|=256,nn(e,t,n,a),t.child}var jo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wo(e){return{baseLanes:e,cachePool:ld()}}function No(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Mn),e}function ym(e,t,n){var a=t.pendingProps,i=!1,c=(t.flags&128)!==0,p;if((p=c)||(p=e!==null&&e.memoizedState===null?!1:(Ut.current&2)!==0),p&&(i=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(rt){if(i?Dl(t):Cl(),(e=Dt)?(e=Sh(e,Xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:bl!==null?{id:ya,overflow:va}:null,retryLane:536870912,hydrationErrors:null},n=If(e),n.return=t,t.child=n,en=t,Dt=null)):e=null,e===null)throw wl(t);return sf(e)?t.lanes=32:t.lanes=536870912,null}var g=a.children;return a=a.fallback,i?(Cl(),i=t.mode,g=Tc({mode:"hidden",children:g},i),a=hs(a,i,n,null),g.return=t,a.return=t,g.sibling=a,t.child=g,a=t.child,a.memoizedState=wo(n),a.childLanes=No(e,p,n),t.memoizedState=jo,pr(null,a)):(Dl(t),So(t,g))}var S=e.memoizedState;if(S!==null&&(g=S.dehydrated,g!==null)){if(c)t.flags&256?(Dl(t),t.flags&=-257,t=To(e,t,n)):t.memoizedState!==null?(Cl(),t.child=e.child,t.flags|=128,t=null):(Cl(),g=a.fallback,i=t.mode,a=Tc({mode:"visible",children:a.children},i),g=hs(g,i,n,null),g.flags|=2,a.return=t,g.return=t,a.sibling=g,t.child=a,js(t,e.child,null,n),a=t.child,a.memoizedState=wo(n),a.childLanes=No(e,p,n),t.memoizedState=jo,t=pr(null,a));else if(Dl(t),sf(g)){if(p=g.nextSibling&&g.nextSibling.dataset,p)var J=p.dgst;p=J,a=Error(m(419)),a.stack="",a.digest=p,ar({value:a,source:null,stack:null}),t=To(e,t,n)}else if(Kt||ti(e,t,n,!1),p=(n&e.childLanes)!==0,Kt||p){if(p=Nt,p!==null&&(a=zt(p,n),a!==0&&a!==S.retryLane))throw S.retryLane=a,mt(e,a),Nn(p,e,a),xo;lf(g)||zc(),t=To(e,t,n)}else lf(g)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,Dt=Qn(g.nextSibling),en=t,rt=!0,jl=null,Xn=!1,e!==null&&Wf(t,e),t=So(t,a.children),t.flags|=4096);return t}return i?(Cl(),g=a.fallback,i=t.mode,S=e.child,J=S.sibling,a=La(S,{mode:"hidden",children:a.children}),a.subtreeFlags=S.subtreeFlags&65011712,J!==null?g=La(J,g):(g=hs(g,i,n,null),g.flags|=2),g.return=t,a.return=t,a.sibling=g,t.child=a,pr(null,a),a=t.child,g=e.child.memoizedState,g===null?g=wo(n):(i=g.cachePool,i!==null?(S=Yt._currentValue,i=i.parent!==S?{parent:S,pool:S}:i):i=ld(),g={baseLanes:g.baseLanes|n,cachePool:i}),a.memoizedState=g,a.childLanes=No(e,p,n),t.memoizedState=jo,pr(e.child,a)):(Dl(t),n=e.child,e=n.sibling,n=La(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function So(e,t){return t=Tc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Tc(e,t){return e=Cn(22,e,null,t),e.lanes=0,e}function To(e,t,n){return js(t,e.child,null,n),e=So(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vm(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Hu(e.return,t,n)}function _o(e,t,n,a,i,c){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:c}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=n,p.tailMode=i,p.treeForkCount=c)}function gm(e,t,n){var a=t.pendingProps,i=a.revealOrder,c=a.tail;a=a.children;var p=Ut.current,g=(p&2)!==0;if(g?(p=p&1|2,t.flags|=128):p&=1,be(Ut,p),nn(e,t,a,n),a=rt?nr:0,!g&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vm(e,n,t);else if(e.tag===19)vm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&mc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),_o(t,!1,i,n,c,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&mc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}_o(t,!0,n,null,c,a);break;case"together":_o(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Za(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Al|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ti(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(m(153));if(t.child!==null){for(e=t.child,n=La(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=La(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Do(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&sc(e)))}function q0(e,t,n){switch(t.tag){case 3:Gt(t,t.stateNode.containerInfo),Nl(t,Yt,e.memoizedState.cache),ps();break;case 27:case 5:Ue(t);break;case 4:Gt(t,t.stateNode.containerInfo);break;case 10:Nl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Fu(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Dl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?ym(e,t,n):(Dl(t),e=Za(e,t,n),e!==null?e.sibling:null);Dl(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(ti(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return gm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),be(Ut,Ut.current),a)break;return null;case 22:return t.lanes=0,om(e,t,n,t.pendingProps);case 24:Nl(t,Yt,e.memoizedState.cache)}return Za(e,t,n)}function xm(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Kt=!0;else{if(!Do(e,n)&&(t.flags&128)===0)return Kt=!1,q0(e,t,n);Kt=(e.flags&131072)!==0}else Kt=!1,rt&&(t.flags&1048576)!==0&&Ff(t,nr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=xs(t.elementType),t.type=e,typeof e=="function")Au(e)?(a=Ns(e,a),t.tag=1,t=hm(null,t,e,a,n)):(t.tag=0,t=bo(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===xe){t.tag=11,t=rm(null,t,e,a,n);break e}else if(i===ce){t.tag=14,t=cm(null,t,e,a,n);break e}}throw t=he(e)||e,Error(m(306,t,""))}}return t;case 0:return bo(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Ns(a,t.pendingProps),hm(e,t,a,i,n);case 3:e:{if(Gt(t,t.stateNode.containerInfo),e===null)throw Error(m(387));a=t.pendingProps;var c=t.memoizedState;i=c.element,Vu(e,t),or(t,a,null,n);var p=t.memoizedState;if(a=p.cache,Nl(t,Yt,a),a!==c.cache&&Yu(t,[Yt],n,!0),ur(),a=p.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=pm(e,t,a,n);break e}else if(a!==i){i=Yn(Error(m(424)),t),ar(i),t=pm(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Dt=Qn(e.firstChild),en=t,rt=!0,jl=null,Xn=!0,n=od(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ps(),a===i){t=Za(e,t,n);break e}nn(e,t,a,n)}t=t.child}return t;case 26:return Sc(e,t),e===null?(n=Oh(t.type,null,t.pendingProps,null))?t.memoizedState=n:rt||(n=t.type,e=t.pendingProps,a=Lc(Xe.current).createElement(n),a[St]=t,a[Bt]=e,an(a,n,e),Rt(a),t.stateNode=a):t.memoizedState=Oh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ue(t),e===null&&rt&&(a=t.stateNode=Dh(t.type,t.pendingProps,Xe.current),en=t,Xn=!0,i=Dt,Rl(t.type)?(rf=i,Dt=Qn(a.firstChild)):Dt=i),nn(e,t,t.pendingProps.children,n),Sc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&rt&&((i=a=Dt)&&(a=hy(a,t.type,t.pendingProps,Xn),a!==null?(t.stateNode=a,en=t,Dt=Qn(a.firstChild),Xn=!1,i=!0):i=!1),i||wl(t)),Ue(t),i=t.type,c=t.pendingProps,p=e!==null?e.memoizedProps:null,a=c.children,tf(i,c)?a=null:p!==null&&tf(i,p)&&(t.flags|=32),t.memoizedState!==null&&(i=Pu(e,t,E0,null,null,n),Or._currentValue=i),Sc(e,t),nn(e,t,a,n),t.child;case 6:return e===null&&rt&&((e=n=Dt)&&(n=py(n,t.pendingProps,Xn),n!==null?(t.stateNode=n,en=t,Dt=null,e=!0):e=!1),e||wl(t)),null;case 13:return ym(e,t,n);case 4:return Gt(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=js(t,null,a,n):nn(e,t,a,n),t.child;case 11:return rm(e,t,t.type,t.pendingProps,n);case 7:return nn(e,t,t.pendingProps,n),t.child;case 8:return nn(e,t,t.pendingProps.children,n),t.child;case 12:return nn(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Nl(t,t.type,a.value),nn(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,vs(t),i=tn(i),a=a(i),t.flags|=1,nn(e,t,a,n),t.child;case 14:return cm(e,t,t.type,t.pendingProps,n);case 15:return um(e,t,t.type,t.pendingProps,n);case 19:return gm(e,t,n);case 31:return U0(e,t,n);case 22:return om(e,t,n,t.pendingProps);case 24:return vs(t),a=tn(Yt),e===null?(i=Xu(),i===null&&(i=Nt,c=Lu(),i.pooledCache=c,c.refCount++,c!==null&&(i.pooledCacheLanes|=n),i=c),t.memoizedState={parent:a,cache:i},Qu(t),Nl(t,Yt,i)):((e.lanes&n)!==0&&(Vu(e,t),or(t,null,null,n),ur()),i=e.memoizedState,c=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Nl(t,Yt,a)):(a=c.cache,Nl(t,Yt,a),a!==i.cache&&Yu(t,[Yt],n,!0))),nn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(m(156,t.tag))}function Ja(e){e.flags|=4}function Co(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Vm())e.flags|=8192;else throw bs=uc,Gu}else e.flags&=-16777217}function bm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Bh(t))if(Vm())e.flags|=8192;else throw bs=uc,Gu}function _c(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Kr():536870912,e.lanes|=t,mi|=t)}function yr(e,t){if(!rt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function H0(e,t,n){var a=t.pendingProps;switch(Bu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Ct(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ga(Yt),Ot(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ei(t)?Ja(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Uu())),Ct(t),null;case 26:var i=t.type,c=t.memoizedState;return e===null?(Ja(t),c!==null?(Ct(t),bm(t,c)):(Ct(t),Co(t,i,null,a,n))):c?c!==e.memoizedState?(Ja(t),Ct(t),bm(t,c)):(Ct(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Ja(t),Ct(t),Co(t,i,e,a,n)),null;case 27:if(Gl(t),n=Xe.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ja(t);else{if(!a){if(t.stateNode===null)throw Error(m(166));return Ct(t),null}e=Te.current,ei(t)?Pf(t):(e=Dh(i,a,n),t.stateNode=e,Ja(t))}return Ct(t),null;case 5:if(Gl(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ja(t);else{if(!a){if(t.stateNode===null)throw Error(m(166));return Ct(t),null}if(c=Te.current,ei(t))Pf(t);else{var p=Lc(Xe.current);switch(c){case 1:c=p.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:c=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":c=p.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":c=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":c=p.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof a.is=="string"?p.createElement("select",{is:a.is}):p.createElement("select"),a.multiple?c.multiple=!0:a.size&&(c.size=a.size);break;default:c=typeof a.is=="string"?p.createElement(i,{is:a.is}):p.createElement(i)}}c[St]=t,c[Bt]=a;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)c.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=c;e:switch(an(c,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ja(t)}}return Ct(t),Co(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Ja(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(m(166));if(e=Xe.current,ei(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=en,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[St]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||yh(e.nodeValue,n)),e||wl(t,!0)}else e=Lc(e).createTextNode(a),e[St]=t,t.stateNode=e}return Ct(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=ei(t),n!==null){if(e===null){if(!a)throw Error(m(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(557));e[St]=t}else ps(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ct(t),e=!1}else n=Uu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(On(t),t):(On(t),null);if((t.flags&128)!==0)throw Error(m(558))}return Ct(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=ei(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(m(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(m(317));i[St]=t}else ps(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ct(t),i=!1}else i=Uu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(On(t),t):(On(t),null)}return On(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),_c(t,t.updateQueue),Ct(t),null);case 4:return Ot(),e===null&&$o(t.stateNode.containerInfo),Ct(t),null;case 10:return Ga(t.type),Ct(t),null;case 19:if(K(Ut),a=t.memoizedState,a===null)return Ct(t),null;if(i=(t.flags&128)!==0,c=a.rendering,c===null)if(i)yr(a,!1);else{if(Mt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=mc(e),c!==null){for(t.flags|=128,yr(a,!1),e=c.updateQueue,t.updateQueue=e,_c(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Jf(n,e),n=n.sibling;return be(Ut,Ut.current&1|2),rt&&Ka(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&sn()>Ac&&(t.flags|=128,i=!0,yr(a,!1),t.lanes=4194304)}else{if(!i)if(e=mc(c),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,_c(t,e),yr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!rt)return Ct(t),null}else 2*sn()-a.renderingStartTime>Ac&&n!==536870912&&(t.flags|=128,i=!0,yr(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(e=a.last,e!==null?e.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=sn(),e.sibling=null,n=Ut.current,be(Ut,i?n&1|2:n&1),rt&&Ka(t,a.treeForkCount),e):(Ct(t),null);case 22:case 23:return On(t),$u(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),n=t.updateQueue,n!==null&&_c(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&K(gs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ga(Yt),Ct(t),null;case 25:return null;case 30:return null}throw Error(m(156,t.tag))}function Y0(e,t){switch(Bu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ga(Yt),Ot(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Gl(t),null;case 31:if(t.memoizedState!==null){if(On(t),t.alternate===null)throw Error(m(340));ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(On(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(m(340));ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(Ut),null;case 4:return Ot(),null;case 10:return Ga(t.type),null;case 22:case 23:return On(t),$u(),e!==null&&K(gs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ga(Yt),null;case 25:return null;default:return null}}function jm(e,t){switch(Bu(t),t.tag){case 3:Ga(Yt),Ot();break;case 26:case 27:case 5:Gl(t);break;case 4:Ot();break;case 31:t.memoizedState!==null&&On(t);break;case 13:On(t);break;case 19:K(Ut);break;case 10:Ga(t.type);break;case 22:case 23:On(t),$u(),e!==null&&K(gs);break;case 24:Ga(Yt)}}function vr(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var c=n.create,p=n.inst;a=c(),p.destroy=a}n=n.next}while(n!==i)}}catch(g){pt(t,t.return,g)}}function El(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var c=i.next;a=c;do{if((a.tag&e)===e){var p=a.inst,g=p.destroy;if(g!==void 0){p.destroy=void 0,i=t;var S=n,J=g;try{J()}catch(le){pt(i,S,le)}}}a=a.next}while(a!==c)}}catch(le){pt(t,t.return,le)}}function wm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{dd(t,n)}catch(a){pt(e,e.return,a)}}}function Nm(e,t,n){n.props=Ns(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){pt(e,t,a)}}function gr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){pt(e,t,i)}}function ga(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){pt(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){pt(e,t,i)}else n.current=null}function Sm(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){pt(e,e.return,i)}}function Eo(e,t,n){try{var a=e.stateNode;cy(a,e.type,n,t),a[Bt]=t}catch(i){pt(e,e.return,i)}}function Tm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Rl(e.type)||e.tag===4}function Oo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Rl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ao(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gn));else if(a!==4&&(a===27&&Rl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Ao(e,t,n),e=e.sibling;e!==null;)Ao(e,t,n),e=e.sibling}function Dc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Rl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Dc(e,t,n),e=e.sibling;e!==null;)Dc(e,t,n),e=e.sibling}function _m(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);an(t,a,n),t[St]=e,t[Bt]=n}catch(c){pt(e,e.return,c)}}var Ia=!1,Xt=!1,Mo=!1,Dm=typeof WeakSet=="function"?WeakSet:Set,$t=null;function L0(e,t){if(e=e.containerInfo,Po=Jc,e=y(e),v(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var p=0,g=-1,S=-1,J=0,le=0,ie=e,F=null;t:for(;;){for(var P;ie!==n||i!==0&&ie.nodeType!==3||(g=p+i),ie!==c||a!==0&&ie.nodeType!==3||(S=p+a),ie.nodeType===3&&(p+=ie.nodeValue.length),(P=ie.firstChild)!==null;)F=ie,ie=P;for(;;){if(ie===e)break t;if(F===n&&++J===i&&(g=p),F===c&&++le===a&&(S=p),(P=ie.nextSibling)!==null)break;ie=F,F=ie.parentNode}ie=P}n=g===-1||S===-1?null:{start:g,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(ef={focusedElem:e,selectionRange:n},Jc=!1,$t=t;$t!==null;)if(t=$t,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$t=e;else for(;$t!==null;){switch(t=$t,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,n=t,i=c.memoizedProps,c=c.memoizedState,a=n.stateNode;try{var Be=Ns(n.type,i);e=a.getSnapshotBeforeUpdate(Be,c),a.__reactInternalSnapshotBeforeUpdate=e}catch(Ke){pt(n,n.return,Ke)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)af(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":af(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(m(163))}if(e=t.sibling,e!==null){e.return=t.return,$t=e;break}$t=t.return}}function Cm(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Fa(e,n),a&4&&vr(5,n);break;case 1:if(Fa(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){pt(n,n.return,p)}else{var i=Ns(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){pt(n,n.return,p)}}a&64&&wm(n),a&512&&gr(n,n.return);break;case 3:if(Fa(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{dd(e,t)}catch(p){pt(n,n.return,p)}}break;case 27:t===null&&a&4&&_m(n);case 26:case 5:Fa(e,n),t===null&&a&4&&Sm(n),a&512&&gr(n,n.return);break;case 12:Fa(e,n);break;case 31:Fa(e,n),a&4&&Am(e,n);break;case 13:Fa(e,n),a&4&&Mm(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=$0.bind(null,n),yy(e,n))));break;case 22:if(a=n.memoizedState!==null||Ia,!a){t=t!==null&&t.memoizedState!==null||Xt,i=Ia;var c=Xt;Ia=a,(Xt=t)&&!c?Wa(e,n,(n.subtreeFlags&8772)!==0):Fa(e,n),Ia=i,Xt=c}break;case 30:break;default:Fa(e,n)}}function Em(e){var t=e.alternate;t!==null&&(e.alternate=null,Em(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&As(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Et=null,xn=!1;function $a(e,t,n){for(n=n.child;n!==null;)Om(e,t,n),n=n.sibling}function Om(e,t,n){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(sa,n)}catch{}switch(n.tag){case 26:Xt||ga(n,t),$a(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Xt||ga(n,t);var a=Et,i=xn;Rl(n.type)&&(Et=n.stateNode,xn=!1),$a(e,t,n),Dr(n.stateNode),Et=a,xn=i;break;case 5:Xt||ga(n,t);case 6:if(a=Et,i=xn,Et=null,$a(e,t,n),Et=a,xn=i,Et!==null)if(xn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(n.stateNode)}catch(c){pt(n,t,c)}else try{Et.removeChild(n.stateNode)}catch(c){pt(n,t,c)}break;case 18:Et!==null&&(xn?(e=Et,wh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ji(e)):wh(Et,n.stateNode));break;case 4:a=Et,i=xn,Et=n.stateNode.containerInfo,xn=!0,$a(e,t,n),Et=a,xn=i;break;case 0:case 11:case 14:case 15:El(2,n,t),Xt||El(4,n,t),$a(e,t,n);break;case 1:Xt||(ga(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Nm(n,t,a)),$a(e,t,n);break;case 21:$a(e,t,n);break;case 22:Xt=(a=Xt)||n.memoizedState!==null,$a(e,t,n),Xt=a;break;default:$a(e,t,n)}}function Am(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ji(e)}catch(n){pt(t,t.return,n)}}}function Mm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ji(e)}catch(n){pt(t,t.return,n)}}function K0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Dm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Dm),t;default:throw Error(m(435,e.tag))}}function Cc(e,t){var n=K0(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=F0.bind(null,e,a);a.then(i,i)}})}function bn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],c=e,p=t,g=p;e:for(;g!==null;){switch(g.tag){case 27:if(Rl(g.type)){Et=g.stateNode,xn=!1;break e}break;case 5:Et=g.stateNode,xn=!1;break e;case 3:case 4:Et=g.stateNode.containerInfo,xn=!0;break e}g=g.return}if(Et===null)throw Error(m(160));Om(c,p,i),Et=null,xn=!1,c=i.alternate,c!==null&&(c.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)km(t,e),t=t.sibling}var Pn=null;function km(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bn(t,e),jn(e),a&4&&(El(3,e,e.return),vr(3,e),El(5,e,e.return));break;case 1:bn(t,e),jn(e),a&512&&(Xt||n===null||ga(n,n.return)),a&64&&Ia&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=Pn;if(bn(t,e),jn(e),a&512&&(Xt||n===null||ga(n,n.return)),a&4){var c=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":c=i.getElementsByTagName("title")[0],(!c||c[Tn]||c[St]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=i.createElement(a),i.head.insertBefore(c,i.querySelector("head > title"))),an(c,a,n),c[St]=e,Rt(c),a=c;break e;case"link":var p=kh("link","href",i).get(a+(n.href||""));if(p){for(var g=0;g<p.length;g++)if(c=p[g],c.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&c.getAttribute("rel")===(n.rel==null?null:n.rel)&&c.getAttribute("title")===(n.title==null?null:n.title)&&c.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(g,1);break t}}c=i.createElement(a),an(c,a,n),i.head.appendChild(c);break;case"meta":if(p=kh("meta","content",i).get(a+(n.content||""))){for(g=0;g<p.length;g++)if(c=p[g],c.getAttribute("content")===(n.content==null?null:""+n.content)&&c.getAttribute("name")===(n.name==null?null:n.name)&&c.getAttribute("property")===(n.property==null?null:n.property)&&c.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&c.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(g,1);break t}}c=i.createElement(a),an(c,a,n),i.head.appendChild(c);break;default:throw Error(m(468,a))}c[St]=e,Rt(c),a=c}e.stateNode=a}else zh(i,e.type,e.stateNode);else e.stateNode=Mh(i,a,e.memoizedProps);else c!==a?(c===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):c.count--,a===null?zh(i,e.type,e.stateNode):Mh(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Eo(e,e.memoizedProps,n.memoizedProps)}break;case 27:bn(t,e),jn(e),a&512&&(Xt||n===null||ga(n,n.return)),n!==null&&a&4&&Eo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(bn(t,e),jn(e),a&512&&(Xt||n===null||ga(n,n.return)),e.flags&32){i=e.stateNode;try{Aa(i,"")}catch(Be){pt(e,e.return,Be)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,Eo(e,i,n!==null?n.memoizedProps:i)),a&1024&&(Mo=!0);break;case 6:if(bn(t,e),jn(e),a&4){if(e.stateNode===null)throw Error(m(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Be){pt(e,e.return,Be)}}break;case 3:if(Gc=null,i=Pn,Pn=Kc(t.containerInfo),bn(t,e),Pn=i,jn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{ji(t.containerInfo)}catch(Be){pt(e,e.return,Be)}Mo&&(Mo=!1,zm(e));break;case 4:a=Pn,Pn=Kc(e.stateNode.containerInfo),bn(t,e),jn(e),Pn=a;break;case 12:bn(t,e),jn(e);break;case 31:bn(t,e),jn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Cc(e,a)));break;case 13:bn(t,e),jn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Oc=sn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Cc(e,a)));break;case 22:i=e.memoizedState!==null;var S=n!==null&&n.memoizedState!==null,J=Ia,le=Xt;if(Ia=J||i,Xt=le||S,bn(t,e),Xt=le,Ia=J,jn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||S||Ia||Xt||Ss(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){S=n=t;try{if(c=S.stateNode,i)p=c.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{g=S.stateNode;var ie=S.memoizedProps.style,F=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;g.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(Be){pt(S,S.return,Be)}}}else if(t.tag===6){if(n===null){S=t;try{S.stateNode.nodeValue=i?"":S.memoizedProps}catch(Be){pt(S,S.return,Be)}}}else if(t.tag===18){if(n===null){S=t;try{var P=S.stateNode;i?Nh(P,!0):Nh(S.stateNode,!1)}catch(Be){pt(S,S.return,Be)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Cc(e,n))));break;case 19:bn(t,e),jn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Cc(e,a)));break;case 30:break;case 21:break;default:bn(t,e),jn(e)}}function jn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Tm(a)){n=a;break}a=a.return}if(n==null)throw Error(m(160));switch(n.tag){case 27:var i=n.stateNode,c=Oo(e);Dc(e,c,i);break;case 5:var p=n.stateNode;n.flags&32&&(Aa(p,""),n.flags&=-33);var g=Oo(e);Dc(e,g,p);break;case 3:case 4:var S=n.stateNode.containerInfo,J=Oo(e);Ao(e,J,S);break;default:throw Error(m(161))}}catch(le){pt(e,e.return,le)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;zm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Fa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Cm(e,t.alternate,t),t=t.sibling}function Ss(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:El(4,t,t.return),Ss(t);break;case 1:ga(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Nm(t,t.return,n),Ss(t);break;case 27:Dr(t.stateNode);case 26:case 5:ga(t,t.return),Ss(t);break;case 22:t.memoizedState===null&&Ss(t);break;case 30:Ss(t);break;default:Ss(t)}e=e.sibling}}function Wa(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,c=t,p=c.flags;switch(c.tag){case 0:case 11:case 15:Wa(i,c,n),vr(4,c);break;case 1:if(Wa(i,c,n),a=c,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(J){pt(a,a.return,J)}if(a=c,i=a.updateQueue,i!==null){var g=a.stateNode;try{var S=i.shared.hiddenCallbacks;if(S!==null)for(i.shared.hiddenCallbacks=null,i=0;i<S.length;i++)fd(S[i],g)}catch(J){pt(a,a.return,J)}}n&&p&64&&wm(c),gr(c,c.return);break;case 27:_m(c);case 26:case 5:Wa(i,c,n),n&&a===null&&p&4&&Sm(c),gr(c,c.return);break;case 12:Wa(i,c,n);break;case 31:Wa(i,c,n),n&&p&4&&Am(i,c);break;case 13:Wa(i,c,n),n&&p&4&&Mm(i,c);break;case 22:c.memoizedState===null&&Wa(i,c,n),gr(c,c.return);break;case 30:break;default:Wa(i,c,n)}t=t.sibling}}function ko(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&lr(n))}function zo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&lr(e))}function ea(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bm(e,t,n,a),t=t.sibling}function Bm(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ea(e,t,n,a),i&2048&&vr(9,t);break;case 1:ea(e,t,n,a);break;case 3:ea(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&lr(e)));break;case 12:if(i&2048){ea(e,t,n,a),e=t.stateNode;try{var c=t.memoizedProps,p=c.id,g=c.onPostCommit;typeof g=="function"&&g(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){pt(t,t.return,S)}}else ea(e,t,n,a);break;case 31:ea(e,t,n,a);break;case 13:ea(e,t,n,a);break;case 23:break;case 22:c=t.stateNode,p=t.alternate,t.memoizedState!==null?c._visibility&2?ea(e,t,n,a):xr(e,t):c._visibility&2?ea(e,t,n,a):(c._visibility|=2,oi(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&ko(p,t);break;case 24:ea(e,t,n,a),i&2048&&zo(t.alternate,t);break;default:ea(e,t,n,a)}}function oi(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,p=t,g=n,S=a,J=p.flags;switch(p.tag){case 0:case 11:case 15:oi(c,p,g,S,i),vr(8,p);break;case 23:break;case 22:var le=p.stateNode;p.memoizedState!==null?le._visibility&2?oi(c,p,g,S,i):xr(c,p):(le._visibility|=2,oi(c,p,g,S,i)),i&&J&2048&&ko(p.alternate,p);break;case 24:oi(c,p,g,S,i),i&&J&2048&&zo(p.alternate,p);break;default:oi(c,p,g,S,i)}t=t.sibling}}function xr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:xr(n,a),i&2048&&ko(a.alternate,a);break;case 24:xr(n,a),i&2048&&zo(a.alternate,a);break;default:xr(n,a)}t=t.sibling}}var br=8192;function fi(e,t,n){if(e.subtreeFlags&br)for(e=e.child;e!==null;)Rm(e,t,n),e=e.sibling}function Rm(e,t,n){switch(e.tag){case 26:fi(e,t,n),e.flags&br&&e.memoizedState!==null&&Cy(n,Pn,e.memoizedState,e.memoizedProps);break;case 5:fi(e,t,n);break;case 3:case 4:var a=Pn;Pn=Kc(e.stateNode.containerInfo),fi(e,t,n),Pn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=br,br=16777216,fi(e,t,n),br=a):fi(e,t,n));break;default:fi(e,t,n)}}function Um(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function jr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];$t=a,Hm(a,e)}Um(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)qm(e),e=e.sibling}function qm(e){switch(e.tag){case 0:case 11:case 15:jr(e),e.flags&2048&&El(9,e,e.return);break;case 3:jr(e);break;case 12:jr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ec(e)):jr(e);break;default:jr(e)}}function Ec(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];$t=a,Hm(a,e)}Um(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:El(8,t,t.return),Ec(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ec(t));break;default:Ec(t)}e=e.sibling}}function Hm(e,t){for(;$t!==null;){var n=$t;switch(n.tag){case 0:case 11:case 15:El(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:lr(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,$t=a;else e:for(n=e;$t!==null;){a=$t;var i=a.sibling,c=a.return;if(Em(a),a===n){$t=null;break e}if(i!==null){i.return=c,$t=i;break e}$t=c}}}var X0={getCacheForType:function(e){var t=tn(Yt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return tn(Yt).controller.signal}},G0=typeof WeakMap=="function"?WeakMap:Map,dt=0,Nt=null,tt=null,lt=0,ht=0,An=null,Ol=!1,di=!1,Bo=!1,Pa=0,Mt=0,Al=0,Ts=0,Ro=0,Mn=0,mi=0,wr=null,wn=null,Uo=!1,Oc=0,Ym=0,Ac=1/0,Mc=null,Ml=null,Qt=0,kl=null,hi=null,el=0,qo=0,Ho=null,Lm=null,Nr=0,Yo=null;function kn(){return(dt&2)!==0&&lt!==0?lt&-lt:_.T!==null?Vo():Pl()}function Km(){if(Mn===0)if((lt&536870912)===0||rt){var e=il;il<<=1,(il&3932160)===0&&(il=262144),Mn=e}else Mn=536870912;return e=En.current,e!==null&&(e.flags|=32),Mn}function Nn(e,t,n){(e===Nt&&(ht===2||ht===9)||e.cancelPendingCommit!==null)&&(pi(e,0),zl(e,lt,Mn,!1)),Bn(e,n),((dt&2)===0||e!==Nt)&&(e===Nt&&((dt&2)===0&&(Ts|=n),Mt===4&&zl(e,lt,Mn,!1)),xa(e))}function Xm(e,t,n){if((dt&6)!==0)throw Error(m(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ca(e,t),i=a?Z0(e,t):Ko(e,t,!0),c=a;do{if(i===0){di&&!a&&zl(e,t,0,!1);break}else{if(n=e.current.alternate,c&&!Q0(n)){i=Ko(e,t,!1),c=!1;continue}if(i===2){if(c=t,e.errorRecoveryDisabledLanes&c)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var g=e;i=wr;var S=g.current.memoizedState.isDehydrated;if(S&&(pi(g,p).flags|=256),p=Ko(g,p,!1),p!==2){if(Bo&&!S){g.errorRecoveryDisabledLanes|=c,Ts|=c,i=4;break e}c=wn,wn=i,c!==null&&(wn===null?wn=c:wn.push.apply(wn,c))}i=p}if(c=!1,i!==2)continue}}if(i===1){pi(e,0),zl(e,t,0,!0);break}e:{switch(a=e,c=i,c){case 0:case 1:throw Error(m(345));case 4:if((t&4194048)!==t)break;case 6:zl(a,t,Mn,!Ol);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(m(329))}if((t&62914560)===t&&(i=Oc+300-sn(),10<i)){if(zl(a,t,Mn,!Ol),Fl(a,0,!0)!==0)break e;el=t,a.timeoutHandle=bh(Gm.bind(null,a,n,wn,Mc,Uo,t,Mn,Ts,mi,Ol,c,"Throttled",-0,0),i);break e}Gm(a,n,wn,Mc,Uo,t,Mn,Ts,mi,Ol,c,null,-0,0)}}break}while(!0);xa(e)}function Gm(e,t,n,a,i,c,p,g,S,J,le,ie,F,P){if(e.timeoutHandle=-1,ie=t.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gn},Rm(t,c,ie);var Be=(c&62914560)===c?Oc-sn():(c&4194048)===c?Ym-sn():0;if(Be=Ey(ie,Be),Be!==null){el=c,e.cancelPendingCommit=Be(Wm.bind(null,e,t,c,n,a,i,p,g,S,le,ie,null,F,P)),zl(e,c,p,!J);return}}Wm(e,t,c,n,a,i,p,g,S)}function Q0(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],c=i.getSnapshot;i=i.value;try{if(!on(c(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zl(e,t,n,a){t&=~Ro,t&=~Ts,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var c=31-Ae(i),p=1<<c;a[c]=-1,i&=~p}n!==0&&Wl(e,n,t)}function kc(){return(dt&6)===0?(Sr(0),!1):!0}function Lo(){if(tt!==null){if(ht===0)var e=tt.return;else e=tt,Xa=ys=null,no(e),si=null,ir=0,e=tt;for(;e!==null;)jm(e.alternate,e),e=e.return;tt=null}}function pi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,fy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),el=0,Lo(),Nt=e,tt=n=La(e.current,null),lt=t,ht=0,An=null,Ol=!1,di=Ca(e,t),Bo=!1,mi=Mn=Ro=Ts=Al=Mt=0,wn=wr=null,Uo=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Ae(a),c=1<<i;t|=e[i],a&=~c}return Pa=t,Ze(),n}function Qm(e,t){Ie=null,_.H=hr,t===li||t===cc?(t=rd(),ht=3):t===Gu?(t=rd(),ht=4):ht=t===xo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,An=t,tt===null&&(Mt=1,wc(e,Yn(t,e.current)))}function Vm(){var e=En.current;return e===null?!0:(lt&4194048)===lt?Gn===null:(lt&62914560)===lt||(lt&536870912)!==0?e===Gn:!1}function Zm(){var e=_.H;return _.H=hr,e===null?hr:e}function Jm(){var e=_.A;return _.A=X0,e}function zc(){Mt=4,Ol||(lt&4194048)!==lt&&En.current!==null||(di=!0),(Al&134217727)===0&&(Ts&134217727)===0||Nt===null||zl(Nt,lt,Mn,!1)}function Ko(e,t,n){var a=dt;dt|=2;var i=Zm(),c=Jm();(Nt!==e||lt!==t)&&(Mc=null,pi(e,t)),t=!1;var p=Mt;e:do try{if(ht!==0&&tt!==null){var g=tt,S=An;switch(ht){case 8:Lo(),p=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(t=!0);var J=ht;if(ht=0,An=null,yi(e,g,S,J),n&&di){p=0;break e}break;default:J=ht,ht=0,An=null,yi(e,g,S,J)}}V0(),p=Mt;break}catch(le){Qm(e,le)}while(!0);return t&&e.shellSuspendCounter++,Xa=ys=null,dt=a,_.H=i,_.A=c,tt===null&&(Nt=null,lt=0,Ze()),p}function V0(){for(;tt!==null;)Im(tt)}function Z0(e,t){var n=dt;dt|=2;var a=Zm(),i=Jm();Nt!==e||lt!==t?(Mc=null,Ac=sn()+500,pi(e,t)):di=Ca(e,t);e:do try{if(ht!==0&&tt!==null){t=tt;var c=An;t:switch(ht){case 1:ht=0,An=null,yi(e,t,c,1);break;case 2:case 9:if(sd(c)){ht=0,An=null,$m(t);break}t=function(){ht!==2&&ht!==9||Nt!==e||(ht=7),xa(e)},c.then(t,t);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:sd(c)?(ht=0,An=null,$m(t)):(ht=0,An=null,yi(e,t,c,7));break;case 5:var p=null;switch(tt.tag){case 26:p=tt.memoizedState;case 5:case 27:var g=tt;if(p?Bh(p):g.stateNode.complete){ht=0,An=null;var S=g.sibling;if(S!==null)tt=S;else{var J=g.return;J!==null?(tt=J,Bc(J)):tt=null}break t}}ht=0,An=null,yi(e,t,c,5);break;case 6:ht=0,An=null,yi(e,t,c,6);break;case 8:Lo(),Mt=6;break e;default:throw Error(m(462))}}J0();break}catch(le){Qm(e,le)}while(!0);return Xa=ys=null,_.H=a,_.A=i,dt=n,tt!==null?0:(Nt=null,lt=0,Ze(),Mt)}function J0(){for(;tt!==null&&!Lr();)Im(tt)}function Im(e){var t=xm(e.alternate,e,Pa);e.memoizedProps=e.pendingProps,t===null?Bc(e):tt=t}function $m(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=mm(n,t,t.pendingProps,t.type,void 0,lt);break;case 11:t=mm(n,t,t.pendingProps,t.type.render,t.ref,lt);break;case 5:no(t);default:jm(n,t),t=tt=Jf(t,Pa),t=xm(n,t,Pa)}e.memoizedProps=e.pendingProps,t===null?Bc(e):tt=t}function yi(e,t,n,a){Xa=ys=null,no(t),si=null,ir=0;var i=t.return;try{if(R0(e,i,t,n,lt)){Mt=1,wc(e,Yn(n,e.current)),tt=null;return}}catch(c){if(i!==null)throw tt=i,c;Mt=1,wc(e,Yn(n,e.current)),tt=null;return}t.flags&32768?(rt||a===1?e=!0:di||(lt&536870912)!==0?e=!1:(Ol=e=!0,(a===2||a===9||a===3||a===6)&&(a=En.current,a!==null&&a.tag===13&&(a.flags|=16384))),Fm(t,e)):Bc(t)}function Bc(e){var t=e;do{if((t.flags&32768)!==0){Fm(t,Ol);return}e=t.return;var n=H0(t.alternate,t,Pa);if(n!==null){tt=n;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);Mt===0&&(Mt=5)}function Fm(e,t){do{var n=Y0(e.alternate,e);if(n!==null){n.flags&=32767,tt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){tt=e;return}tt=e=n}while(e!==null);Mt=6,tt=null}function Wm(e,t,n,a,i,c,p,g,S){e.cancelPendingCommit=null;do Rc();while(Qt!==0);if((dt&6)!==0)throw Error(m(327));if(t!==null){if(t===e.current)throw Error(m(177));if(c=t.lanes|t.childLanes,c|=He,zi(e,n,c,p,g,S),e===Nt&&(tt=Nt=null,lt=0),hi=t,kl=e,el=n,qo=c,Ho=i,Lm=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,W0(sl,function(){return ah(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=_.T,_.T=null,i=re.p,re.p=2,p=dt,dt|=4;try{L0(e,t,n)}finally{dt=p,re.p=i,_.T=a}}Qt=1,Pm(),eh(),th()}}function Pm(){if(Qt===1){Qt=0;var e=kl,t=hi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=_.T,_.T=null;var a=re.p;re.p=2;var i=dt;dt|=4;try{km(t,e);var c=ef,p=y(e.containerInfo),g=c.focusedElem,S=c.selectionRange;if(p!==g&&g&&g.ownerDocument&&h(g.ownerDocument.documentElement,g)){if(S!==null&&v(g)){var J=S.start,le=S.end;if(le===void 0&&(le=J),"selectionStart"in g)g.selectionStart=J,g.selectionEnd=Math.min(le,g.value.length);else{var ie=g.ownerDocument||document,F=ie&&ie.defaultView||window;if(F.getSelection){var P=F.getSelection(),Be=g.textContent.length,Ke=Math.min(S.start,Be),jt=S.end===void 0?Ke:Math.min(S.end,Be);!P.extend&&Ke>jt&&(p=jt,jt=Ke,Ke=p);var X=f(g,Ke),B=f(g,jt);if(X&&B&&(P.rangeCount!==1||P.anchorNode!==X.node||P.anchorOffset!==X.offset||P.focusNode!==B.node||P.focusOffset!==B.offset)){var Z=ie.createRange();Z.setStart(X.node,X.offset),P.removeAllRanges(),Ke>jt?(P.addRange(Z),P.extend(B.node,B.offset)):(Z.setEnd(B.node,B.offset),P.addRange(Z))}}}}for(ie=[],P=g;P=P.parentNode;)P.nodeType===1&&ie.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<ie.length;g++){var se=ie[g];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Jc=!!Po,ef=Po=null}finally{dt=i,re.p=a,_.T=n}}e.current=t,Qt=2}}function eh(){if(Qt===2){Qt=0;var e=kl,t=hi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=_.T,_.T=null;var a=re.p;re.p=2;var i=dt;dt|=4;try{Cm(e,t.alternate,t)}finally{dt=i,re.p=a,_.T=n}}Qt=3}}function th(){if(Qt===4||Qt===3){Qt=0,Vl();var e=kl,t=hi,n=el,a=Lm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Qt=5:(Qt=0,hi=kl=null,nh(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Ml=null),rl(n),t=t.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(sa,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=_.T,i=re.p,re.p=2,_.T=null;try{for(var c=e.onRecoverableError,p=0;p<a.length;p++){var g=a[p];c(g.value,{componentStack:g.stack})}}finally{_.T=t,re.p=i}}(el&3)!==0&&Rc(),xa(e),i=e.pendingLanes,(n&261930)!==0&&(i&42)!==0?e===Yo?Nr++:(Nr=0,Yo=e):Nr=0,Sr(0)}}function nh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,lr(t)))}function Rc(){return Pm(),eh(),th(),ah()}function ah(){if(Qt!==5)return!1;var e=kl,t=qo;qo=0;var n=rl(el),a=_.T,i=re.p;try{re.p=32>n?32:n,_.T=null,n=Ho,Ho=null;var c=kl,p=el;if(Qt=0,hi=kl=null,el=0,(dt&6)!==0)throw Error(m(331));var g=dt;if(dt|=4,qm(c.current),Bm(c,c.current,p,n),dt=g,Sr(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(sa,c)}catch{}return!0}finally{re.p=i,_.T=a,nh(e,t)}}function lh(e,t,n){t=Yn(n,t),t=go(e.stateNode,t,2),e=_l(e,t,2),e!==null&&(Bn(e,2),xa(e))}function pt(e,t,n){if(e.tag===3)lh(e,e,n);else for(;t!==null;){if(t.tag===3){lh(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ml===null||!Ml.has(a))){e=Yn(n,e),n=sm(2),a=_l(t,n,2),a!==null&&(im(n,a,t,e),Bn(a,2),xa(a));break}}t=t.return}}function Xo(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new G0;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Bo=!0,i.add(n),e=I0.bind(null,e,t,n),t.then(e,e))}function I0(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Nt===e&&(lt&n)===n&&(Mt===4||Mt===3&&(lt&62914560)===lt&&300>sn()-Oc?(dt&2)===0&&pi(e,0):Ro|=n,mi===lt&&(mi=0)),xa(e)}function sh(e,t){t===0&&(t=Kr()),e=mt(e,t),e!==null&&(Bn(e,t),xa(e))}function $0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sh(e,n)}function F0(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(m(314))}a!==null&&a.delete(t),sh(e,n)}function W0(e,t){return Ql(e,t)}var Uc=null,vi=null,Go=!1,qc=!1,Qo=!1,Bl=0;function xa(e){e!==vi&&e.next===null&&(vi===null?Uc=vi=e:vi=vi.next=e),qc=!0,Go||(Go=!0,ey())}function Sr(e,t){if(!Qo&&qc){Qo=!0;do for(var n=!1,a=Uc;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var c=0;else{var p=a.suspendedLanes,g=a.pingedLanes;c=(1<<31-Ae(42|e)+1)-1,c&=i&~(p&~g),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(n=!0,uh(a,c))}else c=lt,c=Fl(a,a===Nt?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(c&3)===0||Ca(a,c)||(n=!0,uh(a,c));a=a.next}while(n);Qo=!1}}function P0(){ih()}function ih(){qc=Go=!1;var e=0;Bl!==0&&oy()&&(e=Bl);for(var t=sn(),n=null,a=Uc;a!==null;){var i=a.next,c=rh(a,t);c===0?(a.next=null,n===null?Uc=i:n.next=i,i===null&&(vi=n)):(n=a,(e!==0||(c&3)!==0)&&(qc=!0)),a=i}Qt!==0&&Qt!==5||Sr(e),Bl!==0&&(Bl=0)}function rh(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var p=31-Ae(c),g=1<<p,S=i[p];S===-1?((g&n)===0||(g&a)!==0)&&(i[p]=wu(g,t)):S<=t&&(e.expiredLanes|=g),c&=~g}if(t=Nt,n=lt,n=Fl(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(ht===2||ht===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&vn(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ca(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&vn(a),rl(n)){case 2:case 8:n=la;break;case 32:n=sl;break;case 268435456:n=Cs;break;default:n=sl}return a=ch.bind(null,e),n=Ql(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&vn(a),e.callbackPriority=2,e.callbackNode=null,2}function ch(e,t){if(Qt!==0&&Qt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Rc()&&e.callbackNode!==n)return null;var a=lt;return a=Fl(e,e===Nt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Xm(e,a,t),rh(e,sn()),e.callbackNode!=null&&e.callbackNode===n?ch.bind(null,e):null)}function uh(e,t){if(Rc())return null;Xm(e,t,!0)}function ey(){dy(function(){(dt&6)!==0?Ql(rn,P0):ih()})}function Vo(){if(Bl===0){var e=ni;e===0&&(e=De,De<<=1,(De&261888)===0&&(De=256)),Bl=e}return Bl}function oh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wn(""+e)}function fh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function ty(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var c=oh((i[Bt]||null).action),p=a.submitter;p&&(t=(t=p[Bt]||null)?oh(t.formAction):p.getAttribute("formAction"),t!==null&&(c=t,p=null));var g=new Rs("action","action",null,a,i);e.push({event:g,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Bl!==0){var S=p?fh(i,p):new FormData(i);fo(n,{pending:!0,data:S,method:i.method,action:c},null,S)}}else typeof c=="function"&&(g.preventDefault(),S=p?fh(i,p):new FormData(i),fo(n,{pending:!0,data:S,method:i.method,action:c},c,S))},currentTarget:i}]})}}for(var Zo=0;Zo<Ce.length;Zo++){var Jo=Ce[Zo],ny=Jo.toLowerCase(),ay=Jo[0].toUpperCase()+Jo.slice(1);ye(ny,"on"+ay)}ye(I,"onAnimationEnd"),ye(Q,"onAnimationIteration"),ye(ae,"onAnimationStart"),ye("dblclick","onDoubleClick"),ye("focusin","onFocus"),ye("focusout","onBlur"),ye(me,"onTransitionRun"),ye(Ne,"onTransitionStart"),ye(Se,"onTransitionCancel"),ye(pe,"onTransitionEnd"),oa("onMouseEnter",["mouseout","mouseover"]),oa("onMouseLeave",["mouseout","mouseover"]),oa("onPointerEnter",["pointerout","pointerover"]),oa("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ly=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tr));function dh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var p=a.length-1;0<=p;p--){var g=a[p],S=g.instance,J=g.currentTarget;if(g=g.listener,S!==c&&i.isPropagationStopped())break e;c=g,i.currentTarget=J;try{c(i)}catch(le){ke(le)}i.currentTarget=null,c=S}else for(p=0;p<a.length;p++){if(g=a[p],S=g.instance,J=g.currentTarget,g=g.listener,S!==c&&i.isPropagationStopped())break e;c=g,i.currentTarget=J;try{c(i)}catch(le){ke(le)}i.currentTarget=null,c=S}}}}function nt(e,t){var n=t[cl];n===void 0&&(n=t[cl]=new Set);var a=e+"__bubble";n.has(a)||(mh(t,e,2,!1),n.add(a))}function Io(e,t,n){var a=0;t&&(a|=4),mh(n,e,a,t)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function $o(e){if(!e[Hc]){e[Hc]=!0,Ea.forEach(function(n){n!=="selectionchange"&&(ly.has(n)||Io(n,!1,e),Io(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hc]||(t[Hc]=!0,Io("selectionchange",!1,t))}}function mh(e,t,n,a){switch(Kh(t)){case 2:var i=My;break;case 8:i=ky;break;default:i=df}n=i.bind(null,t,n,e),i=void 0,!Ki||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Fo(e,t,n,a,i){var c=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var g=a.stateNode.containerInfo;if(g===i)break;if(p===4)for(p=a.return;p!==null;){var S=p.tag;if((S===3||S===4)&&p.stateNode.containerInfo===i)return;p=p.return}for(;g!==null;){if(p=ua(g),p===null)return;if(S=p.tag,S===5||S===6||S===26||S===27){a=c=p;continue e}g=g.parentNode}}a=a.return}ol(function(){var J=c,le=zs(n),ie=[];e:{var F=Me.get(e);if(F!==void 0){var P=Rs,Be=e;switch(e){case"keypress":if(ml(n)===0)break e;case"keydown":case"keyup":P=Xs;break;case"focusin":Be="focus",P=hl;break;case"focusout":Be="blur",P=hl;break;case"beforeblur":case"afterblur":P=hl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Hs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Vr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=Ii;break;case I:case Q:case ae:P=Zr;break;case pe:P=$i;break;case"scroll":case"scrollend":P=Us;break;case"wheel":P=Qs;break;case"copy":case"cut":case"paste":P=pl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Ji;break;case"toggle":case"beforetoggle":P=$r}var Ke=(t&4)!==0,jt=!Ke&&(e==="scroll"||e==="scrollend"),X=Ke?F!==null?F+"Capture":null:F;Ke=[];for(var B=J,Z;B!==null;){var se=B;if(Z=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Z===null||X===null||(se=za(B,X),se!=null&&Ke.push(_r(B,se,Z))),jt)break;B=B.return}0<Ke.length&&(F=new P(F,Be,null,n,le),ie.push({event:F,listeners:Ke}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",F&&n!==Un&&(Be=n.relatedTarget||n.fromElement)&&(ua(Be)||Be[mn]))break e;if((P||F)&&(F=le.window===le?le:(F=le.ownerDocument)?F.defaultView||F.parentWindow:window,P?(Be=n.relatedTarget||n.toElement,P=J,Be=Be?ua(Be):null,Be!==null&&(jt=T(Be),Ke=Be.tag,Be!==jt||Ke!==5&&Ke!==27&&Ke!==6)&&(Be=null)):(P=null,Be=J),P!==Be)){if(Ke=Hs,se="onMouseLeave",X="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Ke=Ji,se="onPointerLeave",X="onPointerEnter",B="pointer"),jt=P==null?F:_n(P),Z=Be==null?F:_n(Be),F=new Ke(se,B+"leave",P,n,le),F.target=jt,F.relatedTarget=Z,se=null,ua(le)===J&&(Ke=new Ke(X,B+"enter",Be,n,le),Ke.target=Z,Ke.relatedTarget=jt,se=Ke),jt=se,P&&Be)t:{for(Ke=sy,X=P,B=Be,Z=0,se=X;se;se=Ke(se))Z++;se=0;for(var Ye=B;Ye;Ye=Ke(Ye))se++;for(;0<Z-se;)X=Ke(X),Z--;for(;0<se-Z;)B=Ke(B),se--;for(;Z--;){if(X===B||B!==null&&X===B.alternate){Ke=X;break t}X=Ke(X),B=Ke(B)}Ke=null}else Ke=null;P!==null&&hh(ie,F,P,Ke,!1),Be!==null&&jt!==null&&hh(ie,jt,Be,Ke,!0)}}e:{if(F=J?_n(J):window,P=F.nodeName&&F.nodeName.toLowerCase(),P==="select"||P==="input"&&F.type==="file")var ut=ms;else if(Js(F))if(Hn)ut=gl;else{ut=Ya;var Re=nc}else P=F.nodeName,!P||P.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?J&&Li(J.elementType)&&(ut=ms):ut=tr;if(ut&&(ut=ut(e,J))){er(ie,ut,n,le);break e}Re&&Re(e,F,J),e==="focusout"&&J&&F.type==="number"&&J.memoizedProps.value!=null&&ss(F,"number",F.value)}switch(Re=J?_n(J):window,e){case"focusin":(Js(Re)||Re.contentEditable==="true")&&(j=Re,O=J,G=null);break;case"focusout":G=O=j=null;break;case"mousedown":A=!0;break;case"contextmenu":case"mouseup":case"dragend":A=!1,E(ie,n,le);break;case"selectionchange":if(x)break;case"keydown":case"keyup":E(ie,n,le)}var We;if(fs)e:{switch(e){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else qa?Pi(e,n)&&(st="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(st="onCompositionStart");st&&(Vs&&n.locale!=="ko"&&(qa||st!=="onCompositionStart"?st==="onCompositionEnd"&&qa&&(We=dl()):(qn=le,Bs="value"in qn?qn.value:qn.textContent,qa=!0)),Re=Yc(J,st),0<Re.length&&(st=new Ks(st,e,null,n,le),ie.push({event:st,listeners:Re}),We?st.data=We:(We=Wr(n),We!==null&&(st.data=We)))),(We=Cu?Pr(e,n):Eu(e,n))&&(st=Yc(J,"onBeforeInput"),0<st.length&&(Re=new Ks("onBeforeInput","beforeinput",null,n,le),ie.push({event:Re,listeners:st}),Re.data=We)),ty(ie,e,J,n,le)}dh(ie,t)})}function _r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yc(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,c=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||c===null||(i=za(e,n),i!=null&&a.unshift(_r(e,i,c)),i=za(e,t),i!=null&&a.push(_r(e,i,c))),e.tag===3)return a;e=e.return}return[]}function sy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hh(e,t,n,a,i){for(var c=t._reactName,p=[];n!==null&&n!==a;){var g=n,S=g.alternate,J=g.stateNode;if(g=g.tag,S!==null&&S===a)break;g!==5&&g!==26&&g!==27||J===null||(S=J,i?(J=za(n,c),J!=null&&p.unshift(_r(n,J,S))):i||(J=za(n,c),J!=null&&p.push(_r(n,J,S)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var iy=/\r\n?/g,ry=/\u0000|\uFFFD/g;function ph(e){return(typeof e=="string"?e:""+e).replace(iy,`
`).replace(ry,"")}function yh(e,t){return t=ph(t),ph(e)===t}function bt(e,t,n,a,i,c){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Aa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Aa(e,""+a);break;case"className":as(e,"class",a);break;case"tabIndex":as(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":as(e,n,a);break;case"style":Yi(e,a,c);break;case"data":if(t!=="object"){as(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Wn(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(n==="formAction"?(t!=="input"&&bt(e,t,"name",i.name,i,null),bt(e,t,"formEncType",i.formEncType,i,null),bt(e,t,"formMethod",i.formMethod,i,null),bt(e,t,"formTarget",i.formTarget,i,null)):(bt(e,t,"encType",i.encType,i,null),bt(e,t,"method",i.method,i,null),bt(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Wn(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=gn);break;case"onScroll":a!=null&&nt("scroll",e);break;case"onScrollEnd":a!=null&&nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(m(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(m(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Wn(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":nt("beforetoggle",e),nt("toggle",e),Pe(e,"popover",a);break;case"xlinkActuate":Rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Rn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Rn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Rn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Rn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Pe(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Tu.get(n)||n,Pe(e,n,a))}}function Wo(e,t,n,a,i,c){switch(n){case"style":Yi(e,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(m(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(m(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Aa(e,a):(typeof a=="number"||typeof a=="bigint")&&Aa(e,""+a);break;case"onScroll":a!=null&&nt("scroll",e);break;case"onScrollEnd":a!=null&&nt("scrollend",e);break;case"onClick":a!=null&&(e.onclick=gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ts.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),c=e[Bt]||null,c=c!=null?c[n]:null,typeof c=="function"&&e.removeEventListener(t,c,i),typeof a=="function")){typeof c!="function"&&c!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Pe(e,n,a)}}}function an(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",e),nt("load",e);var a=!1,i=!1,c;for(c in n)if(n.hasOwnProperty(c)){var p=n[c];if(p!=null)switch(c){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(m(137,t));default:bt(e,t,c,p,n,null)}}i&&bt(e,t,"srcSet",n.srcSet,n,null),a&&bt(e,t,"src",n.src,n,null);return;case"input":nt("invalid",e);var g=c=p=i=null,S=null,J=null;for(a in n)if(n.hasOwnProperty(a)){var le=n[a];if(le!=null)switch(a){case"name":i=le;break;case"type":p=le;break;case"checked":S=le;break;case"defaultChecked":J=le;break;case"value":c=le;break;case"defaultValue":g=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(m(137,t));break;default:bt(e,t,a,le,n,null)}}ks(e,c,g,S,J,p,i,!1);return;case"select":nt("invalid",e),a=p=c=null;for(i in n)if(n.hasOwnProperty(i)&&(g=n[i],g!=null))switch(i){case"value":c=g;break;case"defaultValue":p=g;break;case"multiple":a=g;default:bt(e,t,i,g,n,null)}t=c,n=p,e.multiple=!!a,t!=null?Fn(e,!!a,t,!1):n!=null&&Fn(e,!!a,n,!0);return;case"textarea":nt("invalid",e),c=i=a=null;for(p in n)if(n.hasOwnProperty(p)&&(g=n[p],g!=null))switch(p){case"value":a=g;break;case"defaultValue":i=g;break;case"children":c=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(m(91));break;default:bt(e,t,p,g,n,null)}is(e,a,i,c);return;case"option":for(S in n)n.hasOwnProperty(S)&&(a=n[S],a!=null)&&(S==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":bt(e,t,S,a,n,null));return;case"dialog":nt("beforetoggle",e),nt("toggle",e),nt("cancel",e),nt("close",e);break;case"iframe":case"object":nt("load",e);break;case"video":case"audio":for(a=0;a<Tr.length;a++)nt(Tr[a],e);break;case"image":nt("error",e),nt("load",e);break;case"details":nt("toggle",e);break;case"embed":case"source":case"link":nt("error",e),nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in n)if(n.hasOwnProperty(J)&&(a=n[J],a!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(m(137,t));default:bt(e,t,J,a,n,null)}return;default:if(Li(t)){for(le in n)n.hasOwnProperty(le)&&(a=n[le],a!==void 0&&Wo(e,t,le,a,n,void 0));return}}for(g in n)n.hasOwnProperty(g)&&(a=n[g],a!=null&&bt(e,t,g,a,n,null))}function cy(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,c=null,p=null,g=null,S=null,J=null,le=null;for(P in n){var ie=n[P];if(n.hasOwnProperty(P)&&ie!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":S=ie;default:a.hasOwnProperty(P)||bt(e,t,P,null,a,ie)}}for(var F in a){var P=a[F];if(ie=n[F],a.hasOwnProperty(F)&&(P!=null||ie!=null))switch(F){case"type":c=P;break;case"name":i=P;break;case"checked":J=P;break;case"defaultChecked":le=P;break;case"value":p=P;break;case"defaultValue":g=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(m(137,t));break;default:P!==ie&&bt(e,t,F,P,a,ie)}}fa(e,p,g,S,J,le,c,i);return;case"select":P=p=g=F=null;for(c in n)if(S=n[c],n.hasOwnProperty(c)&&S!=null)switch(c){case"value":break;case"multiple":P=S;default:a.hasOwnProperty(c)||bt(e,t,c,null,a,S)}for(i in a)if(c=a[i],S=n[i],a.hasOwnProperty(i)&&(c!=null||S!=null))switch(i){case"value":F=c;break;case"defaultValue":g=c;break;case"multiple":p=c;default:c!==S&&bt(e,t,i,c,a,S)}t=g,n=p,a=P,F!=null?Fn(e,!!n,F,!1):!!a!=!!n&&(t!=null?Fn(e,!!n,t,!0):Fn(e,!!n,n?[]:"",!1));return;case"textarea":P=F=null;for(g in n)if(i=n[g],n.hasOwnProperty(g)&&i!=null&&!a.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:bt(e,t,g,null,a,i)}for(p in a)if(i=a[p],c=n[p],a.hasOwnProperty(p)&&(i!=null||c!=null))switch(p){case"value":F=i;break;case"defaultValue":P=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(m(91));break;default:i!==c&&bt(e,t,p,i,a,c)}Hi(e,F,P);return;case"option":for(var Be in n)F=n[Be],n.hasOwnProperty(Be)&&F!=null&&!a.hasOwnProperty(Be)&&(Be==="selected"?e.selected=!1:bt(e,t,Be,null,a,F));for(S in a)F=a[S],P=n[S],a.hasOwnProperty(S)&&F!==P&&(F!=null||P!=null)&&(S==="selected"?e.selected=F&&typeof F!="function"&&typeof F!="symbol":bt(e,t,S,F,a,P));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in n)F=n[Ke],n.hasOwnProperty(Ke)&&F!=null&&!a.hasOwnProperty(Ke)&&bt(e,t,Ke,null,a,F);for(J in a)if(F=a[J],P=n[J],a.hasOwnProperty(J)&&F!==P&&(F!=null||P!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(m(137,t));break;default:bt(e,t,J,F,a,P)}return;default:if(Li(t)){for(var jt in n)F=n[jt],n.hasOwnProperty(jt)&&F!==void 0&&!a.hasOwnProperty(jt)&&Wo(e,t,jt,void 0,a,F);for(le in a)F=a[le],P=n[le],!a.hasOwnProperty(le)||F===P||F===void 0&&P===void 0||Wo(e,t,le,F,a,P);return}}for(var X in n)F=n[X],n.hasOwnProperty(X)&&F!=null&&!a.hasOwnProperty(X)&&bt(e,t,X,null,a,F);for(ie in a)F=a[ie],P=n[ie],!a.hasOwnProperty(ie)||F===P||F==null&&P==null||bt(e,t,ie,F,a,P)}function vh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],c=i.transferSize,p=i.initiatorType,g=i.duration;if(c&&g&&vh(p)){for(p=0,g=i.responseEnd,a+=1;a<n.length;a++){var S=n[a],J=S.startTime;if(J>g)break;var le=S.transferSize,ie=S.initiatorType;le&&vh(ie)&&(S=S.responseEnd,p+=le*(S<g?1:(g-J)/(S-J)))}if(--a,t+=8*(c+p)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Po=null,ef=null;function Lc(e){return e.nodeType===9?e:e.ownerDocument}function gh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function tf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nf=null;function oy(){var e=window.event;return e&&e.type==="popstate"?e===nf?!1:(nf=e,!0):(nf=null,!1)}var bh=typeof setTimeout=="function"?setTimeout:void 0,fy=typeof clearTimeout=="function"?clearTimeout:void 0,jh=typeof Promise=="function"?Promise:void 0,dy=typeof queueMicrotask=="function"?queueMicrotask:typeof jh<"u"?function(e){return jh.resolve(null).then(e).catch(my)}:bh;function my(e){setTimeout(function(){throw e})}function Rl(e){return e==="head"}function wh(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),ji(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Dr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Dr(n);for(var c=n.firstChild;c;){var p=c.nextSibling,g=c.nodeName;c[Tn]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&c.rel.toLowerCase()==="stylesheet"||n.removeChild(c),c=p}}else n==="body"&&Dr(e.ownerDocument.body);n=i}while(n);ji(t)}function Nh(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function af(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":af(n),As(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function hy(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Tn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function py(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qn(e.nextSibling),e===null))return null;return e}function Sh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Qn(e.nextSibling),e===null))return null;return e}function lf(e){return e.data==="$?"||e.data==="$~"}function sf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function yy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var rf=null;function Th(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Qn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function _h(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Dh(e,t,n){switch(t=Lc(n),e){case"html":if(e=t.documentElement,!e)throw Error(m(452));return e;case"head":if(e=t.head,!e)throw Error(m(453));return e;case"body":if(e=t.body,!e)throw Error(m(454));return e;default:throw Error(m(451))}}function Dr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);As(e)}var Vn=new Map,Ch=new Set;function Kc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var tl=re.d;re.d={f:vy,r:gy,D:xy,C:by,L:jy,m:wy,X:Sy,S:Ny,M:Ty};function vy(){var e=tl.f(),t=kc();return e||t}function gy(e){var t=vt(e);t!==null&&t.tag===5&&t.type==="form"?Qd(t):tl.r(e)}var gi=typeof document>"u"?null:document;function Eh(e,t,n){var a=gi;if(a&&typeof t=="string"&&t){var i=Zt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Ch.has(i)||(Ch.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),an(t,"link",e),Rt(t),a.head.appendChild(t)))}}function xy(e){tl.D(e),Eh("dns-prefetch",e,null)}function by(e,t){tl.C(e,t),Eh("preconnect",e,t)}function jy(e,t,n){tl.L(e,t,n);var a=gi;if(a&&e&&t){var i='link[rel="preload"][as="'+Zt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Zt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Zt(n.imageSizes)+'"]')):i+='[href="'+Zt(e)+'"]';var c=i;switch(t){case"style":c=xi(e);break;case"script":c=bi(e)}Vn.has(c)||(e=U({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Vn.set(c,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(Cr(c))||t==="script"&&a.querySelector(Er(c))||(t=a.createElement("link"),an(t,"link",e),Rt(t),a.head.appendChild(t)))}}function wy(e,t){tl.m(e,t);var n=gi;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Zt(a)+'"][href="'+Zt(e)+'"]',c=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=bi(e)}if(!Vn.has(c)&&(e=U({rel:"modulepreload",href:e},t),Vn.set(c,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Er(c)))return}a=n.createElement("link"),an(a,"link",e),Rt(a),n.head.appendChild(a)}}}function Ny(e,t,n){tl.S(e,t,n);var a=gi;if(a&&e){var i=cn(a).hoistableStyles,c=xi(e);t=t||"default";var p=i.get(c);if(!p){var g={loading:0,preload:null};if(p=a.querySelector(Cr(c)))g.loading=5;else{e=U({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Vn.get(c))&&cf(e,n);var S=p=a.createElement("link");Rt(S),an(S,"link",e),S._p=new Promise(function(J,le){S.onload=J,S.onerror=le}),S.addEventListener("load",function(){g.loading|=1}),S.addEventListener("error",function(){g.loading|=2}),g.loading|=4,Xc(p,t,a)}p={type:"stylesheet",instance:p,count:1,state:g},i.set(c,p)}}}function Sy(e,t){tl.X(e,t);var n=gi;if(n&&e){var a=cn(n).hoistableScripts,i=bi(e),c=a.get(i);c||(c=n.querySelector(Er(i)),c||(e=U({src:e,async:!0},t),(t=Vn.get(i))&&uf(e,t),c=n.createElement("script"),Rt(c),an(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(i,c))}}function Ty(e,t){tl.M(e,t);var n=gi;if(n&&e){var a=cn(n).hoistableScripts,i=bi(e),c=a.get(i);c||(c=n.querySelector(Er(i)),c||(e=U({src:e,async:!0,type:"module"},t),(t=Vn.get(i))&&uf(e,t),c=n.createElement("script"),Rt(c),an(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(i,c))}}function Oh(e,t,n,a){var i=(i=Xe.current)?Kc(i):null;if(!i)throw Error(m(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=xi(n.href),n=cn(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=xi(n.href);var c=cn(i).hoistableStyles,p=c.get(e);if(p||(i=i.ownerDocument||i,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,p),(c=i.querySelector(Cr(e)))&&!c._p&&(p.instance=c,p.state.loading=5),Vn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Vn.set(e,n),c||_y(i,e,n,p.state))),t&&a===null)throw Error(m(528,""));return p}if(t&&a!==null)throw Error(m(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=bi(n),n=cn(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(m(444,e))}}function xi(e){return'href="'+Zt(e)+'"'}function Cr(e){return'link[rel="stylesheet"]['+e+"]"}function Ah(e){return U({},e,{"data-precedence":e.precedence,precedence:null})}function _y(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),an(t,"link",n),Rt(t),e.head.appendChild(t))}function bi(e){return'[src="'+Zt(e)+'"]'}function Er(e){return"script[async]"+e}function Mh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Zt(n.href)+'"]');if(a)return t.instance=a,Rt(a),a;var i=U({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Rt(a),an(a,"style",i),Xc(a,n.precedence,e),t.instance=a;case"stylesheet":i=xi(n.href);var c=e.querySelector(Cr(i));if(c)return t.state.loading|=4,t.instance=c,Rt(c),c;a=Ah(n),(i=Vn.get(i))&&cf(a,i),c=(e.ownerDocument||e).createElement("link"),Rt(c);var p=c;return p._p=new Promise(function(g,S){p.onload=g,p.onerror=S}),an(c,"link",a),t.state.loading|=4,Xc(c,n.precedence,e),t.instance=c;case"script":return c=bi(n.src),(i=e.querySelector(Er(c)))?(t.instance=i,Rt(i),i):(a=n,(i=Vn.get(c))&&(a=U({},n),uf(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Rt(i),an(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(m(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Xc(a,n.precedence,e));return t.instance}function Xc(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,c=i,p=0;p<a.length;p++){var g=a[p];if(g.dataset.precedence===t)c=g;else if(c!==i)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function cf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function uf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Gc=null;function kh(e,t,n){if(Gc===null){var a=new Map,i=Gc=new Map;i.set(n,a)}else i=Gc,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var c=n[i];if(!(c[Tn]||c[St]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var p=c.getAttribute(t)||"";p=e+p;var g=a.get(p);g?g.push(c):a.set(p,[c])}}return a}function zh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Dy(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Bh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Cy(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var i=xi(a.href),c=t.querySelector(Cr(i));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Qc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=c,Rt(c);return}c=t.ownerDocument||t,a=Ah(a),(i=Vn.get(i))&&cf(a,i),c=c.createElement("link"),Rt(c);var p=c;p._p=new Promise(function(g,S){p.onload=g,p.onerror=S}),an(c,"link",a),n.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Qc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var of=0;function Ey(e,t){return e.stylesheets&&e.count===0&&Zc(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Zc(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&of===0&&(of=62500*uy());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zc(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>of?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vc=null;function Zc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vc=new Map,t.forEach(Oy,e),Vc=null,Qc.call(e))}function Oy(e,t){if(!(t.state.loading&4)){var n=Vc.get(e);if(n)var a=n.get(null);else{n=new Map,Vc.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<i.length;c++){var p=i[c];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),a=p)}a&&n.set(null,a)}i=t.instance,p=i.getAttribute("data-precedence"),c=n.get(p)||a,c===a&&n.set(null,i),n.set(p,i),this.count++,a=Qc.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),c?c.parentNode.insertBefore(i,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Or={$$typeof:w,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Ay(e,t,n,a,i,c,p,g,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.hiddenUpdates=ia(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=c,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Rh(e,t,n,a,i,c,p,g,S,J,le,ie){return e=new Ay(e,t,n,p,S,J,le,ie,g),t=1,c===!0&&(t|=24),c=Cn(3,null,null,t),e.current=c,c.stateNode=e,t=Lu(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:a,isDehydrated:n,cache:t},Qu(c),e}function Uh(e){return e?(e=Fs,e):Fs}function qh(e,t,n,a,i,c){i=Uh(i),a.context===null?a.context=i:a.pendingContext=i,a=Tl(t),a.payload={element:n},c=c===void 0?null:c,c!==null&&(a.callback=c),n=_l(e,a,t),n!==null&&(Nn(n,e,t),cr(n,e,t))}function Hh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ff(e,t){Hh(e,t),(e=e.alternate)&&Hh(e,t)}function Yh(e){if(e.tag===13||e.tag===31){var t=mt(e,67108864);t!==null&&Nn(t,e,67108864),ff(e,67108864)}}function Lh(e){if(e.tag===13||e.tag===31){var t=kn();t=Bi(t);var n=mt(e,t);n!==null&&Nn(n,e,t),ff(e,t)}}var Jc=!0;function My(e,t,n,a){var i=_.T;_.T=null;var c=re.p;try{re.p=2,df(e,t,n,a)}finally{re.p=c,_.T=i}}function ky(e,t,n,a){var i=_.T;_.T=null;var c=re.p;try{re.p=8,df(e,t,n,a)}finally{re.p=c,_.T=i}}function df(e,t,n,a){if(Jc){var i=mf(a);if(i===null)Fo(e,t,a,Ic,n),Xh(e,a);else if(By(i,e,t,n,a))a.stopPropagation();else if(Xh(e,a),t&4&&-1<zy.indexOf(e)){for(;i!==null;){var c=vt(i);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var p=In(c.pendingLanes);if(p!==0){var g=c;for(g.pendingLanes|=2,g.entangledLanes|=2;p;){var S=1<<31-Ae(p);g.entanglements[1]|=S,p&=~S}xa(c),(dt&6)===0&&(Ac=sn()+500,Sr(0))}}break;case 31:case 13:g=mt(c,2),g!==null&&Nn(g,c,2),kc(),ff(c,2)}if(c=mf(a),c===null&&Fo(e,t,a,Ic,n),c===i)break;i=c}i!==null&&a.stopPropagation()}else Fo(e,t,a,null,n)}}function mf(e){return e=zs(e),hf(e)}var Ic=null;function hf(e){if(Ic=null,e=ua(e),e!==null){var t=T(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Y(t),e!==null)return e;e=null}else if(n===31){if(e=L(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ic=e,null}function Kh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zl()){case rn:return 2;case la:return 8;case sl:case Jl:return 32;case Cs:return 268435456;default:return 32}default:return 32}}var pf=!1,Ul=null,ql=null,Hl=null,Ar=new Map,Mr=new Map,Yl=[],zy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xh(e,t){switch(e){case"focusin":case"focusout":Ul=null;break;case"dragenter":case"dragleave":ql=null;break;case"mouseover":case"mouseout":Hl=null;break;case"pointerover":case"pointerout":Ar.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(t.pointerId)}}function kr(e,t,n,a,i,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:c,targetContainers:[i]},t!==null&&(t=vt(t),t!==null&&Yh(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function By(e,t,n,a,i){switch(t){case"focusin":return Ul=kr(Ul,e,t,n,a,i),!0;case"dragenter":return ql=kr(ql,e,t,n,a,i),!0;case"mouseover":return Hl=kr(Hl,e,t,n,a,i),!0;case"pointerover":var c=i.pointerId;return Ar.set(c,kr(Ar.get(c)||null,e,t,n,a,i)),!0;case"gotpointercapture":return c=i.pointerId,Mr.set(c,kr(Mr.get(c)||null,e,t,n,a,i)),!0}return!1}function Gh(e){var t=ua(e.target);if(t!==null){var n=T(t);if(n!==null){if(t=n.tag,t===13){if(t=Y(n),t!==null){e.blockedOn=t,es(e.priority,function(){Lh(n)});return}}else if(t===31){if(t=L(n),t!==null){e.blockedOn=t,es(e.priority,function(){Lh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $c(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Un=a,n.target.dispatchEvent(a),Un=null}else return t=vt(n),t!==null&&Yh(t),e.blockedOn=n,!1;t.shift()}return!0}function Qh(e,t,n){$c(e)&&n.delete(t)}function Ry(){pf=!1,Ul!==null&&$c(Ul)&&(Ul=null),ql!==null&&$c(ql)&&(ql=null),Hl!==null&&$c(Hl)&&(Hl=null),Ar.forEach(Qh),Mr.forEach(Qh)}function Fc(e,t){e.blockedOn===t&&(e.blockedOn=null,pf||(pf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ry)))}var Wc=null;function Vh(e){Wc!==e&&(Wc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wc===e&&(Wc=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(hf(a||n)===null)continue;break}var c=vt(n);c!==null&&(e.splice(t,3),t-=3,fo(c,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function ji(e){function t(S){return Fc(S,e)}Ul!==null&&Fc(Ul,e),ql!==null&&Fc(ql,e),Hl!==null&&Fc(Hl,e),Ar.forEach(t),Mr.forEach(t);for(var n=0;n<Yl.length;n++){var a=Yl[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Yl.length&&(n=Yl[0],n.blockedOn===null);)Gh(n),n.blockedOn===null&&Yl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],c=n[a+1],p=i[Bt]||null;if(typeof c=="function")p||Vh(n);else if(p){var g=null;if(c&&c.hasAttribute("formAction")){if(i=c,p=c[Bt]||null)g=p.formAction;else if(hf(i)!==null)continue}else g=p.action;typeof g=="function"?n[a+1]=g:(n.splice(a,3),a-=3),Vh(n)}}}function Zh(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(p){return i=p})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function yf(e){this._internalRoot=e}Pc.prototype.render=yf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(m(409));var n=t.current,a=kn();qh(n,a,e,t,null,null)},Pc.prototype.unmount=yf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qh(e.current,2,null,e,null,null),kc(),t[mn]=null}};function Pc(e){this._internalRoot=e}Pc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pl();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yl.length&&t!==0&&t<Yl[n].priority;n++);Yl.splice(n,0,e),n===0&&Gh(e)}};var Jh=o.version;if(Jh!=="19.2.4")throw Error(m(527,Jh,"19.2.4"));re.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(m(188)):(e=Object.keys(e).join(","),Error(m(268,e)));return e=D(t),e=e!==null?ee(e):null,e=e===null?null:e.stateNode,e};var Uy={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{sa=eu.inject(Uy),Ft=eu}catch{}}return Br.createRoot=function(e,t){if(!b(e))throw Error(m(299));var n=!1,a="",i=tm,c=nm,p=am;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Rh(e,1,!1,null,null,n,a,null,i,c,p,Zh),e[mn]=t.current,$o(e),new yf(t)},Br.hydrateRoot=function(e,t,n){if(!b(e))throw Error(m(299));var a=!1,i="",c=tm,p=nm,g=am,S=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.formState!==void 0&&(S=n.formState)),t=Rh(e,1,!0,t,n??null,a,i,S,c,p,g,Zh),t.context=Uh(null),n=t.current,a=kn(),a=Bi(a),i=Tl(a),i.callback=null,_l(n,i,a),n=a,t.current.lanes=n,Bn(t,n),xa(t),e[mn]=t.current,$o(e),new Pc(t)},Br.version="19.2.4",Br}var lp;function Jy(){if(lp)return xf.exports;lp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),xf.exports=Zy(),xf.exports}var Iy=Jy(),lu={exports:{}},$y=lu.exports,sp;function Fy(){return sp||(sp=1,(function(r,o){((d,m)=>{r.exports=m()})($y,function(){var d=function(s,u){return(d=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(f,h){f.__proto__=h}:function(f,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(f[y]=h[y])}))(s,u)},m=function(){return(m=Object.assign||function(s){for(var u,f=1,h=arguments.length;f<h;f++)for(var y in u=arguments[f])Object.prototype.hasOwnProperty.call(u,y)&&(s[y]=u[y]);return s}).apply(this,arguments)};function b(s,u,f){for(var h,y=0,v=u.length;y<v;y++)!h&&y in u||((h=h||Array.prototype.slice.call(u,0,y))[y]=u[y]);return s.concat(h||Array.prototype.slice.call(u))}var T=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Hy,Y=Object.keys,L=Array.isArray;function C(s,u){return typeof u=="object"&&Y(u).forEach(function(f){s[f]=u[f]}),s}typeof Promise>"u"||T.Promise||(T.Promise=Promise);var D=Object.getPrototypeOf,ee={}.hasOwnProperty;function U(s,u){return ee.call(s,u)}function te(s,u){typeof u=="function"&&(u=u(D(s))),(typeof Reflect>"u"?Y:Reflect.ownKeys)(u).forEach(function(f){oe(s,f,u[f])})}var ue=Object.defineProperty;function oe(s,u,f,h){ue(s,u,C(f&&U(f,"get")&&typeof f.get=="function"?{get:f.get,set:f.set,configurable:!0}:{value:f,configurable:!0,writable:!0},h))}function de(s){return{from:function(u){return s.prototype=Object.create(u.prototype),oe(s.prototype,"constructor",s),{extend:te.bind(null,s.prototype)}}}}var _e=Object.getOwnPropertyDescriptor,we=[].slice;function Oe(s,u,f){return we.call(s,u,f)}function w(s,u){return u(s)}function xe(s){if(!s)throw new Error("Assertion Failed")}function ve(s){T.setImmediate?setImmediate(s):setTimeout(s,0)}function fe(s,u){if(typeof u=="string"&&U(s,u))return s[u];if(!u)return s;if(typeof u!="string"){for(var f=[],h=0,y=u.length;h<y;++h){var v=fe(s,u[h]);f.push(v)}return f}var x,j=u.indexOf(".");return j===-1||(x=s[u.substr(0,j)])==null?void 0:fe(x,u.substr(j+1))}function ce(s,u,f){if(s&&u!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof u!="string"&&"length"in u){xe(typeof f!="string"&&"length"in f);for(var h=0,y=u.length;h<y;++h)ce(s,u[h],f[h])}else{var v,x,j=u.indexOf(".");j!==-1?(v=u.substr(0,j),(j=u.substr(j+1))===""?f===void 0?L(s)&&!isNaN(parseInt(v))?s.splice(v,1):delete s[v]:s[v]=f:ce(x=(x=s[v])&&U(s,v)?x:s[v]={},j,f)):f===void 0?L(s)&&!isNaN(parseInt(u))?s.splice(u,1):delete s[u]:s[u]=f}}function qe(s){var u,f={};for(u in s)U(s,u)&&(f[u]=s[u]);return f}var Qe=[].concat;function Fe(s){return Qe.apply([],s)}var K="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Fe([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(u){return u+s+"Array"})}))).filter(function(s){return T[s]}),at=new Set(K.map(function(s){return T[s]})),ne=null;function ge(s){return ne=new WeakMap,s=(function u(f){if(!f||typeof f!="object")return f;var h=ne.get(f);if(h)return h;if(L(f)){h=[],ne.set(f,h);for(var y=0,v=f.length;y<v;++y)h.push(u(f[y]))}else if(at.has(f.constructor))h=f;else{var x,j=D(f);for(x in h=j===Object.prototype?{}:Object.create(j),ne.set(f,h),f)U(f,x)&&(h[x]=u(f[x]))}return h})(s),ne=null,s}var he={}.toString;function Ee(s){return he.call(s).slice(8,-1)}var _=typeof Symbol<"u"?Symbol.iterator:"@@iterator",re=typeof _=="symbol"?function(s){var u;return s!=null&&(u=s[_])&&u.apply(s)}:function(){return null};function W(s,u){u=s.indexOf(u),0<=u&&s.splice(u,1)}var ze={};function $(s){var u,f,h,y;if(arguments.length===1){if(L(s))return s.slice();if(this===ze&&typeof s=="string")return[s];if(y=re(s))for(f=[];!(h=y.next()).done;)f.push(h.value);else{if(s==null)return[s];if(typeof(u=s.length)!="number")return[s];for(f=new Array(u);u--;)f[u]=s[u]}}else for(u=arguments.length,f=new Array(u);u--;)f[u]=arguments[u];return f}var N=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},K=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],rn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(K),be={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Te(s,u){this.name=s,this.message=u}function Le(s,u){return s+". Errors: "+Object.keys(u).map(function(f){return u[f].toString()}).filter(function(f,h,y){return y.indexOf(f)===h}).join(`
`)}function Xe(s,u,f,h){this.failures=u,this.failedKeys=h,this.successCount=f,this.message=Le(s,u)}function Ve(s,u){this.name="BulkError",this.failures=Object.keys(u).map(function(f){return u[f]}),this.failuresByPos=u,this.message=Le(s,this.failures)}de(Te).from(Error).extend({toString:function(){return this.name+": "+this.message}}),de(Xe).from(Te),de(Ve).from(Te);var Gt=rn.reduce(function(s,u){return s[u]=u+"Error",s},{}),Ot=Te,Ue=rn.reduce(function(s,u){var f=u+"Error";function h(y,v){this.name=f,y?typeof y=="string"?(this.message="".concat(y).concat(v?`
 `+v:""),this.inner=v||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=be[u]||f,this.inner=null)}return de(h).from(Ot),s[u]=h,s},{}),Gl=(Ue.Syntax=SyntaxError,Ue.Type=TypeError,Ue.Range=RangeError,K.reduce(function(s,u){return s[u+"Error"]=Ue[u],s},{}));K=rn.reduce(function(s,u){return["Syntax","Type","Range"].indexOf(u)===-1&&(s[u+"Error"]=Ue[u]),s},{});function ct(){}function ll(s){return s}function Ta(s,u){return s==null||s===ll?u:function(f){return u(s(f))}}function Jn(s,u){return function(){s.apply(this,arguments),u.apply(this,arguments)}}function Mi(s,u){return s===ct?u:function(){var f=s.apply(this,arguments),h=(f!==void 0&&(arguments[0]=f),this.onsuccess),y=this.onerror,v=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return h&&(this.onsuccess=this.onsuccess?Jn(h,this.onsuccess):h),y&&(this.onerror=this.onerror?Jn(y,this.onerror):y),v!==void 0?v:f}}function ju(s,u){return s===ct?u:function(){s.apply(this,arguments);var f=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,u.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?Jn(f,this.onsuccess):f),h&&(this.onerror=this.onerror?Jn(h,this.onerror):h)}}function Yr(s,u){return s===ct?u:function(y){var h=s.apply(this,arguments),y=(C(y,h),this.onsuccess),v=this.onerror,x=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return y&&(this.onsuccess=this.onsuccess?Jn(y,this.onsuccess):y),v&&(this.onerror=this.onerror?Jn(v,this.onerror):v),h===void 0?x===void 0?void 0:x:C(h,x)}}function ki(s,u){return s===ct?u:function(){return u.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function Ql(s,u){return s===ct?u:function(){var f=s.apply(this,arguments);if(f&&typeof f.then=="function"){for(var h=this,y=arguments.length,v=new Array(y);y--;)v[y]=arguments[y];return f.then(function(){return u.apply(h,v)})}return u.apply(this,arguments)}}K.ModifyError=Xe,K.DexieError=Te,K.BulkError=Ve;var vn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Lr(s){vn=s}var Vl={},sn=100,Zl=typeof Promise>"u"?[]:(rn=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[Zl=crypto.subtle.digest("SHA-512",new Uint8Array([0])),D(Zl),rn]:[rn,D(rn),rn]),rn=Zl[0],Ha=Zl[1],Ha=Ha&&Ha.then,la=rn&&rn.constructor,sl=!!Zl[2],Jl=function(s,u){Il.push([s,u]),Es&&(queueMicrotask(Kr),Es=!1)},Cs=!0,Es=!0,_a=[],sa=[],Ft=ll,Wt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ct,pgp:!1,env:{},finalize:ct},Ae=Wt,Il=[],Da=0,Os=[];function De(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var u=this._PSD=Ae;if(typeof s!="function"){if(s!==Vl)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&In(this,this._value)}else this._state=null,this._value=null,++u.ref,(function f(h,y){try{y(function(v){if(h._state===null){if(v===h)throw new TypeError("A promise cannot be resolved with itself.");var x=h._lib&&ia();v&&typeof v.then=="function"?f(h,function(j,O){v instanceof De?v._then(j,O):v.then(j,O)}):(h._state=!0,h._value=v,Fl(h)),x&&Bn()}},In.bind(null,h))}catch(v){In(h,v)}})(this,s)}var il={get:function(){var s=Ae,u=es;function f(h,y){var v=this,x=!s.global&&(s!==Ae||u!==es),j=x&&!mn(),O=new De(function(G,A){Ca(v,new $l(As(h,s,x,j),As(y,s,x,j),G,A,s))});return this._consoleTask&&(O._consoleTask=this._consoleTask),O}return f.prototype=Vl,f},set:function(s){oe(this,"then",s&&s.prototype===Vl?il:{get:function(){return s},set:il.set})}};function $l(s,u,f,h,y){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof u=="function"?u:null,this.resolve=f,this.reject=h,this.psd=y}function In(s,u){var f,h;sa.push(u),s._state===null&&(f=s._lib&&ia(),u=Ft(u),s._state=!1,s._value=u,h=s,_a.some(function(y){return y._value===h._value})||_a.push(h),Fl(s),f)&&Bn()}function Fl(s){var u=s._listeners;s._listeners=[];for(var f=0,h=u.length;f<h;++f)Ca(s,u[f]);var y=s._PSD;--y.ref||y.finalize(),Da===0&&(++Da,Jl(function(){--Da==0&&zi()},[]))}function Ca(s,u){if(s._state===null)s._listeners.push(u);else{var f=s._state?u.onFulfilled:u.onRejected;if(f===null)return(s._state?u.resolve:u.reject)(s._value);++u.psd.ref,++Da,Jl(wu,[f,s,u])}}function wu(s,u,f){try{var h,y=u._value;!u._state&&sa.length&&(sa=[]),h=vn&&u._consoleTask?u._consoleTask.run(function(){return s(y)}):s(y),u._state||sa.indexOf(y)!==-1||(v=>{for(var x=_a.length;x;)if(_a[--x]._value===v._value)return _a.splice(x,1)})(u),f.resolve(h)}catch(v){f.reject(v)}finally{--Da==0&&zi(),--f.psd.ref||f.psd.finalize()}}function Kr(){Tn(Wt,function(){ia()&&Bn()})}function ia(){var s=Cs;return Es=Cs=!1,s}function Bn(){var s,u,f;do for(;0<Il.length;)for(s=Il,Il=[],f=s.length,u=0;u<f;++u){var h=s[u];h[0].apply(null,h[1])}while(0<Il.length);Es=Cs=!0}function zi(){for(var s=_a,u=(_a=[],s.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)}),Os.slice(0)),f=u.length;f;)u[--f]()}function Wl(s){return new De(Vl,!1,s)}function wt(s,u){var f=Ae;return function(){var h=ia(),y=Ae;try{return ca(f,!0),s.apply(this,arguments)}catch(v){u&&u(v)}finally{ca(y,!1),h&&Bn()}}}te(De.prototype,{then:il,_then:function(s,u){Ca(this,new $l(null,null,s,u,Ae))},catch:function(s){var u,f;return arguments.length===1?this.then(null,s):(u=s,f=arguments[1],typeof u=="function"?this.then(null,function(h){return(h instanceof u?f:Wl)(h)}):this.then(null,function(h){return(h&&h.name===u?f:Wl)(h)}))},finally:function(s){return this.then(function(u){return De.resolve(s()).then(function(){return u})},function(u){return De.resolve(s()).then(function(){return Wl(u)})})},timeout:function(s,u){var f=this;return s<1/0?new De(function(h,y){var v=setTimeout(function(){return y(new Ue.Timeout(u))},s);f.then(h,y).finally(clearTimeout.bind(null,v))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&oe(De.prototype,Symbol.toStringTag,"Dexie.Promise"),Wt.env=Ri(),te(De,{all:function(){var s=$.apply(null,arguments).map(cl);return new De(function(u,f){s.length===0&&u([]);var h=s.length;s.forEach(function(y,v){return De.resolve(y).then(function(x){s[v]=x,--h||u(s)},f)})})},resolve:function(s){return s instanceof De?s:s&&typeof s.then=="function"?new De(function(u,f){s.then(u,f)}):new De(Vl,!0,s)},reject:Wl,race:function(){var s=$.apply(null,arguments).map(cl);return new De(function(u,f){s.map(function(h){return De.resolve(h).then(u,f)})})},PSD:{get:function(){return Ae},set:function(s){return Ae=s}},totalEchoes:{get:function(){return es}},newPSD:St,usePSD:Tn,scheduler:{get:function(){return Jl},set:function(s){Jl=s}},rejectionMapper:{get:function(){return Ft},set:function(s){Ft=s}},follow:function(s,u){return new De(function(f,h){return St(function(y,v){var x=Ae;x.unhandleds=[],x.onunhandled=v,x.finalize=Jn(function(){var j,O=this;j=function(){O.unhandleds.length===0?y():v(O.unhandleds[0])},Os.push(function G(){j(),Os.splice(Os.indexOf(G),1)}),++Da,Jl(function(){--Da==0&&zi()},[])},x.finalize),s()},u,f,h)})}}),la&&(la.allSettled&&oe(De,"allSettled",function(){var s=$.apply(null,arguments).map(cl);return new De(function(u){s.length===0&&u([]);var f=s.length,h=new Array(f);s.forEach(function(y,v){return De.resolve(y).then(function(x){return h[v]={status:"fulfilled",value:x}},function(x){return h[v]={status:"rejected",reason:x}}).then(function(){return--f||u(h)})})})}),la.any&&typeof AggregateError<"u"&&oe(De,"any",function(){var s=$.apply(null,arguments).map(cl);return new De(function(u,f){s.length===0&&f(new AggregateError([]));var h=s.length,y=new Array(h);s.forEach(function(v,x){return De.resolve(v).then(function(j){return u(j)},function(j){y[x]=j,--h||f(new AggregateError(y))})})})}),la.withResolvers)&&(De.withResolvers=la.withResolvers);var zt={awaits:0,echoes:0,id:0},Bi=0,rl=[],Pl=0,es=0,ra=0;function St(s,x,f,h){var y=Ae,v=Object.create(y),x=(v.parent=y,v.ref=0,v.global=!1,v.id=++ra,Wt.env,v.env=sl?{Promise:De,PromiseProp:{value:De,configurable:!0,writable:!0},all:De.all,race:De.race,allSettled:De.allSettled,any:De.any,resolve:De.resolve,reject:De.reject}:{},x&&C(v,x),++y.ref,v.finalize=function(){--this.parent.ref||this.parent.finalize()},Tn(v,s,f,h));return v.ref===0&&v.finalize(),x}function Bt(){return zt.id||(zt.id=++Bi),++zt.awaits,zt.echoes+=sn,zt.id}function mn(){return!!zt.awaits&&(--zt.awaits==0&&(zt.id=0),zt.echoes=zt.awaits*sn,!0)}function cl(s){return zt.echoes&&s&&s.constructor===la?(Bt(),s.then(function(u){return mn(),u},function(u){return mn(),vt(u)})):s}function Nu(){var s=rl[rl.length-1];rl.pop(),ca(s,!1)}function ca(s,u){var f,h,y=Ae;(u?!zt.echoes||Pl++&&s===Ae:!Pl||--Pl&&s===Ae)||queueMicrotask(u?(function(v){++es,zt.echoes&&--zt.echoes!=0||(zt.echoes=zt.awaits=zt.id=0),rl.push(Ae),ca(v,!0)}).bind(null,s):Nu),s!==Ae&&(Ae=s,y===Wt&&(Wt.env=Ri()),sl)&&(f=Wt.env.Promise,h=s.env,y.global||s.global)&&(Object.defineProperty(T,"Promise",h.PromiseProp),f.all=h.all,f.race=h.race,f.resolve=h.resolve,f.reject=h.reject,h.allSettled&&(f.allSettled=h.allSettled),h.any)&&(f.any=h.any)}function Ri(){var s=T.Promise;return sl?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(T,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function Tn(s,u,f,h,y){var v=Ae;try{return ca(s,!0),u(f,h,y)}finally{ca(v,!1)}}function As(s,u,f,h){return typeof s!="function"?s:function(){var y=Ae;f&&Bt(),ca(u,!0);try{return s.apply(this,arguments)}finally{ca(y,!1),h&&queueMicrotask(mn)}}}function ua(s){Promise===la&&zt.echoes===0?Pl===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+Ha).indexOf("[native code]")===-1&&(Bt=mn=ct);var vt=De.reject,_n="",cn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Rt="String expected.",Ea=[],ts="__dbnames",$n="readonly",oa="readwrite";function Oa(s,u){return s?u?function(){return s.apply(this,arguments)&&u.apply(this,arguments)}:s:u}var Ui={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ns(s){return typeof s!="string"||/\./.test(s)?function(u){return u}:function(u){return u[s]===void 0&&s in u&&delete(u=ge(u))[s],u}}function Xr(){throw Ue.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Pe(s,u){try{var f=as(s),h=as(u);if(f!==h)return f==="Array"?1:h==="Array"?-1:f==="binary"?1:h==="binary"?-1:f==="string"?1:h==="string"?-1:f==="Date"?1:h!=="Date"?NaN:-1;switch(f){case"number":case"Date":case"string":return u<s?1:s<u?-1:0;case"binary":for(var y=Rn(s),v=Rn(u),x=y.length,j=v.length,O=x<j?x:j,G=0;G<O;++G)if(y[G]!==v[G])return y[G]<v[G]?-1:1;return x===j?0:x<j?-1:1;case"Array":for(var A=s,E=u,z=A.length,R=E.length,M=z<R?z:R,k=0;k<M;++k){var V=Pe(A[k],E[k]);if(V!==0)return V}return z===R?0:z<R?-1:1}}catch{}return NaN}function as(s){var u=typeof s;return u=="object"&&(ArrayBuffer.isView(s)||(u=Ee(s))==="ArrayBuffer")?"binary":u}function Rn(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function Pt(s,u,f){var h=s.schema.yProps;return h?(u&&0<f.numFailures&&(u=u.filter(function(y,v){return!f.failures[v]})),Promise.all(h.map(function(y){return y=y.updatesTable,u?s.db.table(y).where("k").anyOf(u).delete():s.db.table(y).clear()})).then(function(){return f})):f}Gr.prototype.execute=function(s){var u=this["@@propmod"];if(u.add!==void 0){var f=u.add;if(L(f))return b(b([],L(s)?s:[],!0),f).sort();if(typeof f=="number")return(Number(s)||0)+f;if(typeof f=="bigint")try{return BigInt(s)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(u.remove!==void 0){var h=u.remove;if(L(h))return L(s)?s.filter(function(y){return!h.includes(y)}).sort():[];if(typeof h=="number")return Number(s)-h;if(typeof h=="bigint")try{return BigInt(s)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}return f=(f=u.replacePrefix)==null?void 0:f[0],f&&typeof s=="string"&&s.startsWith(f)?u.replacePrefix[1]+s.substring(f.length):s};var ul=Gr;function Gr(s){this["@@propmod"]=s}function Ms(s,u){for(var f=Y(u),h=f.length,y=!1,v=0;v<h;++v){var x=f[v],j=u[x],O=fe(s,x);j instanceof ul?(ce(s,x,j.execute(O)),y=!0):O!==j&&(ce(s,x,j),y=!0)}return y}ft.prototype._trans=function(s,u,f){var h=this._tx||Ae.trans,y=this.name,v=vn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function x(G,A,E){if(E.schema[y])return u(E.idbtrans,E);throw new Ue.NotFound("Table "+y+" not part of transaction")}var j=ia();try{var O=h&&h.db._novip===this.db._novip?h===Ae.trans?h._promise(s,x,f):St(function(){return h._promise(s,x,f)},{trans:h,transless:Ae.transless||Ae}):(function G(A,E,z,R){if(A.idbdb&&(A._state.openComplete||Ae.letThrough||A._vip)){var M=A._createTransaction(E,z,A._dbSchema);try{M.create(),A._state.PR1398_maxLoop=3}catch(k){return k.name===Gt.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return G(A,E,z,R)})):vt(k)}return M._promise(E,function(k,V){return St(function(){return Ae.trans=M,R(k,V,M)})}).then(function(k){if(E==="readwrite")try{M.idbtrans.commit()}catch{}return E==="readonly"?k:M._completion.then(function(){return k})})}if(A._state.openComplete)return vt(new Ue.DatabaseClosed(A._state.dbOpenError));if(!A._state.isBeingOpened){if(!A._state.autoOpen)return vt(new Ue.DatabaseClosed);A.open().catch(ct)}return A._state.dbReadyPromise.then(function(){return G(A,E,z,R)})})(this.db,s,[this.name],x);return v&&(O._consoleTask=v,O=O.catch(function(G){return console.trace(G),vt(G)})),O}finally{j&&Bn()}},ft.prototype.get=function(s,u){var f=this;return s&&s.constructor===Object?this.where(s).first(u):s==null?vt(new Ue.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return f.core.get({trans:h,key:s}).then(function(y){return f.hook.reading.fire(y)})}).then(u)},ft.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(L(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var u=Y(s);if(u.length===1)return this.where(u[0]).equals(s[u[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(j){if(j.compound&&u.every(function(G){return 0<=j.keyPath.indexOf(G)})){for(var O=0;O<u.length;++O)if(u.indexOf(j.keyPath[O])===-1)return!1;return!0}return!1}).sort(function(j,O){return j.keyPath.length-O.keyPath.length})[0];if(f&&this.db._maxKey!==_n)return x=f.keyPath.slice(0,u.length),this.where(x).equals(x.map(function(j){return s[j]}));!f&&vn&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var h=this.schema.idxByName;function y(j,O){return Pe(j,O)===0}var x=u.reduce(function(A,O){var G=A[0],A=A[1],E=h[O],z=s[O];return[G||E,G||!E?Oa(A,E&&E.multi?function(R){return R=fe(R,O),L(R)&&R.some(function(M){return y(z,M)})}:function(R){return y(z,fe(R,O))}):A]},[null,null]),v=x[0],x=x[1];return v?this.where(v.name).equals(s[v.keyPath]).filter(x):f?this.filter(x):this.where(u).equals("")},ft.prototype.filter=function(s){return this.toCollection().and(s)},ft.prototype.count=function(s){return this.toCollection().count(s)},ft.prototype.offset=function(s){return this.toCollection().offset(s)},ft.prototype.limit=function(s){return this.toCollection().limit(s)},ft.prototype.each=function(s){return this.toCollection().each(s)},ft.prototype.toArray=function(s){return this.toCollection().toArray(s)},ft.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ft.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,L(s)?"[".concat(s.join("+"),"]"):s))},ft.prototype.reverse=function(){return this.toCollection().reverse()},ft.prototype.mapToClass=function(s){for(var u=this.db,f=this.name,h=((this.schema.mappedClass=s).prototype instanceof Xr&&(s=(x=>{var j=A,O=x;if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function G(){this.constructor=j}function A(){return x!==null&&x.apply(this,arguments)||this}return d(j,O),j.prototype=O===null?Object.create(O):(G.prototype=O.prototype,new G),Object.defineProperty(A.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),A.prototype.table=function(){return f},A})(s)),new Set),y=s.prototype;y;y=D(y))Object.getOwnPropertyNames(y).forEach(function(x){return h.add(x)});function v(x){if(!x)return x;var j,O=Object.create(s.prototype);for(j in x)if(!h.has(j))try{O[j]=x[j]}catch{}return O}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=v,this.hook("reading",v),s},ft.prototype.defineClass=function(){return this.mapToClass(function(s){C(this,s)})},ft.prototype.add=function(s,u){var f=this,h=this.schema.primKey,y=h.auto,v=h.keyPath,x=s;return v&&y&&(x=ns(v)(s)),this._trans("readwrite",function(j){return f.core.mutate({trans:j,type:"add",keys:u!=null?[u]:null,values:[x]})}).then(function(j){return j.numFailures?De.reject(j.failures[0]):j.lastResult}).then(function(j){if(v)try{ce(s,v,j)}catch{}return j})},ft.prototype.upsert=function(s,u){var f=this,h=this.schema.primKey.keyPath;return this._trans("readwrite",function(y){return f.core.get({trans:y,key:s}).then(function(v){var x=v??{};return Ms(x,u),h&&ce(x,h,s),f.core.mutate({trans:y,type:"put",values:[x],keys:[s],upsert:!0,updates:{keys:[s],changeSpecs:[u]}}).then(function(j){return j.numFailures?De.reject(j.failures[0]):!!v})})})},ft.prototype.update=function(s,u){return typeof s!="object"||L(s)?this.where(":id").equals(s).modify(u):(s=fe(s,this.schema.primKey.keyPath))===void 0?vt(new Ue.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(u)},ft.prototype.put=function(s,u){var f=this,h=this.schema.primKey,y=h.auto,v=h.keyPath,x=s;return v&&y&&(x=ns(v)(s)),this._trans("readwrite",function(j){return f.core.mutate({trans:j,type:"put",values:[x],keys:u!=null?[u]:null})}).then(function(j){return j.numFailures?De.reject(j.failures[0]):j.lastResult}).then(function(j){if(v)try{ce(s,v,j)}catch{}return j})},ft.prototype.delete=function(s){var u=this;return this._trans("readwrite",function(f){return u.core.mutate({trans:f,type:"delete",keys:[s]}).then(function(h){return Pt(u,[s],h)}).then(function(h){return h.numFailures?De.reject(h.failures[0]):void 0})})},ft.prototype.clear=function(){var s=this;return this._trans("readwrite",function(u){return s.core.mutate({trans:u,type:"deleteRange",range:Ui}).then(function(f){return Pt(s,null,f)})}).then(function(u){return u.numFailures?De.reject(u.failures[0]):void 0})},ft.prototype.bulkGet=function(s){var u=this;return this._trans("readonly",function(f){return u.core.getMany({keys:s,trans:f}).then(function(h){return h.map(function(y){return u.hook.reading.fire(y)})})})},ft.prototype.bulkAdd=function(s,u,f){var h=this,y=Array.isArray(u)?u:void 0,v=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(x){var j=h.schema.primKey,G=j.auto,j=j.keyPath;if(j&&y)throw new Ue.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==s.length)throw new Ue.InvalidArgument("Arguments objects and keys must have the same length");var O=s.length,G=j&&G?s.map(ns(j)):s;return h.core.mutate({trans:x,type:"add",keys:y,values:G,wantResults:v}).then(function(A){var E=A.numFailures,z=A.failures;if(E===0)return v?A.results:A.lastResult;throw new Ve("".concat(h.name,".bulkAdd(): ").concat(E," of ").concat(O," operations failed"),z)})})},ft.prototype.bulkPut=function(s,u,f){var h=this,y=Array.isArray(u)?u:void 0,v=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(x){var j=h.schema.primKey,G=j.auto,j=j.keyPath;if(j&&y)throw new Ue.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==s.length)throw new Ue.InvalidArgument("Arguments objects and keys must have the same length");var O=s.length,G=j&&G?s.map(ns(j)):s;return h.core.mutate({trans:x,type:"put",keys:y,values:G,wantResults:v}).then(function(A){var E=A.numFailures,z=A.failures;if(E===0)return v?A.results:A.lastResult;throw new Ve("".concat(h.name,".bulkPut(): ").concat(E," of ").concat(O," operations failed"),z)})})},ft.prototype.bulkUpdate=function(s){var u=this,f=this.core,h=s.map(function(x){return x.key}),y=s.map(function(x){return x.changes}),v=[];return this._trans("readwrite",function(x){return f.getMany({trans:x,keys:h,cache:"clone"}).then(function(j){var O=[],G=[],A=(s.forEach(function(E,z){var R=E.key,M=E.changes,k=j[z];if(k){for(var V=0,I=Object.keys(M);V<I.length;V++){var Q=I[V],ae=M[Q];if(Q===u.schema.primKey.keyPath){if(Pe(ae,R)!==0)throw new Ue.Constraint("Cannot update primary key in bulkUpdate()")}else ce(k,Q,ae)}v.push(z),O.push(R),G.push(k)}}),O.length);return f.mutate({trans:x,type:"put",keys:O,values:G,updates:{keys:h,changeSpecs:y}}).then(function(E){var z=E.numFailures,R=E.failures;if(z===0)return A;for(var M=0,k=Object.keys(R);M<k.length;M++){var V,I=k[M],Q=v[Number(I)];Q!=null&&(V=R[I],delete R[I],R[Q]=V)}throw new Ve("".concat(u.name,".bulkUpdate(): ").concat(z," of ").concat(A," operations failed"),R)})})})},ft.prototype.bulkDelete=function(s){var u=this,f=s.length;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"delete",keys:s}).then(function(y){return Pt(u,s,y)})}).then(function(h){var y=h.numFailures,v=h.failures;if(y===0)return h.lastResult;throw new Ve("".concat(u.name,".bulkDelete(): ").concat(y," of ").concat(f," operations failed"),v)})};var qi=ft;function ft(){}function ls(s){function u(x,j){if(j){for(var O=arguments.length,G=new Array(O-1);--O;)G[O-1]=arguments[O];return f[x].subscribe.apply(null,G),s}if(typeof x=="string")return f[x]}var f={};u.addEventType=v;for(var h=1,y=arguments.length;h<y;++h)v(arguments[h]);return u;function v(x,j,O){var G,A;if(typeof x!="object")return j=j||ki,A={subscribers:[],fire:O=O||ct,subscribe:function(E){A.subscribers.indexOf(E)===-1&&(A.subscribers.push(E),A.fire=j(A.fire,E))},unsubscribe:function(E){A.subscribers=A.subscribers.filter(function(z){return z!==E}),A.fire=A.subscribers.reduce(j,O)}},f[x]=u[x]=A;Y(G=x).forEach(function(E){var z=G[E];if(L(z))v(E,G[E][0],G[E][1]);else{if(z!=="asap")throw new Ue.InvalidArgument("Invalid event config");var R=v(E,ll,function(){for(var M=arguments.length,k=new Array(M);M--;)k[M]=arguments[M];R.subscribers.forEach(function(V){ve(function(){V.apply(null,k)})})})}})}}function Zt(s,u){return de(u).from({prototype:s}),u}function fa(s,u){return!(s.filter||s.algorithm||s.or)&&(u?s.justLimit:!s.replayFilter)}function ks(s,u){s.filter=Oa(s.filter,u)}function ss(s,u,f){var h=s.replayFilter;s.replayFilter=h?function(){return Oa(h(),u())}:u,s.justLimit=f&&!h}function Fn(s,u){if(s.isPrimKey)return u.primaryKey;var f=u.getIndexByKeyPath(s.index);if(f)return f;throw new Ue.Schema("KeyPath "+s.index+" on object store "+u.name+" is not indexed")}function Hi(s,u,f){var h=Fn(s,u.schema);return u.openCursor({trans:f,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:h,range:s.range}})}function is(s,u,f,h){var y,v,x=s.replayFilter?Oa(s.filter,s.replayFilter()):s.filter;return s.or?(y={},v=function(j,O,G){var A,E;x&&!x(O,G,function(z){return O.stop(z)},function(z){return O.fail(z)})||((E=""+(A=O.primaryKey))=="[object ArrayBuffer]"&&(E=""+new Uint8Array(A)),U(y,E))||(y[E]=!0,u(j,O,G))},Promise.all([s.or._iterate(v,f),Aa(Hi(s,h,f),s.algorithm,v,!s.keysOnly&&s.valueMapper)])):Aa(Hi(s,h,f),Oa(s.algorithm,x),u,!s.keysOnly&&s.valueMapper)}function Aa(s,u,f,h){var y=wt(h?function(v,x,j){return f(h(v),x,j)}:f);return s.then(function(v){if(v)return v.start(function(){var x=function(){return v.continue()};u&&!u(v,function(j){return x=j},function(j){v.stop(j),x=ct},function(j){v.fail(j),x=ct})||y(v.value,v,function(j){return x=j}),x()})})}it.prototype._read=function(s,u){var f=this._ctx;return f.error?f.table._trans(null,vt.bind(null,f.error)):f.table._trans("readonly",s).then(u)},it.prototype._write=function(s){var u=this._ctx;return u.error?u.table._trans(null,vt.bind(null,u.error)):u.table._trans("readwrite",s,"locked")},it.prototype._addAlgorithm=function(s){var u=this._ctx;u.algorithm=Oa(u.algorithm,s)},it.prototype._iterate=function(s,u){return is(this._ctx,s,u,this._ctx.table.core)},it.prototype.clone=function(s){var u=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return s&&C(f,s),u._ctx=f,u},it.prototype.raw=function(){return this._ctx.valueMapper=null,this},it.prototype.each=function(s){var u=this._ctx;return this._read(function(f){return is(u,s,f,u.table.core)})},it.prototype.count=function(s){var u=this;return this._read(function(f){var h,y=u._ctx,v=y.table.core;return fa(y,!0)?v.count({trans:f,query:{index:Fn(y,v.schema),range:y.range}}).then(function(x){return Math.min(x,y.limit)}):(h=0,is(y,function(){return++h,!1},f,v).then(function(){return h}))}).then(s)},it.prototype.sortBy=function(s,u){var f=s.split(".").reverse(),h=f[0],y=f.length-1;function v(O,G){return G?v(O[f[G]],G-1):O[h]}var x=this._ctx.dir==="next"?1:-1;function j(O,G){return Pe(v(O,y),v(G,y))*x}return this.toArray(function(O){return O.sort(j)}).then(u)},it.prototype.toArray=function(s){var u=this;return this._read(function(f){var h,y,v,x=u._ctx;return x.dir==="next"&&fa(x,!0)&&0<x.limit?(h=x.valueMapper,y=Fn(x,x.table.core.schema),x.table.core.query({trans:f,limit:x.limit,values:!0,query:{index:y,range:x.range}}).then(function(j){return j=j.result,h?j.map(h):j})):(v=[],is(x,function(j){return v.push(j)},f,x.table.core).then(function(){return v}))},s)},it.prototype.offset=function(s){var u=this._ctx;return s<=0||(u.offset+=s,fa(u)?ss(u,function(){var f=s;return function(h,y){return f===0||(f===1?--f:y(function(){h.advance(f),f=0}),!1)}}):ss(u,function(){var f=s;return function(){return--f<0}})),this},it.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),ss(this._ctx,function(){var u=s;return function(f,h,y){return--u<=0&&h(y),0<=u}},!0),this},it.prototype.until=function(s,u){return ks(this._ctx,function(f,h,y){return!s(f.value)||(h(y),u)}),this},it.prototype.first=function(s){return this.limit(1).toArray(function(u){return u[0]}).then(s)},it.prototype.last=function(s){return this.reverse().first(s)},it.prototype.filter=function(s){var u;return ks(this._ctx,function(f){return s(f.value)}),(u=this._ctx).isMatch=Oa(u.isMatch,s),this},it.prototype.and=function(s){return this.filter(s)},it.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},it.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},it.prototype.desc=function(){return this.reverse()},it.prototype.eachKey=function(s){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){s(h.key,h)})},it.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},it.prototype.eachPrimaryKey=function(s){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){s(h.primaryKey,h)})},it.prototype.keys=function(s){var u=this._ctx,f=(u.keysOnly=!u.isMatch,[]);return this.each(function(h,y){f.push(y.key)}).then(function(){return f}).then(s)},it.prototype.primaryKeys=function(s){var u=this._ctx;if(u.dir==="next"&&fa(u,!0)&&0<u.limit)return this._read(function(h){var y=Fn(u,u.table.core.schema);return u.table.core.query({trans:h,values:!1,limit:u.limit,query:{index:y,range:u.range}})}).then(function(h){return h.result}).then(s);u.keysOnly=!u.isMatch;var f=[];return this.each(function(h,y){f.push(y.primaryKey)}).then(function(){return f}).then(s)},it.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},it.prototype.firstKey=function(s){return this.limit(1).keys(function(u){return u[0]}).then(s)},it.prototype.lastKey=function(s){return this.reverse().firstKey(s)},it.prototype.distinct=function(){var s,u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];return u&&u.multi&&(s={},ks(this._ctx,function(h){var h=h.primaryKey.toString(),y=U(s,h);return s[h]=!0,!y})),this},it.prototype.modify=function(s){var u=this,f=this._ctx;return this._write(function(h){function y(k,V){var I=V.failures;z+=k-V.numFailures;for(var Q=0,ae=Y(I);Q<ae.length;Q++){var me=ae[Q];E.push(I[me])}}var v=typeof s=="function"?s:function(k){return Ms(k,s)},x=f.table.core,A=x.schema.primaryKey,j=A.outbound,O=A.extractKey,G=200,A=u.db._options.modifyChunkSize,E=(A&&(G=typeof A=="object"?A[x.name]||A["*"]||200:A),[]),z=0,R=[],M=s===Yi;return u.clone().primaryKeys().then(function(k){function V(Q){var ae=Math.min(G,k.length-Q),me=k.slice(Q,Q+ae);return(M?Promise.resolve([]):x.getMany({trans:h,keys:me,cache:"immutable"})).then(function(Ne){var Se=[],pe=[],Me=j?[]:null,Ce=M?me:[];if(!M)for(var ye=0;ye<ae;++ye){var ke=Ne[ye],Ge={value:ge(ke),primKey:k[Q+ye]};v.call(Ge,Ge.value,Ge)!==!1&&(Ge.value==null?Ce.push(k[Q+ye]):j||Pe(O(ke),O(Ge.value))===0?(pe.push(Ge.value),j&&Me.push(k[Q+ye])):(Ce.push(k[Q+ye]),Se.push(Ge.value)))}return Promise.resolve(0<Se.length&&x.mutate({trans:h,type:"add",values:Se}).then(function(et){for(var He in et.failures)Ce.splice(parseInt(He),1);y(Se.length,et)})).then(function(){return(0<pe.length||I&&typeof s=="object")&&x.mutate({trans:h,type:"put",keys:Me,values:pe,criteria:I,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<Q}).then(function(et){return y(pe.length,et)})}).then(function(){return(0<Ce.length||I&&M)&&x.mutate({trans:h,type:"delete",keys:Ce,criteria:I,isAdditionalChunk:0<Q}).then(function(et){return Pt(f.table,Ce,et)}).then(function(et){return y(Ce.length,et)})}).then(function(){return k.length>Q+ae&&V(Q+G)})})}var I=fa(f)&&f.limit===1/0&&(typeof s!="function"||M)&&{index:f.index,range:f.range};return V(0).then(function(){if(0<E.length)throw new Xe("Error modifying one or more objects",E,z,R);return k.length})})})},it.prototype.delete=function(){var s=this._ctx,u=s.range;return!fa(s)||s.table.schema.yProps||!s.isPrimKey&&u.type!==3?this.modify(Yi):this._write(function(f){var h=s.table.core.schema.primaryKey,y=u;return s.table.core.count({trans:f,query:{index:h,range:y}}).then(function(v){return s.table.core.mutate({trans:f,type:"deleteRange",range:y}).then(function(O){var j=O.failures,O=O.numFailures;if(O)throw new Xe("Could not delete some values",Object.keys(j).map(function(G){return j[G]}),v-O);return v-O})})})};var Su=it;function it(){}var Yi=function(s,u){return u.value=null};function Li(s,u){return s<u?-1:s===u?0:1}function Tu(s,u){return u<s?-1:s===u?0:1}function hn(s,u,f){return s=s instanceof Ma?new s.Collection(s):s,s._ctx.error=new(f||TypeError)(u),s}function Wn(s){return new s.Collection(s,function(){return zs("")}).limit(0)}function gn(R,u,f,h){var y,v,x,j,O,G,A,E=f.length;if(!f.every(function(k){return typeof k=="string"}))return hn(R,Rt);function z(k){y=k==="next"?function(I){return I.toUpperCase()}:function(I){return I.toLowerCase()},v=k==="next"?function(I){return I.toLowerCase()}:function(I){return I.toUpperCase()},x=k==="next"?Li:Tu;var V=f.map(function(I){return{lower:v(I),upper:y(I)}}).sort(function(I,Q){return x(I.lower,Q.lower)});j=V.map(function(I){return I.upper}),O=V.map(function(I){return I.lower}),A=(G=k)==="next"?"":h}z("next");var R=new R.Collection(R,function(){return Un(j[0],O[E-1]+h)}),M=(R._ondirectionchange=function(k){z(k)},0);return R._addAlgorithm(function(k,V,I){var Q=k.key;if(typeof Q=="string"){var ae=v(Q);if(u(ae,O,M))return!0;for(var me=null,Ne=M;Ne<E;++Ne){var Se=((pe,Me,Ce,ye,ke,Ge)=>{for(var et=Math.min(pe.length,ye.length),He=-1,Ze=0;Ze<et;++Ze){var gt=Me[Ze];if(gt!==ye[Ze])return ke(pe[Ze],Ce[Ze])<0?pe.substr(0,Ze)+Ce[Ze]+Ce.substr(Ze+1):ke(pe[Ze],ye[Ze])<0?pe.substr(0,Ze)+ye[Ze]+Ce.substr(Ze+1):0<=He?pe.substr(0,He)+Me[He]+Ce.substr(He+1):null;ke(pe[Ze],gt)<0&&(He=Ze)}return et<ye.length&&Ge==="next"?pe+Ce.substr(pe.length):et<pe.length&&Ge==="prev"?pe.substr(0,Ce.length):He<0?null:pe.substr(0,He)+ye[He]+Ce.substr(He+1)})(Q,ae,j[Ne],O[Ne],x,G);Se===null&&me===null?M=Ne+1:(me===null||0<x(me,Se))&&(me=Se)}V(me!==null?function(){k.continue(me+A)}:I)}return!1}),R}function Un(s,u,f,h){return{type:2,lower:s,upper:u,lowerOpen:f,upperOpen:h}}function zs(s){return{type:1,lower:s,upper:s}}Object.defineProperty(Tt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Tt.prototype.between=function(s,u,f,h){f=f!==!1,h=h===!0;try{return 0<this._cmp(s,u)||this._cmp(s,u)===0&&(f||h)&&(!f||!h)?Wn(this):new this.Collection(this,function(){return Un(s,u,!f,!h)})}catch{return hn(this,cn)}},Tt.prototype.equals=function(s){return s==null?hn(this,cn):new this.Collection(this,function(){return zs(s)})},Tt.prototype.above=function(s){return s==null?hn(this,cn):new this.Collection(this,function(){return Un(s,void 0,!0)})},Tt.prototype.aboveOrEqual=function(s){return s==null?hn(this,cn):new this.Collection(this,function(){return Un(s,void 0,!1)})},Tt.prototype.below=function(s){return s==null?hn(this,cn):new this.Collection(this,function(){return Un(void 0,s,!1,!0)})},Tt.prototype.belowOrEqual=function(s){return s==null?hn(this,cn):new this.Collection(this,function(){return Un(void 0,s)})},Tt.prototype.startsWith=function(s){return typeof s!="string"?hn(this,Rt):this.between(s,s+_n,!0,!0)},Tt.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):gn(this,function(u,f){return u.indexOf(f[0])===0},[s],_n)},Tt.prototype.equalsIgnoreCase=function(s){return gn(this,function(u,f){return u===f[0]},[s],"")},Tt.prototype.anyOfIgnoreCase=function(){var s=$.apply(ze,arguments);return s.length===0?Wn(this):gn(this,function(u,f){return f.indexOf(u)!==-1},s,"")},Tt.prototype.startsWithAnyOfIgnoreCase=function(){var s=$.apply(ze,arguments);return s.length===0?Wn(this):gn(this,function(u,f){return f.some(function(h){return u.indexOf(h)===0})},s,_n)},Tt.prototype.anyOf=function(){var s,u,f=this,h=$.apply(ze,arguments),y=this._cmp;try{h.sort(y)}catch{return hn(this,cn)}return h.length===0?Wn(this):((s=new this.Collection(this,function(){return Un(h[0],h[h.length-1])}))._ondirectionchange=function(v){y=v==="next"?f._ascending:f._descending,h.sort(y)},u=0,s._addAlgorithm(function(v,x,j){for(var O=v.key;0<y(O,h[u]);)if(++u===h.length)return x(j),!1;return y(O,h[u])===0||(x(function(){v.continue(h[u])}),!1)}),s)},Tt.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Tt.prototype.noneOf=function(){var s=$.apply(ze,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return hn(this,cn)}var u=s.reduce(function(f,h){return f?f.concat([[f[f.length-1][1],h]]):[[-1/0,h]]},null);return u.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},Tt.prototype.inAnyRange=function(s,I){var f=this,h=this._cmp,y=this._ascending,v=this._descending,x=this._min,j=this._max;if(s.length===0)return Wn(this);if(!s.every(function(Q){return Q[0]!==void 0&&Q[1]!==void 0&&y(Q[0],Q[1])<=0}))return hn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ue.InvalidArgument);var O=!I||I.includeLowers!==!1,G=I&&I.includeUppers===!0,A,E=y;function z(Q,ae){return E(Q[0],ae[0])}try{(A=s.reduce(function(Q,ae){for(var me=0,Ne=Q.length;me<Ne;++me){var Se=Q[me];if(h(ae[0],Se[1])<0&&0<h(ae[1],Se[0])){Se[0]=x(Se[0],ae[0]),Se[1]=j(Se[1],ae[1]);break}}return me===Ne&&Q.push(ae),Q},[])).sort(z)}catch{return hn(this,cn)}var R=0,M=G?function(Q){return 0<y(Q,A[R][1])}:function(Q){return 0<=y(Q,A[R][1])},k=O?function(Q){return 0<v(Q,A[R][0])}:function(Q){return 0<=v(Q,A[R][0])},V=M,I=new this.Collection(this,function(){return Un(A[0][0],A[A.length-1][1],!O,!G)});return I._ondirectionchange=function(Q){E=Q==="next"?(V=M,y):(V=k,v),A.sort(z)},I._addAlgorithm(function(Q,ae,me){for(var Ne,Se=Q.key;V(Se);)if(++R===A.length)return ae(me),!1;return!M(Ne=Se)&&!k(Ne)||(f._cmp(Se,A[R][1])===0||f._cmp(Se,A[R][0])===0||ae(function(){E===y?Q.continue(A[R][0]):Q.continue(A[R][1])}),!1)}),I},Tt.prototype.startsWithAnyOf=function(){var s=$.apply(ze,arguments);return s.every(function(u){return typeof u=="string"})?s.length===0?Wn(this):this.inAnyRange(s.map(function(u){return[u,u+_n]})):hn(this,"startsWithAnyOf() only works with strings")};var Ma=Tt;function Tt(){}function Dn(s){return wt(function(u){return ka(u),s(u.target.error),!1})}function ka(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var ol="storagemutated",za="x-storagemutated-1",Jt=ls(null,ol),Ki=(un.prototype._lock=function(){return xe(!Ae.global),++this._reculock,this._reculock!==1||Ae.global||(Ae.lockOwnerFor=this),this},un.prototype._unlock=function(){if(xe(!Ae.global),--this._reculock==0)for(Ae.global||(Ae.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{Tn(s[1],s[0])}catch{}}return this},un.prototype._locked=function(){return this._reculock&&Ae.lockOwnerFor!==this},un.prototype.create=function(s){var u=this;if(this.mode){var f=this.db.idbdb,h=this.db._state.dbOpenError;if(xe(!this.idbtrans),!s&&!f)switch(h&&h.name){case"DatabaseClosedError":throw new Ue.DatabaseClosed(h);case"MissingAPIError":throw new Ue.MissingAPI(h.message,h);default:throw new Ue.OpenFailed(h)}if(!this.active)throw new Ue.TransactionInactive;xe(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||f).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=wt(function(y){ka(y),u._reject(s.error)}),s.onabort=wt(function(y){ka(y),u.active&&u._reject(new Ue.Abort(s.error)),u.active=!1,u.on("abort").fire(y)}),s.oncomplete=wt(function(){u.active=!1,u._resolve(),"mutatedParts"in s&&Jt.storagemutated.fire(s.mutatedParts)})}return this},un.prototype._promise=function(s,u,f){var h,y=this;return s==="readwrite"&&this.mode!=="readwrite"?vt(new Ue.ReadOnly("Transaction is readonly")):this.active?this._locked()?new De(function(v,x){y._blockedFuncs.push([function(){y._promise(s,u,f).then(v,x)},Ae])}):f?St(function(){var v=new De(function(x,j){y._lock();var O=u(x,j,y);O&&O.then&&O.then(x,j)});return v.finally(function(){return y._unlock()}),v._lib=!0,v}):((h=new De(function(v,x){var j=u(v,x,y);j&&j.then&&j.then(v,x)}))._lib=!0,h):vt(new Ue.TransactionInactive)},un.prototype._root=function(){return this.parent?this.parent._root():this},un.prototype.waitFor=function(s){var u,f=this._root(),h=De.resolve(s),y=(f._waitingFor?f._waitingFor=f._waitingFor.then(function(){return h}):(f._waitingFor=h,f._waitingQueue=[],u=f.idbtrans.objectStore(f.storeNames[0]),(function v(){for(++f._spinCount;f._waitingQueue.length;)f._waitingQueue.shift()();f._waitingFor&&(u.get(-1/0).onsuccess=v)})()),f._waitingFor);return new De(function(v,x){h.then(function(j){return f._waitingQueue.push(wt(v.bind(null,j)))},function(j){return f._waitingQueue.push(wt(x.bind(null,j)))}).finally(function(){f._waitingFor===y&&(f._waitingFor=null)})})},un.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ue.Abort))},un.prototype.table=function(s){var u=this._memoizedTables||(this._memoizedTables={});if(U(u,s))return u[s];var f=this.schema[s];if(f)return(f=new this.db.Table(s,f,this)).core=this.db.core.table(s),u[s]=f;throw new Ue.NotFound("Table "+s+" not part of transaction")},un);function un(){}function qn(s,u,f,h,y,v,x,j){return{name:s,keyPath:u,unique:f,multi:h,auto:y,compound:v,src:(f&&!x?"&":"")+(h?"*":"")+(y?"++":"")+Bs(u),type:j}}function Bs(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function fl(s,u,f){return{name:s,primKey:u,indexes:f,mappedClass:null,idxByName:(h=function(y){return[y.name,y]},f.reduce(function(y,v,x){return v=h(v,x),v&&(y[v[0]]=v[1]),y},{}))};var h}var dl=function(s){try{return s.only([[]]),dl=function(){return[[]]},[[]]}catch{return dl=function(){return _n},_n}};function ml(s){return s==null?function(){}:typeof s=="string"?(u=s).split(".").length===1?function(f){return f[u]}:function(f){return fe(f,u)}:function(f){return fe(f,s)};var u}function rs(s){return[].slice.call(s)}var Qr=0;function Ht(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function Ba(s,u,O){function h(M){if(M.type===3)return null;if(M.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var E=M.lower,z=M.upper,R=M.lowerOpen,M=M.upperOpen;return E===void 0?z===void 0?null:u.upperBound(z,!!M):z===void 0?u.lowerBound(E,!!R):u.bound(E,z,!!R,!!M)}function y(A){var E,z=A.name;return{name:z,schema:A,mutate:function(R){var M=R.trans,k=R.type,V=R.keys,I=R.values,Q=R.range;return new Promise(function(ae,me){ae=wt(ae);var Ne=M.objectStore(z),Se=Ne.keyPath==null,pe=k==="put"||k==="add";if(!pe&&k!=="delete"&&k!=="deleteRange")throw new Error("Invalid operation type: "+k);var Me,Ce=(V||I||{length:1}).length;if(V&&I&&V.length!==I.length)throw new Error("Given keys array must have same length as given values array.");if(Ce===0)return ae({numFailures:0,failures:{},results:[],lastResult:void 0});function ye(mt){++et,ka(mt)}var ke=[],Ge=[],et=0;if(k==="deleteRange"){if(Q.type===4)return ae({numFailures:et,failures:Ge,results:[],lastResult:void 0});Q.type===3?ke.push(Me=Ne.clear()):ke.push(Me=Ne.delete(h(Q)))}else{var Se=pe?Se?[I,V]:[I,null]:[V,null],He=Se[0],Ze=Se[1];if(pe)for(var gt=0;gt<Ce;++gt)ke.push(Me=Ze&&Ze[gt]!==void 0?Ne[k](He[gt],Ze[gt]):Ne[k](He[gt])),Me.onerror=ye;else for(gt=0;gt<Ce;++gt)ke.push(Me=Ne[k](He[gt])),Me.onerror=ye}function fn(mt){mt=mt.target.result,ke.forEach(function(pa,xl){return pa.error!=null&&(Ge[xl]=pa.error)}),ae({numFailures:et,failures:Ge,results:k==="delete"?V:ke.map(function(pa){return pa.result}),lastResult:mt})}Me.onerror=function(mt){ye(mt),fn(mt)},Me.onsuccess=fn})},getMany:function(R){var M=R.trans,k=R.keys;return new Promise(function(V,I){V=wt(V);for(var Q,ae=M.objectStore(z),me=k.length,Ne=new Array(me),Se=0,pe=0,Me=function(ke){ke=ke.target,Ne[ke._pos]=ke.result,++pe===Se&&V(Ne)},Ce=Dn(I),ye=0;ye<me;++ye)k[ye]!=null&&((Q=ae.get(k[ye]))._pos=ye,Q.onsuccess=Me,Q.onerror=Ce,++Se);Se===0&&V(Ne)})},get:function(R){var M=R.trans,k=R.key;return new Promise(function(V,I){V=wt(V);var Q=M.objectStore(z).get(k);Q.onsuccess=function(ae){return V(ae.target.result)},Q.onerror=Dn(I)})},query:(E=j,function(R){return new Promise(function(M,k){M=wt(M);var V,I,Q,pe=R.trans,ae=R.values,me=R.limit,Se=R.query,Ne=me===1/0?void 0:me,Me=Se.index,Se=Se.range,pe=pe.objectStore(z),pe=Me.isPrimaryKey?pe:pe.index(Me.name),Me=h(Se);if(me===0)return M({result:[]});E?((Se=ae?pe.getAll(Me,Ne):pe.getAllKeys(Me,Ne)).onsuccess=function(Ce){return M({result:Ce.target.result})},Se.onerror=Dn(k)):(V=0,I=!ae&&"openKeyCursor"in pe?pe.openKeyCursor(Me):pe.openCursor(Me),Q=[],I.onsuccess=function(Ce){var ye=I.result;return!ye||(Q.push(ae?ye.value:ye.primaryKey),++V===me)?M({result:Q}):void ye.continue()},I.onerror=Dn(k))})}),openCursor:function(R){var M=R.trans,k=R.values,V=R.query,I=R.reverse,Q=R.unique;return new Promise(function(ae,me){ae=wt(ae);var pe=V.index,Ne=V.range,Se=M.objectStore(z),Se=pe.isPrimaryKey?Se:Se.index(pe.name),pe=I?Q?"prevunique":"prev":Q?"nextunique":"next",Me=!k&&"openKeyCursor"in Se?Se.openKeyCursor(h(Ne),pe):Se.openCursor(h(Ne),pe);Me.onerror=Dn(me),Me.onsuccess=wt(function(Ce){var ye,ke,Ge,et,He=Me.result;He?(He.___id=++Qr,He.done=!1,ye=He.continue.bind(He),ke=(ke=He.continuePrimaryKey)&&ke.bind(He),Ge=He.advance.bind(He),et=function(){throw new Error("Cursor not stopped")},He.trans=M,He.stop=He.continue=He.continuePrimaryKey=He.advance=function(){throw new Error("Cursor not started")},He.fail=wt(me),He.next=function(){var Ze=this,gt=1;return this.start(function(){return gt--?Ze.continue():Ze.stop()}).then(function(){return Ze})},He.start=function(Ze){function gt(){if(Me.result)try{Ze()}catch(mt){He.fail(mt)}else He.done=!0,He.start=function(){throw new Error("Cursor behind last entry")},He.stop()}var fn=new Promise(function(mt,pa){mt=wt(mt),Me.onerror=Dn(pa),He.fail=pa,He.stop=function(xl){He.stop=He.continue=He.continuePrimaryKey=He.advance=et,mt(xl)}});return Me.onsuccess=wt(function(mt){Me.onsuccess=gt,gt()}),He.continue=ye,He.continuePrimaryKey=ke,He.advance=Ge,gt(),fn},ae(He)):ae(null)},me)})},count:function(R){var M=R.query,k=R.trans,V=M.index,I=M.range;return new Promise(function(Q,ae){var me=k.objectStore(z),me=V.isPrimaryKey?me:me.index(V.name),Ne=h(I),Ne=Ne?me.count(Ne):me.count();Ne.onsuccess=wt(function(Se){return Q(Se.target.result)}),Ne.onerror=Dn(ae)})}}}v=O,x=rs((O=s).objectStoreNames);var v,O={schema:{name:O.name,tables:x.map(function(A){return v.objectStore(A)}).map(function(A){var E=A.keyPath,z=A.autoIncrement,M=L(E),R={},M={name:A.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:E==null,compound:M,keyPath:E,autoIncrement:z,unique:!0,extractKey:ml(E)},indexes:rs(A.indexNames).map(function(k){return A.index(k)}).map(function(Q){var ae=Q.name,V=Q.unique,I=Q.multiEntry,Q=Q.keyPath,ae={name:ae,compound:L(Q),keyPath:Q,unique:V,multiEntry:I,extractKey:ml(Q)};return R[Ht(Q)]=ae}),getIndexByKeyPath:function(k){return R[Ht(k)]}};return R[":id"]=M.primaryKey,E!=null&&(R[Ht(E)]=M.primaryKey),M})},hasGetAll:0<x.length&&"getAll"in v.objectStore(x[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},x=O.schema,j=O.hasGetAll,O=x.tables.map(y),G={};return O.forEach(function(A){return G[A.name]=A}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(A){if(G[A])return G[A];throw new Error("Table '".concat(A,"' not found"))},MIN_KEY:-1/0,MAX_KEY:dl(u),schema:x}}function Rs(s,u,f,h){return f=f.IDBKeyRange,u=Ba(u,f,h),{dbcore:s.dbcore.reduce(function(y,v){return v=v.create,m(m({},y),v(y))},u)}}function da(s,u){var f=u.db,f=Rs(s._middlewares,f,s._deps,u);s.core=f.dbcore,s.tables.forEach(function(h){var y=h.name;s.core.schema.tables.some(function(v){return v.name===y})&&(h.core=s.core.table(y),s[y]instanceof s.Table)&&(s[y].core=h.core)})}function Us(s,u,f,h){f.forEach(function(y){var v=h[y];u.forEach(function(x){var j=(function O(G,A){return _e(G,A)||(G=D(G))&&O(G,A)})(x,y);(!j||"value"in j&&j.value===void 0)&&(x===s.Transaction.prototype||x instanceof s.Transaction?oe(x,y,{get:function(){return this.table(y)},set:function(O){ue(this,y,{value:O,writable:!0,configurable:!0,enumerable:!0})}}):x[y]=new s.Table(y,v))})})}function cs(s,u){u.forEach(function(f){for(var h in f)f[h]instanceof s.Table&&delete f[h]})}function Xi(s,u){return s._cfg.version-u._cfg.version}function us(s,u,f,h){var y=s._dbSchema,v=(f.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=fl("$meta",Zr("")[0],[]),s._storeNames.push("$meta")),s._createTransaction("readwrite",s._storeNames,y)),x=(v.create(f),v._completion.catch(h),v._reject.bind(v)),j=Ae.transless||Ae;St(function(){if(Ae.trans=v,Ae.transless=j,u!==0)return da(s,f),G=u,((O=v).storeNames.includes("$meta")?O.table("$meta").get("version").then(function(A){return A??G}):De.resolve(G)).then(function(V){var E=s,z=V,R=v,M=f,k=[],V=E._versions,I=E._dbSchema=hl(0,E.idbdb,M);return(V=V.filter(function(Q){return Q._cfg.version>=z})).length===0?De.resolve():(V.forEach(function(Q){k.push(function(){var ae,me,Ne,Se=I,pe=Q._cfg.dbschema,Me=(Ls(E,Se,M),Ls(E,pe,M),I=E._dbSchema=pe,Hs(Se,pe)),Ce=(Me.add.forEach(function(ye){Gi(M,ye[0],ye[1].primKey,ye[1].indexes)}),Me.change.forEach(function(ye){if(ye.recreate)throw new Ue.Upgrade("Not yet support for changing primary key");var ke=M.objectStore(ye.name);ye.add.forEach(function(Ge){return Ys(ke,Ge)}),ye.change.forEach(function(Ge){ke.deleteIndex(Ge.name),Ys(ke,Ge)}),ye.del.forEach(function(Ge){return ke.deleteIndex(Ge)})}),Q._cfg.contentUpgrade);if(Ce&&Q._cfg.version>z)return da(E,M),R._memoizedTables={},ae=qe(pe),Me.del.forEach(function(ye){ae[ye]=Se[ye]}),cs(E,[E.Transaction.prototype]),Us(E,[E.Transaction.prototype],Y(ae),ae),R.schema=ae,(me=N(Ce))&&Bt(),pe=De.follow(function(){var ye;(Ne=Ce(R))&&me&&(ye=mn.bind(null,null),Ne.then(ye,ye))}),Ne&&typeof Ne.then=="function"?De.resolve(Ne):pe.then(function(){return Ne})}),k.push(function(ae){var me,Ne,Se=Q._cfg.dbschema;me=Se,Ne=ae,[].slice.call(Ne.db.objectStoreNames).forEach(function(pe){return me[pe]==null&&Ne.db.deleteObjectStore(pe)}),cs(E,[E.Transaction.prototype]),Us(E,[E.Transaction.prototype],E._storeNames,E._dbSchema),R.schema=E._dbSchema}),k.push(function(ae){E.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(E.idbdb.version/10)===Q._cfg.version?(E.idbdb.deleteObjectStore("$meta"),delete E._dbSchema.$meta,E._storeNames=E._storeNames.filter(function(me){return me!=="$meta"})):ae.objectStore("$meta").put(Q._cfg.version,"version"))})}),(function Q(){return k.length?De.resolve(k.shift()(R.idbtrans)).then(Q):De.resolve()})().then(function(){Vr(I,M)}))}).catch(x);var O,G;Y(y).forEach(function(A){Gi(f,A,y[A].primKey,y[A].indexes)}),da(s,f),De.follow(function(){return s.on.populate.fire(v)}).catch(x)})}function qs(s,u){Vr(s._dbSchema,u),u.db.version%10!=0||u.objectStoreNames.contains("$meta")||u.db.createObjectStore("$meta").add(Math.ceil(u.db.version/10-1),"version");var f=hl(0,s.idbdb,u);Ls(s,s._dbSchema,u);for(var h=0,y=Hs(f,s._dbSchema).change;h<y.length;h++){var v=(x=>{if(x.change.length||x.recreate)return console.warn("Unable to patch indexes of table ".concat(x.name," because it has changes on the type of index or primary key.")),{value:void 0};var j=u.objectStore(x.name);x.add.forEach(function(O){vn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(x.name,".").concat(O.src)),Ys(j,O)})})(y[h]);if(typeof v=="object")return v.value}}function Hs(s,u){var f,h={del:[],add:[],change:[]};for(f in s)u[f]||h.del.push(f);for(f in u){var y=s[f],v=u[f];if(y){var x={name:f,def:v,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(v.primKey.keyPath||"")||y.primKey.auto!==v.primKey.auto)x.recreate=!0,h.change.push(x);else{var j=y.idxByName,O=v.idxByName,G=void 0;for(G in j)O[G]||x.del.push(G);for(G in O){var A=j[G],E=O[G];A?A.src!==E.src&&x.change.push(E):x.add.push(E)}(0<x.del.length||0<x.add.length||0<x.change.length)&&h.change.push(x)}}else h.add.push([f,v])}return h}function Gi(s,u,f,h){var y=s.db.createObjectStore(u,f.keyPath?{keyPath:f.keyPath,autoIncrement:f.auto}:{autoIncrement:f.auto});h.forEach(function(v){return Ys(y,v)})}function Vr(s,u){Y(s).forEach(function(f){u.db.objectStoreNames.contains(f)||(vn&&console.debug("Dexie: Creating missing table",f),Gi(u,f,s[f].primKey,s[f].indexes))})}function Ys(s,u){s.createIndex(u.name,u.keyPath,{unique:u.unique,multiEntry:u.multi})}function hl(s,u,f){var h={};return Oe(u.objectStoreNames,0).forEach(function(y){for(var v=f.objectStore(y),x=qn(Bs(G=v.keyPath),G||"",!0,!1,!!v.autoIncrement,G&&typeof G!="string",!0),j=[],O=0;O<v.indexNames.length;++O){var A=v.index(v.indexNames[O]),G=A.keyPath,A=qn(A.name,G,!!A.unique,!!A.multiEntry,!1,G&&typeof G!="string",!1);j.push(A)}h[y]=fl(y,x,j)}),h}function Ls(s,u,f){for(var h=f.db.objectStoreNames,y=0;y<h.length;++y){var v=h[y],x=f.objectStore(v);s._hasGetAll="getAll"in x;for(var j=0;j<x.indexNames.length;++j){var O,G=x.indexNames[j],A=x.index(G).keyPath,A=typeof A=="string"?A:"["+Oe(A).join("+")+"]";u[v]&&(O=u[v].idxByName[A])&&(O.name=G,delete u[v].idxByName[A],u[v].idxByName[G]=O)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&T.WorkerGlobalScope&&T instanceof T.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function Zr(s){return s.split(",").map(function(u,f){var y=u.split(":"),h=(h=y[1])==null?void 0:h.trim(),y=(u=y[0].trim()).replace(/([&*]|\+\+)/g,""),v=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return qn(y,v||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),L(v),f===0,h)})}pl.prototype._createTableSchema=fl,pl.prototype._parseIndexSyntax=Zr,pl.prototype._parseStoresSpec=function(s,u){var f=this;Y(s).forEach(function(h){if(s[h]!==null){var y=f._parseIndexSyntax(s[h]),v=y.shift();if(!v)throw new Ue.Schema("Invalid schema for table "+h+": "+s[h]);if(v.unique=!0,v.multi)throw new Ue.Schema("Primary key cannot be multiEntry*");y.forEach(function(x){if(x.auto)throw new Ue.Schema("Only primary key can be marked as autoIncrement (++)");if(!x.keyPath)throw new Ue.Schema("Index must have a name and cannot be an empty string")}),v=f._createTableSchema(h,v,y),u[h]=v}})},pl.prototype.stores=function(f){var u=this.db,f=(this._cfg.storesSource=this._cfg.storesSource?C(this._cfg.storesSource,f):f,u._versions),h={},y={};return f.forEach(function(v){C(h,v._cfg.storesSource),y=v._cfg.dbschema={},v._parseStoresSpec(h,y)}),u._dbSchema=y,cs(u,[u._allTables,u,u.Transaction.prototype]),Us(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],Y(y),y),u._storeNames=Y(y),this},pl.prototype.upgrade=function(s){return this._cfg.contentUpgrade=Ql(this._cfg.contentUpgrade||ct,s),this};var _u=pl;function pl(){}function Qi(s,u){var f=s._dbNamesDB;return f||(f=s._dbNamesDB=new Hn(ts,{addons:[],indexedDB:s,IDBKeyRange:u})).version(1).stores({dbnames:"name"}),f.table("dbnames")}function Ks(s){return s&&typeof s.databases=="function"}function Vi(s){return St(function(){return Ae.letThrough=!0,s()})}function Zi(s){return!("from"in s)}var It=function(s,u){var f;if(!this)return f=new It,s&&"d"in s&&C(f,s),f;C(this,arguments.length?{d:1,from:s,to:1<arguments.length?u:s}:{d:0})};function os(s,u,f){var h=Pe(u,f);if(!isNaN(h)){if(0<h)throw RangeError();if(Zi(s))return C(s,{from:u,to:f,d:1});var h=s.l,y=s.r;if(Pe(f,s.from)<0)return h?os(h,u,f):s.l={from:u,to:f,d:1,l:null,r:null},Ir(s);if(0<Pe(u,s.to))return y?os(y,u,f):s.r={from:u,to:f,d:1,l:null,r:null},Ir(s);Pe(u,s.from)<0&&(s.from=u,s.l=null,s.d=y?y.d+1:1),0<Pe(f,s.to)&&(s.to=f,s.r=null,s.d=s.l?s.l.d+1:1),u=!s.r,h&&!s.l&&Ra(s,h),y&&u&&Ra(s,y)}}function Ra(s,u){Zi(u)||(function f(h,y){var v=y.from,x=y.l,j=y.r;os(h,v,y.to),x&&f(h,x),j&&f(h,j)})(s,u)}function Jr(s,u){var f=Xs(u),h=f.next();if(!h.done)for(var y=h.value,v=Xs(s),x=v.next(y.from),j=x.value;!h.done&&!x.done;){if(Pe(j.from,y.to)<=0&&0<=Pe(j.to,y.from))return!0;Pe(y.from,j.from)<0?y=(h=f.next(j.from)).value:j=(x=v.next(y.from)).value}return!1}function Xs(s){var u=Zi(s)?null:{s:0,n:s};return{next:function(f){for(var h=0<arguments.length;u;)switch(u.s){case 0:if(u.s=1,h)for(;u.n.l&&Pe(f,u.n.from)<0;)u={up:u,n:u.n.l,s:1};else for(;u.n.l;)u={up:u,n:u.n.l,s:1};case 1:if(u.s=2,!h||Pe(f,u.n.to)<=0)return{value:u.n,done:!1};case 2:if(u.n.r){u.s=3,u={up:u,n:u.n.r,s:0};continue}case 3:u=u.up}return{done:!0}}}}function Ir(s){var u,f,h,y=(((y=s.r)==null?void 0:y.d)||0)-(((y=s.l)==null?void 0:y.d)||0),y=1<y?"r":y<-1?"l":"";y&&(u=y=="r"?"l":"r",f=m({},s),h=s[y],s.from=h.from,s.to=h.to,s[y]=h[y],f[y]=h[u],(s[u]=f).d=Ji(f)),s.d=Ji(s)}function Ji(f){var u=f.r,f=f.l;return(u?f?Math.max(u.d,f.d):u.d:f?f.d:0)+1}function Gs(s,u){return Y(u).forEach(function(f){s[f]?Ra(s[f],u[f]):s[f]=(function h(y){var v,x,j={};for(v in y)U(y,v)&&(x=y[v],j[v]=!x||typeof x!="object"||at.has(x.constructor)?x:h(x));return j})(u[f])}),s}function Ii(s,u){return s.all||u.all||Object.keys(s).some(function(f){return u[f]&&Jr(u[f],s[f])})}te(It.prototype,((rn={add:function(s){return Ra(this,s),this},addKey:function(s){return os(this,s,s),this},addKeys:function(s){var u=this;return s.forEach(function(f){return os(u,f,f)}),this},hasKey:function(s){var u=Xs(this).next(s).value;return u&&Pe(u.from,s)<=0&&0<=Pe(u.to,s)}})[_]=function(){return Xs(this)},rn));var Ua={},$i={},Fi=!1;function Qs(s){Gs($i,s),Fi||(Fi=!0,setTimeout(function(){Fi=!1,Wi($i,!($i={}))},0))}function Wi(s,u){u===void 0&&(u=!1);var f=new Set;if(s.all)for(var h=0,y=Object.values(Ua);h<y.length;h++)$r(j=y[h],s,f,u);else for(var v in s){var x,j,v=/^idb\:\/\/(.*)\/(.*)\//.exec(v);v&&(x=v[1],v=v[2],j=Ua["idb://".concat(x,"/").concat(v)])&&$r(j,s,f,u)}f.forEach(function(O){return O()})}function $r(s,u,f,h){for(var y=[],v=0,x=Object.entries(s.queries.query);v<x.length;v++){for(var j=x[v],O=j[0],G=[],A=0,E=j[1];A<E.length;A++){var z=E[A];Ii(u,z.obsSet)?z.subscribers.forEach(function(V){return f.add(V)}):h&&G.push(z)}h&&y.push([O,G])}if(h)for(var R=0,M=y;R<M.length;R++){var k=M[R],O=k[0],G=k[1];s.queries.query[O]=G}}function Du(s){var u=s._state,f=s._deps.indexedDB;if(u.isBeingOpened||s.idbdb)return u.dbReadyPromise.then(function(){return u.dbOpenError?vt(u.dbOpenError):s});u.isBeingOpened=!0,u.dbOpenError=null,u.openComplete=!1;var h=u.openCanceller,y=Math.round(10*s.verno),v=!1;function x(){if(u.openCanceller!==h)throw new Ue.DatabaseClosed("db.open() was cancelled")}function j(){return new De(function(z,R){if(x(),!f)throw new Ue.MissingAPI;var M=s.name,k=u.autoSchema||!y?f.open(M):f.open(M,y);if(!k)throw new Ue.MissingAPI;k.onerror=Dn(R),k.onblocked=wt(s._fireOnBlocked),k.onupgradeneeded=wt(function(V){var I;A=k.transaction,u.autoSchema&&!s._options.allowEmptyDB?(k.onerror=ka,A.abort(),k.result.close(),(I=f.deleteDatabase(M)).onsuccess=I.onerror=wt(function(){R(new Ue.NoSuchDatabase("Database ".concat(M," doesnt exist")))})):(A.onerror=Dn(R),I=V.oldVersion>Math.pow(2,62)?0:V.oldVersion,E=I<1,s.idbdb=k.result,v&&qs(s,A),us(s,I/10,A,R))},R),k.onsuccess=wt(function(){A=null;var V,I,Q,ae,me,Ne,Se=s.idbdb=k.result,pe=Oe(Se.objectStoreNames);if(0<pe.length)try{var Me=Se.transaction((me=pe).length===1?me[0]:me,"readonly");if(u.autoSchema)Ne=Se,ae=Me,(Q=s).verno=Ne.version/10,ae=Q._dbSchema=hl(0,Ne,ae),Q._storeNames=Oe(Ne.objectStoreNames,0),Us(Q,[Q._allTables],Y(ae),ae);else if(Ls(s,s._dbSchema,Me),I=Me,((I=Hs(hl(0,(V=s).idbdb,I),V._dbSchema)).add.length||I.change.some(function(Ce){return Ce.add.length||Ce.change.length}))&&!v)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Se.close(),y=Se.version+1,v=!0,z(j());da(s,Me)}catch{}Ea.push(s),Se.onversionchange=wt(function(Ce){u.vcFired=!0,s.on("versionchange").fire(Ce)}),Se.onclose=wt(function(){s.close({disableAutoOpen:!1})}),E&&(pe=s._deps,me=M,Ks(Ne=pe.indexedDB)||me===ts||Qi(Ne,pe.IDBKeyRange).put({name:me}).catch(ct)),z()},R)}).catch(function(z){switch(z?.name){case"UnknownError":if(0<u.PR1398_maxLoop)return u.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),j();break;case"VersionError":if(0<y)return y=0,j()}return De.reject(z)})}var O,G=u.dbReadyResolve,A=null,E=!1;return De.race([h,(typeof navigator>"u"?De.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(z){function R(){return indexedDB.databases().finally(z)}O=setInterval(R,100),R()}).finally(function(){return clearInterval(O)}):Promise.resolve()).then(j)]).then(function(){return x(),u.onReadyBeingFired=[],De.resolve(Vi(function(){return s.on.ready.fire(s.vip)})).then(function z(){var R;if(0<u.onReadyBeingFired.length)return R=u.onReadyBeingFired.reduce(Ql,ct),u.onReadyBeingFired=[],De.resolve(Vi(function(){return R(s.vip)})).then(z)})}).finally(function(){u.openCanceller===h&&(u.onReadyBeingFired=null,u.isBeingOpened=!1)}).catch(function(z){u.dbOpenError=z;try{A&&A.abort()}catch{}return h===u.openCanceller&&s._close(),vt(z)}).finally(function(){u.openComplete=!0,G()}).then(function(){var z;return E&&(z={},s.tables.forEach(function(R){R.schema.indexes.forEach(function(M){M.name&&(z["idb://".concat(s.name,"/").concat(R.name,"/").concat(M.name)]=new It(-1/0,[[[]]]))}),z["idb://".concat(s.name,"/").concat(R.name,"/")]=z["idb://".concat(s.name,"/").concat(R.name,"/:dels")]=new It(-1/0,[[[]]])}),Jt(ol).fire(z),Wi(z,!0)),s})}function fs(s){function u(v){return s.next(v)}var f=y(u),h=y(function(v){return s.throw(v)});function y(v){return function(j){var j=v(j),O=j.value;return j.done?O:O&&typeof O.then=="function"?O.then(f,h):L(O)?Promise.all(O).then(f,h):f(O)}}return y(u)()}function ma(s,u,f){for(var h=L(s)?s.slice():[s],y=0;y<f;++y)h.push(u);return h}var Cu={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return m(m({},s),{table:function(h){var f=s.table(h),h=f.schema,y={},v=[];function x(z,R,M){var Q=Ht(z),k=y[Q]=y[Q]||[],V=z==null?0:typeof z=="string"?1:z.length,I=0<R,Q=m(m({},M),{name:I?"".concat(Q,"(virtual-from:").concat(M.name,")"):M.name,lowLevelIndex:M,isVirtual:I,keyTail:R,keyLength:V,extractKey:ml(z),unique:!I&&M.unique});return k.push(Q),Q.isPrimaryKey||v.push(Q),1<V&&x(V===2?z[0]:z.slice(0,V-1),R+1,M),k.sort(function(ae,me){return ae.keyTail-me.keyTail}),Q}var j=x(h.primaryKey.keyPath,0,h.primaryKey);y[":id"]=[j];for(var O=0,G=h.indexes;O<G.length;O++){var A=G[O];x(A.keyPath,0,A)}function E(z){var R,M=z.query.index;return M.isVirtual?m(m({},z),{query:{index:M.lowLevelIndex,range:(R=z.query.range,M=M.keyTail,{type:R.type===1?2:R.type,lower:ma(R.lower,R.lowerOpen?s.MAX_KEY:s.MIN_KEY,M),lowerOpen:!0,upper:ma(R.upper,R.upperOpen?s.MIN_KEY:s.MAX_KEY,M),upperOpen:!0})}}):z}return m(m({},f),{schema:m(m({},h),{primaryKey:j,indexes:v,getIndexByKeyPath:function(z){return(z=y[Ht(z)])&&z[0]}}),count:function(z){return f.count(E(z))},query:function(z){return f.query(E(z))},openCursor:function(z){var R=z.query.index,M=R.keyTail,k=R.keyLength;return R.isVirtual?f.openCursor(E(z)).then(function(I){return I&&V(I)}):f.openCursor(z);function V(I){return Object.create(I,{continue:{value:function(Q){Q!=null?I.continue(ma(Q,z.reverse?s.MAX_KEY:s.MIN_KEY,M)):z.unique?I.continue(I.key.slice(0,k).concat(z.reverse?s.MIN_KEY:s.MAX_KEY,M)):I.continue()}},continuePrimaryKey:{value:function(Q,ae){I.continuePrimaryKey(ma(Q,s.MAX_KEY,M),ae)}},primaryKey:{get:function(){return I.primaryKey}},key:{get:function(){var Q=I.key;return k===1?Q[0]:Q.slice(0,k)}},value:{get:function(){return I.value}}})}}})}})}};function Vs(s,u,f,h){return f=f||{},h=h||"",Y(s).forEach(function(y){var v,x,j;U(u,y)?(v=s[y],x=u[y],typeof v=="object"&&typeof x=="object"&&v&&x?(j=Ee(v))!==Ee(x)?f[h+y]=u[y]:j==="Object"?Vs(v,x,f,h+y+"."):v!==x&&(f[h+y]=u[y]):v!==x&&(f[h+y]=u[y])):f[h+y]=void 0}),Y(u).forEach(function(y){U(s,y)||(f[h+y]=u[y])}),f}function Zs(s,u){return u.type==="delete"?u.keys:u.keys||u.values.map(s.extractKey)}var Fr={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return m(m({},s),{table:function(u){var f=s.table(u),h=f.schema.primaryKey;return m(m({},f),{mutate:function(y){var v=Ae.trans,x=v.table(u).hook,j=x.deleting,O=x.creating,G=x.updating;switch(y.type){case"add":if(O.fire===ct)break;return v._promise("readwrite",function(){return A(y)},!0);case"put":if(O.fire===ct&&G.fire===ct)break;return v._promise("readwrite",function(){return A(y)},!0);case"delete":if(j.fire===ct)break;return v._promise("readwrite",function(){return A(y)},!0);case"deleteRange":if(j.fire===ct)break;return v._promise("readwrite",function(){return(function E(z,R,M){return f.query({trans:z,values:!1,query:{index:h,range:R},limit:M}).then(function(k){var V=k.result;return A({type:"delete",keys:V,trans:z}).then(function(I){return 0<I.numFailures?Promise.reject(I.failures[0]):V.length<M?{failures:[],numFailures:0,lastResult:void 0}:E(z,m(m({},R),{lower:V[V.length-1],lowerOpen:!0}),M)})})})(y.trans,y.range,1e4)},!0)}return f.mutate(y);function A(E){var z,R,M,k=Ae.trans,V=E.keys||Zs(h,E);if(V)return(E=E.type==="add"||E.type==="put"?m(m({},E),{keys:V}):m({},E)).type!=="delete"&&(E.values=b([],E.values)),E.keys&&(E.keys=b([],E.keys)),z=f,M=V,((R=E).type==="add"?Promise.resolve([]):z.getMany({trans:R.trans,keys:M,cache:"immutable"})).then(function(I){var Q=V.map(function(ae,me){var Ne,Se,pe,Me=I[me],Ce={onerror:null,onsuccess:null};return E.type==="delete"?j.fire.call(Ce,ae,Me,k):E.type==="add"||Me===void 0?(Ne=O.fire.call(Ce,ae,E.values[me],k),ae==null&&Ne!=null&&(E.keys[me]=ae=Ne,h.outbound||ce(E.values[me],h.keyPath,ae))):(Ne=Vs(Me,E.values[me]),(Se=G.fire.call(Ce,Ne,ae,Me,k))&&(pe=E.values[me],Object.keys(Se).forEach(function(ye){U(pe,ye)?pe[ye]=Se[ye]:ce(pe,ye,Se[ye])}))),Ce});return f.mutate(E).then(function(ae){for(var me=ae.failures,Ne=ae.results,Se=ae.numFailures,ae=ae.lastResult,pe=0;pe<V.length;++pe){var Me=(Ne||V)[pe],Ce=Q[pe];Me==null?Ce.onerror&&Ce.onerror(me[pe]):Ce.onsuccess&&Ce.onsuccess(E.type==="put"&&I[pe]?E.values[pe]:Me)}return{failures:me,results:Ne,numFailures:Se,lastResult:ae}}).catch(function(ae){return Q.forEach(function(me){return me.onerror&&me.onerror(ae)}),Promise.reject(ae)})});throw new Error("Keys missing")}}})}})}};function Pi(s,u,f){try{if(!u||u.keys.length<s.length)return null;for(var h=[],y=0,v=0;y<u.keys.length&&v<s.length;++y)Pe(u.keys[y],s[v])===0&&(h.push(f?ge(u.values[y]):u.values[y]),++v);return h.length===s.length?h:null}catch{return null}}var Wr={stack:"dbcore",level:-1,create:function(s){return{table:function(u){var f=s.table(u);return m(m({},f),{getMany:function(h){var y;return h.cache?(y=Pi(h.keys,h.trans._cache,h.cache==="clone"))?De.resolve(y):f.getMany(h).then(function(v){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?ge(v):v},v}):f.getMany(h)},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),f.mutate(h)}})}}}};function qa(s,u){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!u.schema.primaryKey.outbound}function Pr(s,u){switch(s){case"query":return u.values&&!u.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Eu={stack:"dbcore",level:0,name:"Observability",create:function(s){var u=s.schema.name,f=new It(s.MIN_KEY,s.MAX_KEY);return m(m({},s),{transaction:function(h,y,v){if(Ae.subscr&&y!=="readonly")throw new Ue.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ae.querier));return s.transaction(h,y,v)},table:function(h){function y(V){var k,V=V.query;return[k=V.index,new It((k=(V=V.range).lower)!=null?k:s.MIN_KEY,(k=V.upper)!=null?k:s.MAX_KEY)]}var v=s.table(h),x=v.schema,j=x.primaryKey,O=x.indexes,G=j.extractKey,A=j.outbound,E=j.autoIncrement&&O.filter(function(M){return M.compound&&M.keyPath.includes(j.keyPath)}),z=m(m({},v),{mutate:function(M){function k(ke){return ke="idb://".concat(u,"/").concat(h,"/").concat(ke),me[ke]||(me[ke]=new It)}var V,I,Q,ae=M.trans,me=M.mutatedParts||(M.mutatedParts={}),Ne=k(""),Se=k(":dels"),pe=M.type,Ce=M.type==="deleteRange"?[M.range]:M.type==="delete"?[M.keys]:M.values.length<50?[Zs(j,M).filter(function(ke){return ke}),M.values]:[],Me=Ce[0],Ce=Ce[1],ye=M.trans._cache;return L(Me)?(Ne.addKeys(Me),(pe=pe==="delete"||Me.length===Ce.length?Pi(Me,ye):null)||Se.addKeys(Me),(pe||Ce)&&(V=k,I=pe,Q=Ce,x.indexes.forEach(function(ke){var Ge=V(ke.name||"");function et(Ze){return Ze!=null?ke.extractKey(Ze):null}function He(Ze){ke.multiEntry&&L(Ze)?Ze.forEach(function(gt){return Ge.addKey(gt)}):Ge.addKey(Ze)}(I||Q).forEach(function(Ze,mt){var fn=I&&et(I[mt]),mt=Q&&et(Q[mt]);Pe(fn,mt)!==0&&(fn!=null&&He(fn),mt!=null)&&He(mt)})}))):Me?(Ce={from:(ye=Me.lower)!=null?ye:s.MIN_KEY,to:(pe=Me.upper)!=null?pe:s.MAX_KEY},Se.add(Ce),Ne.add(Ce)):(Ne.add(f),Se.add(f),x.indexes.forEach(function(ke){return k(ke.name).add(f)})),v.mutate(M).then(function(ke){return!Me||M.type!=="add"&&M.type!=="put"||(Ne.addKeys(ke.results),E&&E.forEach(function(Ge){for(var et=M.values.map(function(fn){return Ge.extractKey(fn)}),He=Ge.keyPath.findIndex(function(fn){return fn===j.keyPath}),Ze=0,gt=ke.results.length;Ze<gt;++Ze)et[Ze][He]=ke.results[Ze];k(Ge.name).addKeys(et)})),ae.mutatedParts=Gs(ae.mutatedParts||{},me),ke})}}),R={get:function(M){return[j,new It(M.key)]},getMany:function(M){return[j,new It().addKeys(M.keys)]},count:y,query:y,openCursor:y};return Y(R).forEach(function(M){z[M]=function(k){var V=Ae.subscr,I=!!V,Q=qa(Ae,v)&&Pr(M,k)?k.obsSet={}:V;if(I){var ae,V=function(Ce){return Ce="idb://".concat(u,"/").concat(h,"/").concat(Ce),Q[Ce]||(Q[Ce]=new It)},me=V(""),Ne=V(":dels"),I=R[M](k),Se=I[0],I=I[1];if((M==="query"&&Se.isPrimaryKey&&!k.values?Ne:V(Se.name||"")).add(I),!Se.isPrimaryKey){if(M!=="count")return ae=M==="query"&&A&&k.values&&v.query(m(m({},k),{values:!1})),v[M].apply(this,arguments).then(function(Ce){if(M==="query"){if(A&&k.values)return ae.then(function(et){return et=et.result,me.addKeys(et),Ce});var ye=k.values?Ce.result.map(G):Ce.result;(k.values?me:Ne).addKeys(ye)}else{var ke,Ge;if(M==="openCursor")return Ge=k.values,(ke=Ce)&&Object.create(ke,{key:{get:function(){return Ne.addKey(ke.primaryKey),ke.key}},primaryKey:{get:function(){var et=ke.primaryKey;return Ne.addKey(et),et}},value:{get:function(){return Ge&&me.addKey(ke.primaryKey),ke.value}}})}return Ce});Ne.add(f)}}return v[M].apply(this,arguments)}}),z}})}};function ec(s,u,f){var h;return f.numFailures===0?u:u.type==="deleteRange"||(h=u.keys?u.keys.length:"values"in u&&u.values?u.values.length:1,f.numFailures===h)?null:(h=m({},u),L(h.keys)&&(h.keys=h.keys.filter(function(y,v){return!(v in f.failures)})),"values"in h&&L(h.values)&&(h.values=h.values.filter(function(y,v){return!(v in f.failures)})),h)}function Js(s,u){return f=s,((h=u).lower===void 0||(h.lowerOpen?0<Pe(f,h.lower):0<=Pe(f,h.lower)))&&(f=s,(h=u).upper===void 0||(h.upperOpen?Pe(f,h.upper)<0:Pe(f,h.upper)<=0));var f,h}function er(s,u,f,h,y,v){var x,j,O,G,A,E;return!f||f.length===0||(x=u.query.index,j=x.multiEntry,O=u.query.range,G=h.schema.primaryKey.extractKey,A=x.extractKey,E=(x.lowLevelIndex||x).extractKey,(h=f.reduce(function(z,R){var M=z,k=[];if(R.type==="add"||R.type==="put")for(var V=new It,I=R.values.length-1;0<=I;--I){var Q,ae=R.values[I],me=G(ae);!V.hasKey(me)&&(Q=A(ae),j&&L(Q)?Q.some(function(Ce){return Js(Ce,O)}):Js(Q,O))&&(V.addKey(me),k.push(ae))}switch(R.type){case"add":var Ne=new It().addKeys(u.values?z.map(function(ye){return G(ye)}):z),M=z.concat(u.values?k.filter(function(ye){return ye=G(ye),!Ne.hasKey(ye)&&(Ne.addKey(ye),!0)}):k.map(function(ye){return G(ye)}).filter(function(ye){return!Ne.hasKey(ye)&&(Ne.addKey(ye),!0)}));break;case"put":var Se=new It().addKeys(R.values.map(function(ye){return G(ye)}));M=z.filter(function(ye){return!Se.hasKey(u.values?G(ye):ye)}).concat(u.values?k:k.map(function(ye){return G(ye)}));break;case"delete":var pe=new It().addKeys(R.keys);M=z.filter(function(ye){return!pe.hasKey(u.values?G(ye):ye)});break;case"deleteRange":var Me=R.range;M=z.filter(function(ye){return!Js(G(ye),Me)})}return M},s))===s)?s:(h.sort(function(z,R){return Pe(E(z),E(R))||Pe(G(z),G(R))}),u.limit&&u.limit<1/0&&(h.length>u.limit?h.length=u.limit:s.length===u.limit&&h.length<u.limit&&(y.dirty=!0)),v?Object.freeze(h):h)}function yl(s,u){return Pe(s.lower,u.lower)===0&&Pe(s.upper,u.upper)===0&&!!s.lowerOpen==!!u.lowerOpen&&!!s.upperOpen==!!u.upperOpen}function ds(s,u){return((f,h,y,v)=>{if(f===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((f=Pe(f,h))===0){if(y&&v)return 0;if(y)return 1;if(v)return-1}return f})(s.lower,u.lower,s.lowerOpen,u.lowerOpen)<=0&&0<=((f,h,y,v)=>{if(f===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((f=Pe(f,h))===0){if(y&&v)return 0;if(y)return-1;if(v)return 1}return f})(s.upper,u.upper,s.upperOpen,u.upperOpen)}function Ou(s,u,f,h){s.subscribers.add(f),h.addEventListener("abort",function(){var y,v;s.subscribers.delete(f),s.subscribers.size===0&&(y=s,v=u,setTimeout(function(){y.subscribers.size===0&&W(v,y)},3e3))})}var Is={stack:"dbcore",level:0,name:"Cache",create:function(s){var u=s.schema.name;return m(m({},s),{transaction:function(f,h,y){var v,x,j=s.transaction(f,h,y);return h==="readwrite"&&(y=(v=new AbortController).signal,j.addEventListener("abort",(x=function(O){return function(){if(v.abort(),h==="readwrite"){for(var G=new Set,A=0,E=f;A<E.length;A++){var z=E[A],R=Ua["idb://".concat(u,"/").concat(z)];if(R){var M=s.table(z),k=R.optimisticOps.filter(function(ke){return ke.trans===j});if(j._explicit&&O&&j.mutatedParts)for(var V=0,I=Object.values(R.queries.query);V<I.length;V++)for(var Q=0,ae=(Se=I[V]).slice();Q<ae.length;Q++)Ii((pe=ae[Q]).obsSet,j.mutatedParts)&&(W(Se,pe),pe.subscribers.forEach(function(ke){return G.add(ke)}));else if(0<k.length){R.optimisticOps=R.optimisticOps.filter(function(ke){return ke.trans!==j});for(var me=0,Ne=Object.values(R.queries.query);me<Ne.length;me++)for(var Se,pe,Me,Ce=0,ye=(Se=Ne[me]).slice();Ce<ye.length;Ce++)(pe=ye[Ce]).res!=null&&j.mutatedParts&&(O&&!pe.dirty?(Me=Object.isFrozen(pe.res),Me=er(pe.res,pe.req,k,M,pe,Me),pe.dirty?(W(Se,pe),pe.subscribers.forEach(function(ke){return G.add(ke)})):Me!==pe.res&&(pe.res=Me,pe.promise=De.resolve({result:Me}))):(pe.dirty&&W(Se,pe),pe.subscribers.forEach(function(ke){return G.add(ke)})))}}}G.forEach(function(ke){return ke()})}}})(!1),{signal:y}),j.addEventListener("error",x(!1),{signal:y}),j.addEventListener("complete",x(!0),{signal:y})),j},table:function(f){var h=s.table(f),y=h.schema.primaryKey;return m(m({},h),{mutate:function(v){var x,j=Ae.trans;return!y.outbound&&j.db._options.cache!=="disabled"&&!j.explicit&&j.idbtrans.mode==="readwrite"&&(x=Ua["idb://".concat(u,"/").concat(f)])?(j=h.mutate(v),v.type!=="add"&&v.type!=="put"||!(50<=v.values.length||Zs(y,v).some(function(O){return O==null}))?(x.optimisticOps.push(v),v.mutatedParts&&Qs(v.mutatedParts),j.then(function(O){0<O.numFailures&&(W(x.optimisticOps,v),(O=ec(0,v,O))&&x.optimisticOps.push(O),v.mutatedParts)&&Qs(v.mutatedParts)}),j.catch(function(){W(x.optimisticOps,v),v.mutatedParts&&Qs(v.mutatedParts)})):j.then(function(O){var G=ec(0,m(m({},v),{values:v.values.map(function(A,E){var z;return O.failures[E]?A:(ce(z=(z=y.keyPath)!=null&&z.includes(".")?ge(A):m({},A),y.keyPath,O.results[E]),z)})}),O);x.optimisticOps.push(G),queueMicrotask(function(){return v.mutatedParts&&Qs(v.mutatedParts)})}),j):h.mutate(v)},query:function(v){var x,j,O,G,A,E,z;return qa(Ae,h)&&Pr("query",v)?(x=((O=Ae.trans)==null?void 0:O.db._options.cache)==="immutable",j=(O=Ae).requery,O=O.signal,E=((R,M,k,V)=>{var I=Ua["idb://".concat(R,"/").concat(M)];if(!I)return[];if(!(R=I.queries[k]))return[null,!1,I,null];var Q=R[(V.query?V.query.index.name:null)||""];if(!Q)return[null,!1,I,null];switch(k){case"query":var ae=Q.find(function(me){return me.req.limit===V.limit&&me.req.values===V.values&&yl(me.req.query.range,V.query.range)});return ae?[ae,!0,I,Q]:[Q.find(function(me){return("limit"in me.req?me.req.limit:1/0)>=V.limit&&(!V.values||me.req.values)&&ds(me.req.query.range,V.query.range)}),!1,I,Q];case"count":return ae=Q.find(function(me){return yl(me.req.query.range,V.query.range)}),[ae,!!ae,I,Q]}})(u,f,"query",v),z=E[0],G=E[2],A=E[3],z&&E[1]?z.obsSet=v.obsSet:(E=h.query(v).then(function(R){var M=R.result;if(z&&(z.res=M),x){for(var k=0,V=M.length;k<V;++k)Object.freeze(M[k]);Object.freeze(M)}else R.result=ge(M);return R}).catch(function(R){return A&&z&&W(A,z),Promise.reject(R)}),z={obsSet:v.obsSet,promise:E,subscribers:new Set,type:"query",req:v,dirty:!1},A?A.push(z):(A=[z],(G=G||(Ua["idb://".concat(u,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[v.query.index.name||""]=A)),Ou(z,A,j,O),z.promise.then(function(R){return{result:er(R.result,v,G?.optimisticOps,h,z,x)}})):h.query(v)}})}})}};function ms(s,u){return new Proxy(s,{get:function(f,h,y){return h==="db"?u:Reflect.get(f,h,y)}})}_t.prototype.version=function(s){if(isNaN(s)||s<.1)throw new Ue.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new Ue.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var u=this._versions,f=u.filter(function(h){return h._cfg.version===s})[0];return f||(f=new this.Version(s),u.push(f),u.sort(Xi),f.stores({}),this._state.autoSchema=!1),f},_t.prototype._whenReady=function(s){var u=this;return this.idbdb&&(this._state.openComplete||Ae.letThrough||this._vip)?s():new De(function(f,h){if(u._state.openComplete)return h(new Ue.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen)return void h(new Ue.DatabaseClosed);u.open().catch(ct)}u._state.dbReadyPromise.then(f,h)}).then(s)},_t.prototype.use=function(y){var u=y.stack,f=y.create,h=y.level,y=y.name,v=(y&&this.unuse({stack:u,name:y}),this._middlewares[u]||(this._middlewares[u]=[]));return v.push({stack:u,create:f,level:h??10,name:y}),v.sort(function(x,j){return x.level-j.level}),this},_t.prototype.unuse=function(s){var u=s.stack,f=s.name,h=s.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(y){return h?y.create!==h:!!f&&y.name!==f})),this},_t.prototype.open=function(){var s=this;return Tn(Wt,function(){return Du(s)})},_t.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,u=Ea.indexOf(this);if(0<=u&&Ea.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new De(function(f){s.dbReadyResolve=f}),s.openCanceller=new De(function(f,h){s.cancelOpen=h}))},_t.prototype.close=function(u){var u=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,f=this._state;u?(f.isBeingOpened&&f.cancelOpen(new Ue.DatabaseClosed),this._close(),f.autoOpen=!1,f.dbOpenError=new Ue.DatabaseClosed):(this._close(),f.autoOpen=this._options.autoOpen||f.isBeingOpened,f.openComplete=!1,f.dbOpenError=null)},_t.prototype.delete=function(s){var u=this,f=(s===void 0&&(s={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),h=this._state;return new De(function(y,v){function x(){u.close(s);var j=u._deps.indexedDB.deleteDatabase(u.name);j.onsuccess=wt(function(){var O,G,A;O=u._deps,G=u.name,Ks(A=O.indexedDB)||G===ts||Qi(A,O.IDBKeyRange).delete(G).catch(ct),y()}),j.onerror=Dn(v),j.onblocked=u._fireOnBlocked}if(f)throw new Ue.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(x):x()})},_t.prototype.backendDB=function(){return this.idbdb},_t.prototype.isOpen=function(){return this.idbdb!==null},_t.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},_t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},_t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(_t.prototype,"tables",{get:function(){var s=this;return Y(this._allTables).map(function(u){return s._allTables[u]})},enumerable:!1,configurable:!0}),_t.prototype.transaction=function(){var s=(function(u,f,h){var y=arguments.length;if(y<2)throw new Ue.InvalidArgument("Too few arguments");for(var v=new Array(y-1);--y;)v[y-1]=arguments[y];return h=v.pop(),[u,Fe(v),h]}).apply(this,arguments);return this._transaction.apply(this,s)},_t.prototype._transaction=function(s,u,f){var h,y,v=this,x=Ae.trans,j=(x&&x.db===this&&s.indexOf("!")===-1||(x=null),s.indexOf("?")!==-1);s=s.replace("!","").replace("?","");try{if(y=u.map(function(G){if(G=G instanceof v.Table?G.name:G,typeof G!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return G}),s=="r"||s===$n)h=$n;else{if(s!="rw"&&s!=oa)throw new Ue.InvalidArgument("Invalid transaction mode: "+s);h=oa}if(x){if(x.mode===$n&&h===oa){if(!j)throw new Ue.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");x=null}x&&y.forEach(function(G){if(x&&x.storeNames.indexOf(G)===-1){if(!j)throw new Ue.SubTransaction("Table "+G+" not included in parent transaction.");x=null}}),j&&x&&!x.active&&(x=null)}}catch(G){return x?x._promise(null,function(A,E){E(G)}):vt(G)}var O=(function G(A,E,z,R,M){return De.resolve().then(function(){var Q=Ae.transless||Ae,k=A._createTransaction(E,z,A._dbSchema,R),Q=(k.explicit=!0,{trans:k,transless:Q});if(R)k.idbtrans=R.idbtrans;else try{k.create(),k.idbtrans._explicit=!0,A._state.PR1398_maxLoop=3}catch(ae){return ae.name===Gt.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return G(A,E,z,null,M)})):vt(ae)}var V,I=N(M),Q=(I&&Bt(),De.follow(function(){var ae;(V=M.call(k,k))&&(I?(ae=mn.bind(null,null),V.then(ae,ae)):typeof V.next=="function"&&typeof V.throw=="function"&&(V=fs(V)))},Q));return(V&&typeof V.then=="function"?De.resolve(V).then(function(ae){return k.active?ae:vt(new Ue.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Q.then(function(){return V})).then(function(ae){return R&&k._resolve(),k._completion.then(function(){return ae})}).catch(function(ae){return k._reject(ae),vt(ae)})})}).bind(null,this,h,y,x,f);return x?x._promise(h,O,"lock"):Ae.trans?Tn(Ae.transless,function(){return v._whenReady(O)}):this._whenReady(O)},_t.prototype.table=function(s){if(U(this._allTables,s))return this._allTables[s];throw new Ue.InvalidTable("Table ".concat(s," does not exist"))};var Hn=_t;function _t(s,u){var f,h,y,v,x,j=this,O=(this._middlewares={},this.verno=0,_t.dependencies),O=(this._options=u=m({addons:_t.addons,autoOpen:!0,indexedDB:O.indexedDB,IDBKeyRange:O.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange},u.addons),G=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ct,dbReadyPromise:null,cancelOpen:ct,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:u.autoOpen}),A=(G.dbReadyPromise=new De(function(E){G.dbReadyResolve=E}),G.openCanceller=new De(function(E,z){G.cancelOpen=z}),this._state=G,this.name=s,this.on=ls(this,"populate","blocked","versionchange","close",{ready:[Ql,ct]}),this.once=function(E,z){var R=function(){for(var M=[],k=0;k<arguments.length;k++)M[k]=arguments[k];j.on(E).unsubscribe(R),z.apply(j,M)};return j.on(E,R)},this.on.ready.subscribe=w(this.on.ready.subscribe,function(E){return function(z,R){_t.vip(function(){var M,k=j._state;k.openComplete?(k.dbOpenError||De.resolve().then(z),R&&E(z)):k.onReadyBeingFired?(k.onReadyBeingFired.push(z),R&&E(z)):(E(z),M=j,R||E(function V(){M.on.ready.unsubscribe(z),M.on.ready.unsubscribe(V)}))})}}),this.Collection=(f=this,Zt(Su.prototype,function(V,k){this.db=f;var R=Ui,M=null;if(k)try{R=k()}catch(Q){M=Q}var k=V._ctx,V=k.table,I=V.hook.reading.fire;this._ctx={table:V,index:k.index,isPrimKey:!k.index||V.schema.primKey.keyPath&&k.index===V.schema.primKey.name,range:R,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:M,or:k.or,valueMapper:I!==ll?I:null}})),this.Table=(h=this,Zt(qi.prototype,function(E,z,R){this.db=h,this._tx=R,this.name=E,this.schema=z,this.hook=h._allTables[E]?h._allTables[E].hook:ls(null,{creating:[Mi,ct],reading:[Ta,ll],updating:[Yr,ct],deleting:[ju,ct]})})),this.Transaction=(y=this,Zt(Ki.prototype,function(E,z,R,M,k){var V=this;E!=="readonly"&&z.forEach(function(I){I=(I=R[I])==null?void 0:I.yProps,I&&(z=z.concat(I.map(function(Q){return Q.updatesTable})))}),this.db=y,this.mode=E,this.storeNames=z,this.schema=R,this.chromeTransactionDurability=M,this.idbtrans=null,this.on=ls(this,"complete","error","abort"),this.parent=k||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new De(function(I,Q){V._resolve=I,V._reject=Q}),this._completion.then(function(){V.active=!1,V.on.complete.fire()},function(I){var Q=V.active;return V.active=!1,V.on.error.fire(I),V.parent?V.parent._reject(I):Q&&V.idbtrans&&V.idbtrans.abort(),vt(I)})})),this.Version=(v=this,Zt(_u.prototype,function(E){this.db=v,this._cfg={version:E,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(x=this,Zt(Ma.prototype,function(E,z,R){if(this.db=x,this._ctx={table:E,index:z===":id"?null:z,or:R},this._cmp=this._ascending=Pe,this._descending=function(M,k){return Pe(k,M)},this._max=function(M,k){return 0<Pe(M,k)?M:k},this._min=function(M,k){return Pe(M,k)<0?M:k},this._IDBKeyRange=x._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ue.MissingAPI})),this.on("versionchange",function(E){0<E.newVersion?console.warn("Another connection wants to upgrade database '".concat(j.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(j.name,"'. Closing db now to resume the delete request.")),j.close({disableAutoOpen:!1})}),this.on("blocked",function(E){!E.newVersion||E.newVersion<E.oldVersion?console.warn("Dexie.delete('".concat(j.name,"') was blocked")):console.warn("Upgrade '".concat(j.name,"' blocked by other connection holding version ").concat(E.oldVersion/10))}),this._maxKey=dl(u.IDBKeyRange),this._createTransaction=function(E,z,R,M){return new j.Transaction(E,z,R,j._options.chromeTransactionDurability,M)},this._fireOnBlocked=function(E){j.on("blocked").fire(E),Ea.filter(function(z){return z.name===j.name&&z!==j&&!z._state.vcFired}).map(function(z){return z.on("versionchange").fire(E)})},this.use(Wr),this.use(Is),this.use(Eu),this.use(Cu),this.use(Fr),new Proxy(this,{get:function(E,z,R){var M;return z==="_vip"||(z==="table"?function(k){return ms(j.table(k),A)}:(M=Reflect.get(E,z,R))instanceof qi?ms(M,A):z==="tables"?M.map(function(k){return ms(k,A)}):z==="_createTransaction"?function(){return ms(M.apply(this,arguments),A)}:M)}}));this.vip=A,O.forEach(function(E){return E(j)})}var vl,Ha=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",tc=($s.prototype.subscribe=function(s,u,f){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:u,complete:f})},$s.prototype[Ha]=function(){return this},$s);function $s(s){this._subscribe=s}try{vl={indexedDB:T.indexedDB||T.mozIndexedDB||T.webkitIndexedDB||T.msIndexedDB,IDBKeyRange:T.IDBKeyRange||T.webkitIDBKeyRange}}catch{vl={indexedDB:null,IDBKeyRange:null}}function nc(s){var u,f=!1,h=new tc(function(y){var v=N(s),x,j=!1,O={},G={},A={get closed(){return j},unsubscribe:function(){j||(j=!0,x&&x.abort(),E&&Jt.storagemutated.unsubscribe(R))}},E=(y.start&&y.start(A),!1),z=function(){return ua(M)},R=function(k){Gs(O,k),Ii(G,O)&&z()},M=function(){var k,V,I;!j&&vl.indexedDB&&(O={},k={},x&&x.abort(),x=new AbortController,I=(Q=>{var ae=ia();try{v&&Bt();var me=St(s,Q);return me=v?me.finally(mn):me}finally{ae&&Bn()}})(V={subscr:k,signal:x.signal,requery:z,querier:s,trans:null}),Promise.resolve(I).then(function(Q){f=!0,u=Q,j||V.signal.aborted||(O={},(ae=>{for(var me in ae)if(U(ae,me))return;return 1})(G=k)||E||(Jt(ol,R),E=!0),ua(function(){return!j&&y.next&&y.next(Q)}))},function(Q){f=!1,["DatabaseClosedError","AbortError"].includes(Q?.name)||j||ua(function(){j||y.error&&y.error(Q)})}))};return setTimeout(z,0),A});return h.hasValue=function(){return f},h.getValue=function(){return u},h}var Ya=Hn;function tr(s){var u=ha;try{ha=!0,Jt.storagemutated.fire(s),Wi(s,!0)}finally{ha=u}}te(Ya,m(m({},K),{delete:function(s){return new Ya(s,{addons:[]}).delete()},exists:function(s){return new Ya(s,{addons:[]}).open().then(function(u){return u.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return u=Ya.dependencies,f=u.indexedDB,u=u.IDBKeyRange,(Ks(f)?Promise.resolve(f.databases()).then(function(h){return h.map(function(y){return y.name}).filter(function(y){return y!==ts})}):Qi(f,u).toCollection().primaryKeys()).then(s)}catch{return vt(new Ue.MissingAPI)}var u,f},defineClass:function(){return function(s){C(this,s)}},ignoreTransaction:function(s){return Ae.trans?Tn(Ae.transless,s):s()},vip:Vi,async:function(s){return function(){try{var u=fs(s.apply(this,arguments));return u&&typeof u.then=="function"?u:De.resolve(u)}catch(f){return vt(f)}}},spawn:function(s,u,f){try{var h=fs(s.apply(f,u||[]));return h&&typeof h.then=="function"?h:De.resolve(h)}catch(y){return vt(y)}},currentTransaction:{get:function(){return Ae.trans||null}},waitFor:function(s,u){return s=De.resolve(typeof s=="function"?Ya.ignoreTransaction(s):s).timeout(u||6e4),Ae.trans?Ae.trans.waitFor(s):s},Promise:De,debug:{get:function(){return vn},set:function(s){Lr(s)}},derive:de,extend:C,props:te,override:w,Events:ls,on:Jt,liveQuery:nc,extendObservabilitySet:Gs,getByKeyPath:fe,setByKeyPath:ce,delByKeyPath:function(s,u){typeof u=="string"?ce(s,u,void 0):"length"in u&&[].map.call(u,function(f){ce(s,f,void 0)})},shallowClone:qe,deepClone:ge,getObjectDiff:Vs,cmp:Pe,asap:ve,minKey:-1/0,addons:[],connections:Ea,errnames:Gt,dependencies:vl,cache:Ua,semVer:"4.3.0",version:"4.3.0".split(".").map(function(s){return parseInt(s)}).reduce(function(s,u,f){return s+u/Math.pow(10,2*f)})})),Ya.maxKey=dl(Ya.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Jt(ol,function(s){ha||(s=new CustomEvent(za,{detail:s}),ha=!0,dispatchEvent(s),ha=!1)}),addEventListener(za,function(s){s=s.detail,ha||tr(s)}));var gl,ha=!1,on=function(){};return typeof BroadcastChannel<"u"&&((on=function(){(gl=new BroadcastChannel(za)).onmessage=function(s){return s.data&&tr(s.data)}})(),typeof gl.unref=="function"&&gl.unref(),Jt(ol,function(s){ha||gl.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!Hn.disableBfCache&&s.persisted){vn&&console.debug("Dexie: handling persisted pagehide"),gl?.close();for(var u=0,f=Ea;u<f.length;u++)f[u].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!Hn.disableBfCache&&s.persisted&&(vn&&console.debug("Dexie: handling persisted pageshow"),on(),tr({all:new It(-1/0,[[]])}))})),De.rejectionMapper=function(s,u){return!s||s instanceof Te||s instanceof TypeError||s instanceof SyntaxError||!s.name||!Gl[s.name]?s:(u=new Gl[s.name](u||s.message,s),"stack"in s&&oe(u,"stack",{get:function(){return this.inner.stack}}),u)},Lr(vn),m(Hn,Object.freeze({__proto__:null,Dexie:Hn,Entity:Xr,PropModification:ul,RangeSet:It,add:function(s){return new ul({add:s})},cmp:Pe,default:Hn,liveQuery:nc,mergeRanges:Ra,rangesOverlap:Jr,remove:function(s){return new ul({remove:s})},replacePrefix:function(s,u){return new ul({replacePrefix:[s,u]})}}),{default:Hn}),Hn})})(lu)),lu.exports}var Wy=Fy();const Df=kp(Wy),ip=Symbol.for("Dexie"),iu=globalThis[ip]||(globalThis[ip]=Df);if(Df.semVer!==iu.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Df.semVer} and ${iu.semVer}`);const{liveQuery:q1,mergeRanges:H1,rangesOverlap:Y1,RangeSet:L1,cmp:K1,Entity:X1,PropModification:G1,replacePrefix:Q1,add:V1,remove:Z1,DexieYProvider:J1}=iu,Py=[{code:"chemo",name:"",color:"purple",sortOrder:10,isActive:!0},{code:"rt",name:"",color:"blue",sortOrder:20,isActive:!0},{code:"surgery",name:"",color:"red",sortOrder:30,isActive:!0},{code:"mdt",name:"",color:"orange",sortOrder:40,isActive:!0},{code:"fu",name:"/",color:"teal",sortOrder:50,isActive:!0},{code:"tx_plan_confirm",name:"",color:"indigo",sortOrder:60,isActive:!0},{code:"imaging_plan",name:"",color:"cyan",sortOrder:70,isActive:!0},{code:"peer_review",name:"",color:"amber",sortOrder:80,isActive:!0},{code:"hospital",name:"",color:"pink",sortOrder:90,isActive:!0},{code:"new_dx",name:"",color:"emerald",sortOrder:100,isActive:!0},{code:"first_tx",name:"",color:"violet",sortOrder:110,isActive:!0},{code:"pathology_notify",name:"",color:"lime",sortOrder:120,isActive:!0},{code:"cure_code",name:"",color:"sky",sortOrder:130,isActive:!0},{code:"drug_apply",name:"",color:"rose",sortOrder:140,isActive:!0},{code:"other",name:"",color:"slate",sortOrder:999,isActive:!0}],ev=[{code:"mdt",name:"",color:"orange",sortOrder:10,isActive:!0},{code:"cancer_committee",name:"",color:"red",sortOrder:20,isActive:!0},{code:"center_meeting",name:"",color:"blue",sortOrder:30,isActive:!0},{code:"case_review",name:"",color:"purple",sortOrder:40,isActive:!0},{code:"education",name:"",color:"green",sortOrder:50,isActive:!0},{code:"other_work",name:"",color:"slate",sortOrder:999,isActive:!0}],tv=[{code:"LC",name:"",sortOrder:10},{code:"BC",name:"",sortOrder:20},{code:"CRC",name:"",sortOrder:30},{code:"HNC",name:"",sortOrder:40},{code:"PC",name:"",sortOrder:50},{code:"GC",name:"",sortOrder:60},{code:"HCC",name:"",sortOrder:70},{code:"EC",name:"",sortOrder:80},{code:"CC",name:"",sortOrder:90},{code:"OC",name:"",sortOrder:100},{code:"UEC",name:"",sortOrder:110},{code:"LYM",name:"",sortOrder:120},{code:"BLC",name:"",sortOrder:130}],nv=[{dept:"",physicians:["","",""]},{dept:"",physicians:["","","",""]},{dept:"",physicians:["","","",""]},{dept:"",physicians:[""]},{dept:"",physicians:["",""]},{dept:"",physicians:["",""]},{dept:"",physicians:["",""]},{dept:"",physicians:[""]},{dept:"",physicians:["",""]}],av=[{name:"",sortOrder:10},{name:"7",sortOrder:20},{name:"7 VIP",sortOrder:30},{name:"8",sortOrder:40},{name:"3E",sortOrder:50},{name:"",sortOrder:60},{name:"8",sortOrder:70}],hu={purple:"bg-purple-100 text-purple-700",blue:"bg-blue-100 text-blue-700",red:"bg-red-100 text-red-700",orange:"bg-orange-100 text-orange-700",teal:"bg-teal-100 text-teal-700",indigo:"bg-indigo-100 text-indigo-700",cyan:"bg-cyan-100 text-cyan-700",amber:"bg-amber-100 text-amber-700",pink:"bg-pink-100 text-pink-700",emerald:"bg-emerald-100 text-emerald-700",violet:"bg-violet-100 text-violet-700",lime:"bg-lime-100 text-lime-700",sky:"bg-sky-100 text-sky-700",rose:"bg-rose-100 text-rose-700",slate:"bg-slate-100 text-slate-700",green:"bg-green-100 text-green-700",yellow:"bg-yellow-100 text-yellow-700"},zf={chemo:"",rt:"",surgery:"",mdt:"",tx_plan_confirm:"",imaging_plan:"",peer_review:"",fu:"/",hospital:"",new_dx:"",first_tx:"",pathology_notify:"",cure_code:"",drug_apply:"",other:""};class lv extends iu{patients;events;cancerTypes;physicians;departments;imagingTypes;eventTypes;meetingTypes;meetingLocations;workItems;patientPhysicians;constructor(){super("CaseManagerDB"),this.version(1).stores({patients:"++id, mrn, name, cancerTypeId, status",events:"++id, patientId, eventType, eventDate, dueDate, status, isCompleted",cancerTypes:"++id, code, sortOrder, isActive",physicians:"++id, name, departmentId, isActive",departments:"++id, name, sortOrder, isActive",imagingTypes:"++id, code, sortOrder, isActive",eventTypes:"++id, code, sortOrder, isActive"}),this.version(2).stores({patients:"++id, mrn, name, cancerTypeId, status",events:"++id, patientId, eventType, eventDate, dueDate, status, isCompleted",cancerTypes:"++id, code, sortOrder, isActive",physicians:"++id, name, departmentId, isActive",departments:"++id, name, sortOrder, isActive",imagingTypes:"++id, code, sortOrder, isActive",eventTypes:"++id, code, sortOrder, isActive",patientPhysicians:"++id, patientId, physicianId, [patientId+physicianId]"}),this.version(3).stores({patients:"++id, mrn, name, cancerTypeId, status",events:"++id, patientId, eventType, eventDate, dueDate, status, isCompleted",cancerTypes:"++id, code, sortOrder, isActive",physicians:"++id, name, departmentId, isActive",departments:"++id, name, sortOrder, isActive",imagingTypes:"++id, code, sortOrder, isActive",eventTypes:"++id, code, sortOrder, isActive",meetingTypes:"++id, code, sortOrder, isActive",workItems:"++id, meetingTypeId, scheduledDate, isCompleted",patientPhysicians:"++id, patientId, physicianId, [patientId+physicianId]"}),this.version(4).stores({patients:"++id, mrn, name, cancerTypeId, status",events:"++id, patientId, eventType, eventDate, dueDate, status, isCompleted",cancerTypes:"++id, code, sortOrder, isActive",physicians:"++id, name, departmentId, isActive",departments:"++id, name, sortOrder, isActive",imagingTypes:"++id, code, sortOrder, isActive",eventTypes:"++id, code, sortOrder, isActive",meetingTypes:"++id, code, sortOrder, isActive",meetingLocations:"++id, name, sortOrder, isActive",workItems:"++id, meetingTypeId, scheduledDate, isCompleted",patientPhysicians:"++id, patientId, physicianId, [patientId+physicianId]"})}}const q=new lv;async function zp(){const[r,o,d,m,b,T,Y]=await Promise.all([q.cancerTypes.count(),q.departments.count(),q.eventTypes.count(),q.meetingTypes.count(),q.meetingLocations.count(),q.imagingTypes.count(),q.physicians.count()]);if(r>0||o>0||d>0||m>0||b>0||T>0||Y>0){console.log("[DB] ",{cancerCount:r,deptCount:o,eventTypeCount:d,meetingTypeCount:m,meetingLocationCount:b,imagingCount:T,physicianCount:Y});return}console.log("[DB] ..."),await q.transaction("rw",[q.cancerTypes,q.departments,q.physicians,q.imagingTypes,q.eventTypes,q.meetingTypes,q.meetingLocations,q.patients,q.patientPhysicians],async()=>{const C=await q.cancerTypes.bulkAdd(tv.map(oe=>({...oe,isActive:!0})),{allKeys:!0}),D={};let ee=10;for(const oe of nv){const de=await q.departments.add({name:oe.dept,sortOrder:ee,isActive:!0});for(const _e of oe.physicians){const we=await q.physicians.add({name:_e,departmentId:de,isActive:!0});D[_e]=we}ee+=10}console.log("[DB] :",D),await q.imagingTypes.bulkAdd([{code:"CT",name:"",sortOrder:10,isActive:!0},{code:"MRI",name:"",sortOrder:20,isActive:!0},{code:"PET",name:"",sortOrder:30,isActive:!0},{code:"XR",name:"X",sortOrder:40,isActive:!0},{code:"ECHO",name:"",sortOrder:50,isActive:!0}]),await q.eventTypes.bulkAdd(Py),await q.meetingTypes.bulkAdd(ev),await q.meetingLocations.bulkAdd(av.map(oe=>({...oe,isActive:!0})));const U=[["",""],["",""],["",""],["","",""],["",""],["",""],["",""],["",""],["",""],["",""]],te=al(),ue=[{mrn:"TEST001",name:"A",sex:"M",cancerTypeId:C[0],status:"active"},{mrn:"TEST002",name:"B",sex:"F",cancerTypeId:C[1],status:"active"},{mrn:"TEST003",name:"C",sex:"M",cancerTypeId:C[2],status:"active"},{mrn:"TEST004",name:"D",sex:"F",cancerTypeId:C[3],status:"active"},{mrn:"TEST005",name:"E",sex:"M",cancerTypeId:C[4],status:"active"},{mrn:"TEST006",name:"F",sex:"M",cancerTypeId:C[5],status:"active"},{mrn:"TEST007",name:"G",sex:"F",cancerTypeId:C[6],status:"active"},{mrn:"TEST008",name:"H",sex:"M",cancerTypeId:C[7],status:"active"},{mrn:"TEST009",name:"I",sex:"F",cancerTypeId:C[8],status:"active"},{mrn:"TEST010",name:"J",sex:"F",cancerTypeId:C[9],status:"active"}];for(let oe=0;oe<ue.length;oe++){const de=ue[oe],_e=await q.patients.add({...de,createdAt:te,updatedAt:te}),we=U[oe]||[];console.log(`[DB]  ${de.name} (ID: ${_e}) :`,we);for(const Oe of we){const w=D[Oe];console.log(`[DB]   - ${Oe} -> physicianId: ${w}`),w&&await q.patientPhysicians.add({patientId:_e,physicianId:w,role:"primary"})}}}),console.log("[DB]  10 ")}async function sv(){try{await q.open(),console.log("[DB] "),await zp()}catch(r){throw console.error("[DB] :",r),r}}function al(){return new Date().toISOString()}const pu="2.5",Bp="",iv="",rv=[{version:"2.5",date:"2024-12-18",changes:["/","","","","",""]},{version:"2.4",date:"2024-12-18",changes:["","","","",""]},{version:"2.3",date:"2024-12-18",changes:["","","","/",""]},{version:"2.2",date:"2024-12-18",changes:["",""," Schema "]},{version:"2.1",date:"2024-12-18",changes:[" 10 ","","",""]},{version:"2.0",date:"2024-12-18",changes:["","",""]},{version:"1.9",date:"2024-12-18",changes:["//","","",""]},{version:"1.8",date:"2024-12-18",changes:["","4","",""]},{version:"1.7",date:"2024-12-18",changes:["","Dashboard ","Dashboard "]},{version:"1.6",date:"2024-12-18",changes:["","Tab","","10",""]},{version:"1.5",date:"2024-12-18",changes:["","",""]},{version:"1.4",date:"2024-12-18",changes:["","CSV"]},{version:"1.3",date:"2024-12-18",changes:[""," Mac ",""]},{version:"1.2",date:"2024-12-18",changes:[" SELA Logo","","/"]},{version:"1.1",date:"2024-12-18",changes:["CRUD","",""]},{version:"1.0",date:"2024-12-18",changes:["","React + TypeScript + Vite ","IndexedDB ","","iOS Web Share "," UI/","Dashboard ","GitHub Actions "]}],Rp="casemanager_backup_records",Bf="casemanager_last_backup";function Rf(){return new Date().toISOString().split("T")[0]}function Uf(){return localStorage.getItem(Bf)}function cv(){const r=Uf();return r?r===Rf():!1}function Up(){const r=localStorage.getItem(Rp);if(!r)return[];try{return JSON.parse(r)}catch{return[]}}function qp(r){const o=Up();o.unshift(r);const d=o.slice(0,30);localStorage.setItem(Rp,JSON.stringify(d))}async function Hp(){const[r,o,d,m,b,T,Y,L,C,D,ee]=await Promise.all([q.patients.toArray(),q.events.toArray(),q.cancerTypes.toArray(),q.physicians.toArray(),q.departments.toArray(),q.imagingTypes.toArray(),q.eventTypes.toArray(),q.meetingTypes.toArray(),q.meetingLocations.toArray(),q.workItems.toArray(),q.patientPhysicians.toArray()]);return{exportDate:new Date().toISOString(),version:pu,deviceInfo:`${navigator.userAgent}`,data:{patients:r,events:o,cancerTypes:d,physicians:m,departments:b,imagingTypes:T,eventTypes:Y,meetingTypes:L,meetingLocations:C,workItems:D,patientPhysicians:ee}}}async function Yp(){const r=await Hp(),o=JSON.stringify(r,null,2),d=new Blob([o],{type:"application/json"}),b=`case_backup_${new Date().toISOString().replace(/[:.]/g,"").slice(0,15)}.json`,T=URL.createObjectURL(d),Y=document.createElement("a");Y.href=T,Y.download=b,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(T);const L=r.data.patients.length+r.data.events.length;return qp({date:new Date().toISOString(),fileName:b,recordCount:L}),localStorage.setItem(Bf,Rf()),b}function _i(){return/iPad|iPhone|iPod/.test(navigator.userAgent)}function uv(){return"share"in navigator&&"canShare"in navigator}async function ov(){const r=await Hp(),o=JSON.stringify(r,null,2),m=`case_backup_${new Date().toISOString().replace(/[:.]/g,"").slice(0,15)}.json`,b=new File([o],m,{type:"application/json"});if(navigator.canShare&&navigator.canShare({files:[b]}))try{await navigator.share({title:"",text:`: ${new Date().toLocaleString("zh-TW")}`,files:[b]});const T=r.data.patients.length+r.data.events.length;return qp({date:new Date().toISOString(),fileName:m,recordCount:T}),localStorage.setItem(Bf,Rf()),m}catch(T){throw T.name==="AbortError"?new Error(""):T}else return Yp()}async function qf(){return _i()&&uv()?ov():Yp()}async function Lp(r){try{const o=await r.text(),d=JSON.parse(o);return!d.version||!d.data?{success:!1,message:""}:(await q.patients.count()>0&&console.log("[Backup] ..."),await q.transaction("rw",[q.patients,q.events,q.cancerTypes,q.physicians,q.departments,q.imagingTypes,q.eventTypes,q.meetingTypes,q.meetingLocations,q.workItems,q.patientPhysicians],async()=>{await q.patients.clear(),await q.events.clear(),await q.cancerTypes.clear(),await q.physicians.clear(),await q.departments.clear(),await q.imagingTypes.clear(),await q.eventTypes.clear(),await q.meetingTypes.clear(),await q.meetingLocations.clear(),await q.workItems.clear(),await q.patientPhysicians.clear(),d.data.patients?.length&&await q.patients.bulkAdd(d.data.patients),d.data.events?.length&&await q.events.bulkAdd(d.data.events),d.data.cancerTypes?.length&&await q.cancerTypes.bulkAdd(d.data.cancerTypes),d.data.physicians?.length&&await q.physicians.bulkAdd(d.data.physicians),d.data.departments?.length&&await q.departments.bulkAdd(d.data.departments),d.data.imagingTypes?.length&&await q.imagingTypes.bulkAdd(d.data.imagingTypes),d.data.eventTypes?.length&&await q.eventTypes.bulkAdd(d.data.eventTypes),d.data.meetingTypes?.length&&await q.meetingTypes.bulkAdd(d.data.meetingTypes),d.data.meetingLocations?.length&&await q.meetingLocations.bulkAdd(d.data.meetingLocations),d.data.workItems?.length&&await q.workItems.bulkAdd(d.data.workItems),d.data.patientPhysicians?.length&&await q.patientPhysicians.bulkAdd(d.data.patientPhysicians)}),{success:!0,message:` ${d.data.patients?.length||0} ${d.data.events?.length||0} `})}catch(o){return console.error("[Backup] :",o),{success:!1,message:`: ${o.message}`}}}async function fv(){const r=await q.patients.count(),o=await q.events.count();return r===0&&o===0}async function dv(){return await q.patients.count()>0}const rp=r=>{let o;const d=new Set,m=(D,ee)=>{const U=typeof D=="function"?D(o):D;if(!Object.is(U,o)){const te=o;o=ee??(typeof U!="object"||U===null)?U:Object.assign({},o,U),d.forEach(ue=>ue(o,te))}},b=()=>o,L={setState:m,getState:b,getInitialState:()=>C,subscribe:D=>(d.add(D),()=>d.delete(D))},C=o=r(m,b,L);return L},mv=(r=>r?rp(r):rp),hv=r=>r;function pv(r,o=hv){const d=tu.useSyncExternalStore(r.subscribe,tu.useCallback(()=>o(r.getState()),[r,o]),tu.useCallback(()=>o(r.getInitialState()),[r,o]));return tu.useDebugValue(d),d}const cp=r=>{const o=mv(r),d=m=>pv(o,m);return Object.assign(d,o),d},Hf=(r=>r?cp(r):cp),Sa=Hf(r=>({needsBackup:!1,lastBackupDate:null,isBackupModalOpen:!1,isDataLossModalOpen:!1,hasUnsavedChanges:!1,setNeedsBackup:o=>r({needsBackup:o}),setLastBackupDate:o=>r({lastBackupDate:o}),openBackupModal:()=>r({isBackupModalOpen:!0}),closeBackupModal:()=>r({isBackupModalOpen:!1}),openDataLossModal:()=>r({isDataLossModalOpen:!0}),closeDataLossModal:()=>r({isDataLossModalOpen:!1}),markDataChanged:()=>r({hasUnsavedChanges:!0}),clearUnsavedChanges:()=>r({hasUnsavedChanges:!1})})),Hr=Hf(r=>({currentPage:"dashboard",selectedPatientId:null,setCurrentPage:o=>r({currentPage:o}),setSelectedPatientId:o=>r({selectedPatientId:o})})),Ur=Hf(r=>({toasts:[],addToast:(o,d)=>{const m=Date.now().toString();r(b=>({toasts:[...b.toasts,{id:m,type:o,message:d}]})),setTimeout(()=>{r(b=>({toasts:b.toasts.filter(T=>T.id!==m)}))},3e3)},removeToast:o=>r(d=>({toasts:d.toasts.filter(m=>m.id!==o)}))})),je={success:r=>Ur.getState().addToast("success",r),error:r=>Ur.getState().addToast("error",r),warning:r=>Ur.getState().addToast("warning",r),info:r=>Ur.getState().addToast("info",r)};const Kp=(...r)=>r.filter((o,d,m)=>!!o&&o.trim()!==""&&m.indexOf(o)===d).join(" ").trim();const yv=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const vv=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,d,m)=>m?m.toUpperCase():d.toLowerCase());const up=r=>{const o=vv(r);return o.charAt(0).toUpperCase()+o.slice(1)};var gv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xv=r=>{for(const o in r)if(o.startsWith("aria-")||o==="role"||o==="title")return!0;return!1};const bv=H.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:d=2,absoluteStrokeWidth:m,className:b="",children:T,iconNode:Y,...L},C)=>H.createElement("svg",{ref:C,...gv,width:o,height:o,stroke:r,strokeWidth:m?Number(d)*24/Number(o):d,className:Kp("lucide",b),...!T&&!xv(L)&&{"aria-hidden":"true"},...L},[...Y.map(([D,ee])=>H.createElement(D,ee)),...Array.isArray(T)?T:[T]]));const $e=(r,o)=>{const d=H.forwardRef(({className:m,...b},T)=>H.createElement(bv,{ref:T,iconNode:o,className:Kp(`lucide-${yv(up(r))}`,`lucide-${r}`,m),...b}));return d.displayName=up(r),d};const jv=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],wv=$e("activity",jv);const Nv=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ds=$e("briefcase",Nv);const Sv=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Xp=$e("building-2",Sv);const Tv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Gp=$e("calendar-days",Tv);const _v=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nl=$e("calendar",_v);const Dv=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Cv=$e("chart-column",Dv);const Ev=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],op=$e("chart-pie",Ev);const Ov=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ln=$e("check",Ov);const Av=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yu=$e("chevron-down",Av);const Mv=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Qp=$e("chevron-left",Mv);const kv=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Di=$e("chevron-right",kv);const zv=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Yf=$e("chevron-up",zv);const Bv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Rv=$e("circle-alert",Bv);const Uv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xl=$e("circle-check-big",Uv);const qv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Hv=$e("circle-x",qv);const Yv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],Vp=$e("clock",Yv);const Lv=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Cf=$e("database",Lv);const Kv=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ru=$e("download",Kv);const Xv=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],vu=$e("ellipsis-vertical",Xv);const Gv=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Qv=$e("ellipsis",Gv);const Vv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Zv=$e("file-text",Vv);const Jv=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Iv=$e("funnel",Jv);const $v=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Fv=$e("image",$v);const Wv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Pv=$e("info",Wv);const eg=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],cu=$e("layout-dashboard",eg);const tg=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Zp=$e("list",tg);const ng=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Lf=$e("map-pin",ng);const ag=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Jp=$e("phone",ag);const lg=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],na=$e("plus",lg);const sg=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ig=$e("refresh-cw",sg);const rg=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],cg=$e("repeat",rg);const ug=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],og=$e("search",ug);const fg=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dg=$e("settings",fg);const mg=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Ip=$e("share-2",mg);const hg=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Zn=$e("square-pen",hg);const pg=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],su=$e("stethoscope",pg);const yg=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zn=$e("trash-2",yg);const vg=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Na=$e("triangle-alert",vg);const gg=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ef=$e("upload",gg);const xg=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Kf=$e("user",xg);const bg=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xf=$e("users",bg);const jg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kt=$e("x",jg);function fp({onComplete:r,isDataLoss:o=!1}){const[d,m]=H.useState(!1),[b,T]=H.useState(!1),[Y,L]=H.useState(!1),C=H.useRef(null),{closeBackupModal:D,closeDataLossModal:ee,setNeedsBackup:U,setLastBackupDate:te}=Sa(),ue=async()=>{m(!0);try{const we=await qf();T(!0),je.success(`${we}`),U(!1),te(new Date().toISOString().split("T")[0])}catch(we){je.error(`${we.message}`)}finally{m(!1)}},oe=async we=>{const Oe=we.target.files?.[0];if(Oe){L(!0);try{const w=await Lp(Oe);w.success?(je.success(w.message),r(),o&&ee()):je.error(w.message)}catch(w){je.error(`${w.message}`)}finally{L(!1),C.current&&(C.current.value="")}}},de=()=>{D(),r()},_e=()=>{ee(),r()};return o?l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:l.jsx(Na,{className:"w-6 h-6 text-red-600"})}),l.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""})]}),l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:l.jsx("p",{className:"text-red-800 text-sm",children:"iOS  7 "})}),l.jsx("p",{className:"text-slate-600 mb-6",children:""}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>C.current?.click(),disabled:Y,className:"w-full btn-primary flex items-center justify-center gap-2",children:[l.jsx(Ef,{className:"w-5 h-5"}),Y?"...":""]}),l.jsx("button",{onClick:_e,className:"w-full btn-secondary",children:""})]}),l.jsx("input",{ref:C,type:"file",accept:".json",onChange:oe,className:"hidden"}),l.jsx("p",{className:"text-xs text-slate-500 mt-4 text-center",children:" iCloudGoogle Drive"})]})}):l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-amber-100 rounded-full",children:l.jsx(Na,{className:"w-6 h-6 text-amber-600"})}),l.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""})]}),l.jsx("p",{className:"text-slate-600 mb-2",children:""}),l.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-6",children:l.jsx("p",{className:"text-amber-800 text-sm",children:"  "})}),b?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[l.jsx(Xl,{className:"w-6 h-6 text-green-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-green-800",children:""}),l.jsx("p",{className:"text-sm text-green-600",children:""})]})]}),l.jsx("button",{onClick:de,className:"w-full btn-primary",children:""})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:ue,disabled:d,className:"w-full btn-primary flex items-center justify-center gap-2",children:[_i()?l.jsx(Ip,{className:"w-5 h-5"}):l.jsx(ru,{className:"w-5 h-5"}),d?"...":_i()?" Files":""]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-slate-200"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-slate-500",children:""})})]}),l.jsxs("button",{onClick:()=>C.current?.click(),disabled:Y,className:"w-full btn-secondary flex items-center justify-center gap-2",children:[l.jsx(Ef,{className:"w-5 h-5"}),Y?"...":""]})]}),l.jsx("input",{ref:C,type:"file",accept:".json",onChange:oe,className:"hidden"}),l.jsx("p",{className:"text-xs text-slate-500 mt-4 text-center",children:"iCloudGoogle Drive"})]})})}const wg={success:Xl,error:Hv,warning:Na,info:Pv},Ng={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-amber-50 border-amber-200 text-amber-800",info:"bg-blue-50 border-blue-200 text-blue-800"},Sg={success:"text-green-600",error:"text-red-600",warning:"text-amber-600",info:"text-blue-600"};function Tg(){const{toasts:r,removeToast:o}=Ur();return r.length===0?null:l.jsxs("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm w-full pointer-events-none",children:[r.map(d=>{const m=wg[d.type];return l.jsxs("div",{className:`
              pointer-events-auto
              flex items-center gap-3 p-4 rounded-lg border shadow-lg
              animate-slide-in
              ${Ng[d.type]}
            `,children:[l.jsx(m,{className:`w-5 h-5 flex-shrink-0 ${Sg[d.type]}`}),l.jsx("p",{className:"flex-1 text-sm font-medium",children:d.message}),l.jsx("button",{onClick:()=>o(d.id),className:"flex-shrink-0 p-1 hover:bg-black/5 rounded",children:l.jsx(kt,{className:"w-4 h-4"})})]},d.id)}),l.jsx("style",{children:`
        @keyframes slide-in {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
      `})]})}const _g=[{id:"dashboard",label:"",icon:cu},{id:"patients",label:"",icon:Xf},{id:"events",label:"",icon:nl},{id:"work",label:"",icon:Ds}],dp=[{id:"masterdata",label:"",icon:cu},{id:"tools",label:"",icon:cu}];function Dg(){const{currentPage:r,setCurrentPage:o}=Hr(),[d,m]=H.useState(!1),b=dp.some(T=>T.id===r);return l.jsxs(l.Fragment,{children:[l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 md:hidden z-40",children:l.jsxs("div",{className:"flex justify-around items-center h-14 safe-area-bottom",children:[_g.map(T=>{const Y=T.icon,L=r===T.id;return l.jsxs("button",{onClick:()=>o(T.id),className:`flex flex-col items-center justify-center flex-1 h-full min-w-0 px-1 active:bg-slate-100 transition-colors duration-150 ${L?"text-primary-500":"text-slate-400"}`,children:[l.jsx(Y,{className:`w-5 h-5 ${L?"stroke-2":""}`}),l.jsx("span",{className:`text-[10px] mt-0.5 truncate ${L?"font-medium":""}`,children:T.label})]},T.id)}),l.jsxs("button",{onClick:()=>m(!d),className:`flex flex-col items-center justify-center flex-1 h-full min-w-0 px-1 active:bg-slate-100 transition-colors duration-150 ${b?"text-primary-500":"text-slate-400"}`,children:[l.jsx(Qv,{className:`w-5 h-5 ${b?"stroke-2":""}`}),l.jsx("span",{className:`text-[10px] mt-0.5 truncate ${b?"font-medium":""}`,children:""})]})]})}),d&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>m(!1)}),l.jsx("div",{className:"fixed bottom-16 right-4 bg-white rounded-lg shadow-lg border z-40 py-2 min-w-[140px]",children:dp.map(T=>l.jsx("button",{onClick:()=>{o(T.id),m(!1)},className:`w-full px-4 py-3 text-left hover:bg-slate-50 ${r===T.id?"text-primary-500 font-medium":"text-slate-700"}`,children:T.label},T.id))})]})]})}const $p="/Patient-follow/assets/logo-o9u08eVb.jpg",Cg=[{id:"dashboard",label:"",icon:cu},{id:"patients",label:"",icon:Xf},{id:"events",label:"",icon:nl},{id:"work",label:"",icon:Ds},{id:"masterdata",label:"",icon:Cf},{id:"tools",label:"",icon:dg}];function Eg(){const{currentPage:r,setCurrentPage:o}=Hr(),[d,m]=H.useState(!1);return l.jsxs("aside",{className:`
        hidden md:flex flex-col
        bg-slate-800 text-white
        transition-all duration-300
        ${d?"w-16":"w-56"}
      `,children:[l.jsxs("div",{className:"flex items-center h-20 px-3 border-b border-slate-700",children:[l.jsx("img",{src:$p,alt:"Logo",className:"w-10 h-10 rounded-lg flex-shrink-0"}),!d&&l.jsxs("div",{className:"ml-2 flex-1 min-w-0",children:[l.jsx("h1",{className:"font-bold text-sm text-primary-400 truncate",children:Bp}),l.jsx("p",{className:"text-xs text-slate-400 truncate",children:iv}),l.jsxs("p",{className:"text-xs text-slate-500",children:["V",pu]})]}),!d&&l.jsx("button",{onClick:()=>m(!d),className:"p-1.5 hover:bg-slate-700 rounded-lg ml-1",title:"",children:l.jsx(Qp,{className:"w-4 h-4"})}),d&&l.jsx("button",{onClick:()=>m(!1),className:"p-1.5 hover:bg-slate-700 rounded-lg ml-auto",title:"",children:l.jsx(Di,{className:"w-4 h-4"})})]}),l.jsx("nav",{className:"flex-1 py-4",children:Cg.map(b=>{const T=b.icon,Y=r===b.id;return l.jsxs("button",{onClick:()=>o(b.id),className:`
                w-full flex items-center gap-3 px-4 py-3
                transition-colors duration-200
                ${Y?"bg-primary-500 text-white":"text-slate-300 hover:bg-slate-700 hover:text-white"}
              `,children:[l.jsx(T,{className:"w-5 h-5 flex-shrink-0"}),!d&&l.jsx("span",{className:"font-medium",children:b.label})]},b.id)})}),!d&&l.jsx("div",{className:"p-4 border-t border-slate-700",children:l.jsx("p",{className:"text-xs text-slate-500 text-center",children:" 2024 SELA"})})]})}async function Ci(r){let o=await q.events.toArray();return r?.patientId&&(o=o.filter(d=>d.patientId===r.patientId)),r?.eventType&&(o=o.filter(d=>d.eventType===r.eventType)),r?.status&&r.status!=="all"&&(o=o.filter(d=>d.status===r.status)),r?.isCompleted!==void 0&&(o=o.filter(d=>d.isCompleted===r.isCompleted)),r?.dueDateFrom&&(o=o.filter(d=>d.dueDate&&d.dueDate>=r.dueDateFrom)),r?.dueDateTo&&(o=o.filter(d=>d.dueDate&&d.dueDate<=r.dueDateTo)),o.sort((d,m)=>(d.dueDate||"").localeCompare(m.dueDate||"")),o}async function Fp(r){const o=al();return await q.events.add({patientId:r.patientId,eventType:r.eventType,title:r.title||zf[r.eventType]||"",eventDate:r.eventDate||o.split("T")[0],dueDate:r.dueDate,status:"pending",note:r.note||"",isCompleted:!1,mainPhysicianId:r.mainPhysicianId,fieldsJson:r.fieldsJson||{},createdAt:o,updatedAt:o})}async function Og(r,o){return await q.events.update(r,{...o,updatedAt:al()})>0}async function Wp(r){return await q.events.delete(r),!0}async function Pp(r){const o=await q.events.get(r);return o?(await q.events.update(r,{isCompleted:!o.isCompleted,status:o.isCompleted?"pending":"done",updatedAt:al()}),!0):!1}async function mp(){const r=new Date().toISOString().split("T")[0];return Ci({dueDateFrom:r,dueDateTo:r,isCompleted:!1})}async function Of(){const r=new Date().toISOString().split("T")[0];return(await Ci({isCompleted:!1})).filter(d=>d.dueDate&&d.dueDate<r)}async function Ag(){return(await Ci({isCompleted:!0})).sort((o,d)=>(d.dueDate||d.eventDate||"").localeCompare(o.dueDate||o.eventDate||""))}async function hp(){const r=new Date;r.setDate(r.getDate()+1);const o=r.toISOString().split("T")[0];return Ci({dueDateFrom:o,dueDateTo:o,isCompleted:!1})}async function pp(){const r=new Date,o=new Date(r);o.setDate(o.getDate()+7);const d=r.toISOString().split("T")[0],m=o.toISOString().split("T")[0];return Ci({dueDateFrom:d,dueDateTo:m,isCompleted:!1})}async function Mg(r){const o=[],d=new Date(r.startDate);for(let m=0;m<r.cycleCount;m++){const b=new Date(d);b.setDate(b.getDate()+m*r.intervalDays);const T=b.toISOString().split("T")[0],Y=await Fp({patientId:r.patientId,eventType:"chemo",title:` C${m+1} - ${r.regimen}`,eventDate:T,dueDate:T,mainPhysicianId:r.mainPhysicianId,note:r.note,fieldsJson:{regimen:r.regimen,cycle:m+1,totalCycles:r.cycleCount}});o.push(Y)}return o}async function e0(r){let o=await q.workItems.toArray();return r?.meetingTypeId&&(o=o.filter(d=>d.meetingTypeId===r.meetingTypeId)),r?.isCompleted!==void 0&&(o=o.filter(d=>d.isCompleted===r.isCompleted)),r?.startDate&&(o=o.filter(d=>d.scheduledDate>=r.startDate)),r?.endDate&&(o=o.filter(d=>d.scheduledDate<=r.endDate)),o.sort((d,m)=>d.scheduledDate.localeCompare(m.scheduledDate))}async function kg(r){const o=al();return q.workItems.add({...r,isCompleted:!1,createdAt:o,updatedAt:o})}async function zg(r,o){return await q.workItems.update(r,{...o,updatedAt:al()})>0}async function Bg(r){return await q.workItems.delete(r),!0}async function Rg(r){const o=await q.workItems.get(r);return o?(await q.workItems.update(r,{isCompleted:!o.isCompleted,updatedAt:al()}),!0):!1}async function Ug(){const r=new Date,o=new Date(r);return o.setDate(r.getDate()+7),e0({startDate:r.toISOString().split("T")[0],endDate:o.toISOString().split("T")[0],isCompleted:!1})}const t0=6048e5,qg=864e5,n0=6e4,a0=36e5,yp=Symbol.for("constructDateFrom");function yn(r,o){return typeof r=="function"?r(o):r&&typeof r=="object"&&yp in r?r[yp](o):r instanceof Date?new r.constructor(o):new Date(o)}function Vt(r,o){return yn(o||r,r)}function l0(r,o,d){const m=Vt(r,d?.in);return isNaN(o)?yn(r,NaN):(o&&m.setDate(m.getDate()+o),m)}function Gf(r,o,d){const m=Vt(r,d?.in);if(isNaN(o))return yn(r,NaN);if(!o)return m;const b=m.getDate(),T=yn(r,m.getTime());T.setMonth(m.getMonth()+o+1,0);const Y=T.getDate();return b>=Y?T:(m.setFullYear(T.getFullYear(),T.getMonth(),b),m)}let Hg={};function gu(){return Hg}function qr(r,o){const d=gu(),m=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??d.weekStartsOn??d.locale?.options?.weekStartsOn??0,b=Vt(r,o?.in),T=b.getDay(),Y=(T<m?7:0)+T-m;return b.setDate(b.getDate()-Y),b.setHours(0,0,0,0),b}function uu(r,o){return qr(r,{...o,weekStartsOn:1})}function s0(r,o){const d=Vt(r,o?.in),m=d.getFullYear(),b=yn(d,0);b.setFullYear(m+1,0,4),b.setHours(0,0,0,0);const T=uu(b),Y=yn(d,0);Y.setFullYear(m,0,4),Y.setHours(0,0,0,0);const L=uu(Y);return d.getTime()>=T.getTime()?m+1:d.getTime()>=L.getTime()?m:m-1}function vp(r){const o=Vt(r),d=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));return d.setUTCFullYear(o.getFullYear()),+r-+d}function xu(r,...o){const d=yn.bind(null,o.find(m=>typeof m=="object"));return o.map(d)}function ou(r,o){const d=Vt(r,o?.in);return d.setHours(0,0,0,0),d}function i0(r,o,d){const[m,b]=xu(d?.in,r,o),T=ou(m),Y=ou(b),L=+T-vp(T),C=+Y-vp(Y);return Math.round((L-C)/qg)}function Yg(r,o){const d=s0(r,o),m=yn(r,0);return m.setFullYear(d,0,4),m.setHours(0,0,0,0),uu(m)}function r0(r){return yn(r,Date.now())}function c0(r,o,d){const[m,b]=xu(d?.in,r,o);return+ou(m)==+ou(b)}function Lg(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Kg(r){return!(!Lg(r)&&typeof r!="number"||isNaN(+Vt(r)))}function Xg(r,o,d){const[m,b]=xu(d?.in,r,o),T=gp(m,b),Y=Math.abs(i0(m,b));m.setDate(m.getDate()-T*Y);const L=+(gp(m,b)===-T),C=T*(Y-L);return C===0?0:C}function gp(r,o){const d=r.getFullYear()-o.getFullYear()||r.getMonth()-o.getMonth()||r.getDate()-o.getDate()||r.getHours()-o.getHours()||r.getMinutes()-o.getMinutes()||r.getSeconds()-o.getSeconds()||r.getMilliseconds()-o.getMilliseconds();return d<0?-1:d>0?1:d}function u0(r,o){const d=Vt(r,o?.in),m=d.getMonth();return d.setFullYear(d.getFullYear(),m+1,0),d.setHours(23,59,59,999),d}function Gg(r,o){const[d,m]=xu(r,o.start,o.end);return{start:d,end:m}}function o0(r,o){const{start:d,end:m}=Gg(o?.in,r);let b=+d>+m;const T=b?+d:+m,Y=b?m:d;Y.setHours(0,0,0,0);let L=1;const C=[];for(;+Y<=T;)C.push(yn(d,Y)),Y.setDate(Y.getDate()+L),Y.setHours(0,0,0,0);return b?C.reverse():C}function f0(r,o){const d=Vt(r,o?.in);return d.setDate(1),d.setHours(0,0,0,0),d}function Qg(r,o){const d=Vt(r,o?.in);return d.setFullYear(d.getFullYear(),0,1),d.setHours(0,0,0,0),d}const Vg={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zg=(r,o,d)=>{let m;const b=Vg[r];return typeof b=="string"?m=b:o===1?m=b.one:m=b.other.replace("{{count}}",o.toString()),d?.addSuffix?d.comparison&&d.comparison>0?"in "+m:m+" ago":m};function Ti(r){return(o={})=>{const d=o.width?String(o.width):r.defaultWidth;return r.formats[d]||r.formats[r.defaultWidth]}}const Jg={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ig={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$g={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fg={date:Ti({formats:Jg,defaultWidth:"full"}),time:Ti({formats:Ig,defaultWidth:"full"}),dateTime:Ti({formats:$g,defaultWidth:"full"})},Wg={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Pg=(r,o,d,m)=>Wg[r];function ba(r){return(o,d)=>{const m=d?.context?String(d.context):"standalone";let b;if(m==="formatting"&&r.formattingValues){const Y=r.defaultFormattingWidth||r.defaultWidth,L=d?.width?String(d.width):Y;b=r.formattingValues[L]||r.formattingValues[Y]}else{const Y=r.defaultWidth,L=d?.width?String(d.width):r.defaultWidth;b=r.values[L]||r.values[Y]}const T=r.argumentCallback?r.argumentCallback(o):o;return b[T]}}const ex={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tx={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nx={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ax={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ix=(r,o)=>{const d=Number(r),m=d%100;if(m>20||m<10)switch(m%10){case 1:return d+"st";case 2:return d+"nd";case 3:return d+"rd"}return d+"th"},rx={ordinalNumber:ix,era:ba({values:ex,defaultWidth:"wide"}),quarter:ba({values:tx,defaultWidth:"wide",argumentCallback:r=>r-1}),month:ba({values:nx,defaultWidth:"wide"}),day:ba({values:ax,defaultWidth:"wide"}),dayPeriod:ba({values:lx,defaultWidth:"wide",formattingValues:sx,defaultFormattingWidth:"wide"})};function ja(r){return(o,d={})=>{const m=d.width,b=m&&r.matchPatterns[m]||r.matchPatterns[r.defaultMatchWidth],T=o.match(b);if(!T)return null;const Y=T[0],L=m&&r.parsePatterns[m]||r.parsePatterns[r.defaultParseWidth],C=Array.isArray(L)?ux(L,U=>U.test(Y)):cx(L,U=>U.test(Y));let D;D=r.valueCallback?r.valueCallback(C):C,D=d.valueCallback?d.valueCallback(D):D;const ee=o.slice(Y.length);return{value:D,rest:ee}}}function cx(r,o){for(const d in r)if(Object.prototype.hasOwnProperty.call(r,d)&&o(r[d]))return d}function ux(r,o){for(let d=0;d<r.length;d++)if(o(r[d]))return d}function d0(r){return(o,d={})=>{const m=o.match(r.matchPattern);if(!m)return null;const b=m[0],T=o.match(r.parsePattern);if(!T)return null;let Y=r.valueCallback?r.valueCallback(T[0]):T[0];Y=d.valueCallback?d.valueCallback(Y):Y;const L=o.slice(b.length);return{value:Y,rest:L}}}const ox=/^(\d+)(th|st|nd|rd)?/i,fx=/\d+/i,dx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mx={any:[/^b/i,/^(a|c)/i]},hx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},px={any:[/1/i,/2/i,/3/i,/4/i]},yx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wx={ordinalNumber:d0({matchPattern:ox,parsePattern:fx,valueCallback:r=>parseInt(r,10)}),era:ja({matchPatterns:dx,defaultMatchWidth:"wide",parsePatterns:mx,defaultParseWidth:"any"}),quarter:ja({matchPatterns:hx,defaultMatchWidth:"wide",parsePatterns:px,defaultParseWidth:"any",valueCallback:r=>r+1}),month:ja({matchPatterns:yx,defaultMatchWidth:"wide",parsePatterns:vx,defaultParseWidth:"any"}),day:ja({matchPatterns:gx,defaultMatchWidth:"wide",parsePatterns:xx,defaultParseWidth:"any"}),dayPeriod:ja({matchPatterns:bx,defaultMatchWidth:"any",parsePatterns:jx,defaultParseWidth:"any"})},Nx={code:"en-US",formatDistance:Zg,formatLong:Fg,formatRelative:Pg,localize:rx,match:wx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Sx(r,o){const d=Vt(r,o?.in);return i0(d,Qg(d))+1}function Tx(r,o){const d=Vt(r,o?.in),m=+uu(d)-+Yg(d);return Math.round(m/t0)+1}function m0(r,o){const d=Vt(r,o?.in),m=d.getFullYear(),b=gu(),T=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??b.firstWeekContainsDate??b.locale?.options?.firstWeekContainsDate??1,Y=yn(o?.in||r,0);Y.setFullYear(m+1,0,T),Y.setHours(0,0,0,0);const L=qr(Y,o),C=yn(o?.in||r,0);C.setFullYear(m,0,T),C.setHours(0,0,0,0);const D=qr(C,o);return+d>=+L?m+1:+d>=+D?m:m-1}function _x(r,o){const d=gu(),m=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??d.firstWeekContainsDate??d.locale?.options?.firstWeekContainsDate??1,b=m0(r,o),T=yn(o?.in||r,0);return T.setFullYear(b,0,m),T.setHours(0,0,0,0),qr(T,o)}function Dx(r,o){const d=Vt(r,o?.in),m=+qr(d,o)-+_x(d,o);return Math.round(m/t0)+1}function yt(r,o){const d=r<0?"-":"",m=Math.abs(r).toString().padStart(o,"0");return d+m}const Kl={y(r,o){const d=r.getFullYear(),m=d>0?d:1-d;return yt(o==="yy"?m%100:m,o.length)},M(r,o){const d=r.getMonth();return o==="M"?String(d+1):yt(d+1,2)},d(r,o){return yt(r.getDate(),o.length)},a(r,o){const d=r.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return d.toUpperCase();case"aaa":return d;case"aaaaa":return d[0];default:return d==="am"?"a.m.":"p.m."}},h(r,o){return yt(r.getHours()%12||12,o.length)},H(r,o){return yt(r.getHours(),o.length)},m(r,o){return yt(r.getMinutes(),o.length)},s(r,o){return yt(r.getSeconds(),o.length)},S(r,o){const d=o.length,m=r.getMilliseconds(),b=Math.trunc(m*Math.pow(10,d-3));return yt(b,o.length)}},wi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xp={G:function(r,o,d){const m=r.getFullYear()>0?1:0;switch(o){case"G":case"GG":case"GGG":return d.era(m,{width:"abbreviated"});case"GGGGG":return d.era(m,{width:"narrow"});default:return d.era(m,{width:"wide"})}},y:function(r,o,d){if(o==="yo"){const m=r.getFullYear(),b=m>0?m:1-m;return d.ordinalNumber(b,{unit:"year"})}return Kl.y(r,o)},Y:function(r,o,d,m){const b=m0(r,m),T=b>0?b:1-b;if(o==="YY"){const Y=T%100;return yt(Y,2)}return o==="Yo"?d.ordinalNumber(T,{unit:"year"}):yt(T,o.length)},R:function(r,o){const d=s0(r);return yt(d,o.length)},u:function(r,o){const d=r.getFullYear();return yt(d,o.length)},Q:function(r,o,d){const m=Math.ceil((r.getMonth()+1)/3);switch(o){case"Q":return String(m);case"QQ":return yt(m,2);case"Qo":return d.ordinalNumber(m,{unit:"quarter"});case"QQQ":return d.quarter(m,{width:"abbreviated",context:"formatting"});case"QQQQQ":return d.quarter(m,{width:"narrow",context:"formatting"});default:return d.quarter(m,{width:"wide",context:"formatting"})}},q:function(r,o,d){const m=Math.ceil((r.getMonth()+1)/3);switch(o){case"q":return String(m);case"qq":return yt(m,2);case"qo":return d.ordinalNumber(m,{unit:"quarter"});case"qqq":return d.quarter(m,{width:"abbreviated",context:"standalone"});case"qqqqq":return d.quarter(m,{width:"narrow",context:"standalone"});default:return d.quarter(m,{width:"wide",context:"standalone"})}},M:function(r,o,d){const m=r.getMonth();switch(o){case"M":case"MM":return Kl.M(r,o);case"Mo":return d.ordinalNumber(m+1,{unit:"month"});case"MMM":return d.month(m,{width:"abbreviated",context:"formatting"});case"MMMMM":return d.month(m,{width:"narrow",context:"formatting"});default:return d.month(m,{width:"wide",context:"formatting"})}},L:function(r,o,d){const m=r.getMonth();switch(o){case"L":return String(m+1);case"LL":return yt(m+1,2);case"Lo":return d.ordinalNumber(m+1,{unit:"month"});case"LLL":return d.month(m,{width:"abbreviated",context:"standalone"});case"LLLLL":return d.month(m,{width:"narrow",context:"standalone"});default:return d.month(m,{width:"wide",context:"standalone"})}},w:function(r,o,d,m){const b=Dx(r,m);return o==="wo"?d.ordinalNumber(b,{unit:"week"}):yt(b,o.length)},I:function(r,o,d){const m=Tx(r);return o==="Io"?d.ordinalNumber(m,{unit:"week"}):yt(m,o.length)},d:function(r,o,d){return o==="do"?d.ordinalNumber(r.getDate(),{unit:"date"}):Kl.d(r,o)},D:function(r,o,d){const m=Sx(r);return o==="Do"?d.ordinalNumber(m,{unit:"dayOfYear"}):yt(m,o.length)},E:function(r,o,d){const m=r.getDay();switch(o){case"E":case"EE":case"EEE":return d.day(m,{width:"abbreviated",context:"formatting"});case"EEEEE":return d.day(m,{width:"narrow",context:"formatting"});case"EEEEEE":return d.day(m,{width:"short",context:"formatting"});default:return d.day(m,{width:"wide",context:"formatting"})}},e:function(r,o,d,m){const b=r.getDay(),T=(b-m.weekStartsOn+8)%7||7;switch(o){case"e":return String(T);case"ee":return yt(T,2);case"eo":return d.ordinalNumber(T,{unit:"day"});case"eee":return d.day(b,{width:"abbreviated",context:"formatting"});case"eeeee":return d.day(b,{width:"narrow",context:"formatting"});case"eeeeee":return d.day(b,{width:"short",context:"formatting"});default:return d.day(b,{width:"wide",context:"formatting"})}},c:function(r,o,d,m){const b=r.getDay(),T=(b-m.weekStartsOn+8)%7||7;switch(o){case"c":return String(T);case"cc":return yt(T,o.length);case"co":return d.ordinalNumber(T,{unit:"day"});case"ccc":return d.day(b,{width:"abbreviated",context:"standalone"});case"ccccc":return d.day(b,{width:"narrow",context:"standalone"});case"cccccc":return d.day(b,{width:"short",context:"standalone"});default:return d.day(b,{width:"wide",context:"standalone"})}},i:function(r,o,d){const m=r.getDay(),b=m===0?7:m;switch(o){case"i":return String(b);case"ii":return yt(b,o.length);case"io":return d.ordinalNumber(b,{unit:"day"});case"iii":return d.day(m,{width:"abbreviated",context:"formatting"});case"iiiii":return d.day(m,{width:"narrow",context:"formatting"});case"iiiiii":return d.day(m,{width:"short",context:"formatting"});default:return d.day(m,{width:"wide",context:"formatting"})}},a:function(r,o,d){const b=r.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return d.dayPeriod(b,{width:"abbreviated",context:"formatting"});case"aaa":return d.dayPeriod(b,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return d.dayPeriod(b,{width:"narrow",context:"formatting"});default:return d.dayPeriod(b,{width:"wide",context:"formatting"})}},b:function(r,o,d){const m=r.getHours();let b;switch(m===12?b=wi.noon:m===0?b=wi.midnight:b=m/12>=1?"pm":"am",o){case"b":case"bb":return d.dayPeriod(b,{width:"abbreviated",context:"formatting"});case"bbb":return d.dayPeriod(b,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return d.dayPeriod(b,{width:"narrow",context:"formatting"});default:return d.dayPeriod(b,{width:"wide",context:"formatting"})}},B:function(r,o,d){const m=r.getHours();let b;switch(m>=17?b=wi.evening:m>=12?b=wi.afternoon:m>=4?b=wi.morning:b=wi.night,o){case"B":case"BB":case"BBB":return d.dayPeriod(b,{width:"abbreviated",context:"formatting"});case"BBBBB":return d.dayPeriod(b,{width:"narrow",context:"formatting"});default:return d.dayPeriod(b,{width:"wide",context:"formatting"})}},h:function(r,o,d){if(o==="ho"){let m=r.getHours()%12;return m===0&&(m=12),d.ordinalNumber(m,{unit:"hour"})}return Kl.h(r,o)},H:function(r,o,d){return o==="Ho"?d.ordinalNumber(r.getHours(),{unit:"hour"}):Kl.H(r,o)},K:function(r,o,d){const m=r.getHours()%12;return o==="Ko"?d.ordinalNumber(m,{unit:"hour"}):yt(m,o.length)},k:function(r,o,d){let m=r.getHours();return m===0&&(m=24),o==="ko"?d.ordinalNumber(m,{unit:"hour"}):yt(m,o.length)},m:function(r,o,d){return o==="mo"?d.ordinalNumber(r.getMinutes(),{unit:"minute"}):Kl.m(r,o)},s:function(r,o,d){return o==="so"?d.ordinalNumber(r.getSeconds(),{unit:"second"}):Kl.s(r,o)},S:function(r,o){return Kl.S(r,o)},X:function(r,o,d){const m=r.getTimezoneOffset();if(m===0)return"Z";switch(o){case"X":return jp(m);case"XXXX":case"XX":return _s(m);default:return _s(m,":")}},x:function(r,o,d){const m=r.getTimezoneOffset();switch(o){case"x":return jp(m);case"xxxx":case"xx":return _s(m);default:return _s(m,":")}},O:function(r,o,d){const m=r.getTimezoneOffset();switch(o){case"O":case"OO":case"OOO":return"GMT"+bp(m,":");default:return"GMT"+_s(m,":")}},z:function(r,o,d){const m=r.getTimezoneOffset();switch(o){case"z":case"zz":case"zzz":return"GMT"+bp(m,":");default:return"GMT"+_s(m,":")}},t:function(r,o,d){const m=Math.trunc(+r/1e3);return yt(m,o.length)},T:function(r,o,d){return yt(+r,o.length)}};function bp(r,o=""){const d=r>0?"-":"+",m=Math.abs(r),b=Math.trunc(m/60),T=m%60;return T===0?d+String(b):d+String(b)+o+yt(T,2)}function jp(r,o){return r%60===0?(r>0?"-":"+")+yt(Math.abs(r)/60,2):_s(r,o)}function _s(r,o=""){const d=r>0?"-":"+",m=Math.abs(r),b=yt(Math.trunc(m/60),2),T=yt(m%60,2);return d+b+o+T}const wp=(r,o)=>{switch(r){case"P":return o.date({width:"short"});case"PP":return o.date({width:"medium"});case"PPP":return o.date({width:"long"});default:return o.date({width:"full"})}},h0=(r,o)=>{switch(r){case"p":return o.time({width:"short"});case"pp":return o.time({width:"medium"});case"ppp":return o.time({width:"long"});default:return o.time({width:"full"})}},Cx=(r,o)=>{const d=r.match(/(P+)(p+)?/)||[],m=d[1],b=d[2];if(!b)return wp(r,o);let T;switch(m){case"P":T=o.dateTime({width:"short"});break;case"PP":T=o.dateTime({width:"medium"});break;case"PPP":T=o.dateTime({width:"long"});break;default:T=o.dateTime({width:"full"});break}return T.replace("{{date}}",wp(m,o)).replace("{{time}}",h0(b,o))},Ex={p:h0,P:Cx},Ox=/^D+$/,Ax=/^Y+$/,Mx=["D","DD","YY","YYYY"];function kx(r){return Ox.test(r)}function zx(r){return Ax.test(r)}function Bx(r,o,d){const m=Rx(r,o,d);if(console.warn(m),Mx.includes(r))throw new RangeError(m)}function Rx(r,o,d){const m=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${o}\`) for formatting ${m} to the input \`${d}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ux=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hx=/^'([^]*?)'?$/,Yx=/''/g,Lx=/[a-zA-Z]/;function Sn(r,o,d){const m=gu(),b=d?.locale??m.locale??Nx,T=d?.firstWeekContainsDate??d?.locale?.options?.firstWeekContainsDate??m.firstWeekContainsDate??m.locale?.options?.firstWeekContainsDate??1,Y=d?.weekStartsOn??d?.locale?.options?.weekStartsOn??m.weekStartsOn??m.locale?.options?.weekStartsOn??0,L=Vt(r,d?.in);if(!Kg(L))throw new RangeError("Invalid time value");let C=o.match(qx).map(ee=>{const U=ee[0];if(U==="p"||U==="P"){const te=Ex[U];return te(ee,b.formatLong)}return ee}).join("").match(Ux).map(ee=>{if(ee==="''")return{isToken:!1,value:"'"};const U=ee[0];if(U==="'")return{isToken:!1,value:Kx(ee)};if(xp[U])return{isToken:!0,value:ee};if(U.match(Lx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+U+"`");return{isToken:!1,value:ee}});b.localize.preprocessor&&(C=b.localize.preprocessor(L,C));const D={firstWeekContainsDate:T,weekStartsOn:Y,locale:b};return C.map(ee=>{if(!ee.isToken)return ee.value;const U=ee.value;(!d?.useAdditionalWeekYearTokens&&zx(U)||!d?.useAdditionalDayOfYearTokens&&kx(U))&&Bx(U,o,String(r));const te=xp[U[0]];return te(L,U,b.localize,D)}).join("")}function Kx(r){const o=r.match(Hx);return o?o[1].replace(Yx,"'"):r}function Xx(r,o){return Vt(r,o?.in).getDay()}function Qf(r){return+Vt(r)<Date.now()}function wa(r,o){return c0(yn(r,r),r0(r))}function fu(r,o){return c0(r,l0(r0(r),1),o)}function aa(r,o){const d=()=>yn(o?.in,NaN),b=Zx(r);let T;if(b.date){const D=Jx(b.date,2);T=Ix(D.restDateString,D.year)}if(!T||isNaN(+T))return d();const Y=+T;let L=0,C;if(b.time&&(L=$x(b.time),isNaN(L)))return d();if(b.timezone){if(C=Fx(b.timezone),isNaN(C))return d()}else{const D=new Date(Y+L),ee=Vt(0,o?.in);return ee.setFullYear(D.getUTCFullYear(),D.getUTCMonth(),D.getUTCDate()),ee.setHours(D.getUTCHours(),D.getUTCMinutes(),D.getUTCSeconds(),D.getUTCMilliseconds()),ee}return Vt(Y+L+C,o?.in)}const nu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Gx=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Qx=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Vx=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Zx(r){const o={},d=r.split(nu.dateTimeDelimiter);let m;if(d.length>2)return o;if(/:/.test(d[0])?m=d[0]:(o.date=d[0],m=d[1],nu.timeZoneDelimiter.test(o.date)&&(o.date=r.split(nu.timeZoneDelimiter)[0],m=r.substr(o.date.length,r.length))),m){const b=nu.timezone.exec(m);b?(o.time=m.replace(b[1],""),o.timezone=b[1]):o.time=m}return o}function Jx(r,o){const d=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+o)+"})|(\\d{2}|[+-]\\d{"+(2+o)+"})$)"),m=r.match(d);if(!m)return{year:NaN,restDateString:""};const b=m[1]?parseInt(m[1]):null,T=m[2]?parseInt(m[2]):null;return{year:T===null?b:T*100,restDateString:r.slice((m[1]||m[2]).length)}}function Ix(r,o){if(o===null)return new Date(NaN);const d=r.match(Gx);if(!d)return new Date(NaN);const m=!!d[4],b=Rr(d[1]),T=Rr(d[2])-1,Y=Rr(d[3]),L=Rr(d[4]),C=Rr(d[5])-1;if(m)return nb(o,L,C)?Wx(o,L,C):new Date(NaN);{const D=new Date(0);return!eb(o,T,Y)||!tb(o,b)?new Date(NaN):(D.setUTCFullYear(o,T,Math.max(b,Y)),D)}}function Rr(r){return r?parseInt(r):1}function $x(r){const o=r.match(Qx);if(!o)return NaN;const d=Nf(o[1]),m=Nf(o[2]),b=Nf(o[3]);return ab(d,m,b)?d*a0+m*n0+b*1e3:NaN}function Nf(r){return r&&parseFloat(r.replace(",","."))||0}function Fx(r){if(r==="Z")return 0;const o=r.match(Vx);if(!o)return 0;const d=o[1]==="+"?-1:1,m=parseInt(o[2]),b=o[3]&&parseInt(o[3])||0;return lb(m,b)?d*(m*a0+b*n0):NaN}function Wx(r,o,d){const m=new Date(0);m.setUTCFullYear(r,0,4);const b=m.getUTCDay()||7,T=(o-1)*7+d+1-b;return m.setUTCDate(m.getUTCDate()+T),m}const Px=[31,null,31,30,31,30,31,31,30,31,30,31];function p0(r){return r%400===0||r%4===0&&r%100!==0}function eb(r,o,d){return o>=0&&o<=11&&d>=1&&d<=(Px[o]||(p0(r)?29:28))}function tb(r,o){return o>=1&&o<=(p0(r)?366:365)}function nb(r,o,d){return o>=1&&o<=53&&d>=0&&d<=6}function ab(r,o,d){return r===24?o===0&&d===0:d>=0&&d<60&&o>=0&&o<60&&r>=0&&r<25}function lb(r,o){return o>=0&&o<=59}function y0(r,o,d){return Gf(r,-1,d)}const sb={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},ib=(r,o,d)=>{let m;const b=sb[r];return typeof b=="string"?m=b:o===1?m=b.one:m=b.other.replace("{{count}}",String(o)),d?.addSuffix?d.comparison&&d.comparison>0?m+"":m+"":m},rb={full:"y''M''d'' EEEE",long:"y''M''d''",medium:"yyyy-MM-dd",short:"yy-MM-dd"},cb={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},ub={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},ob={date:Ti({formats:rb,defaultWidth:"full"}),time:Ti({formats:cb,defaultWidth:"full"}),dateTime:Ti({formats:ub,defaultWidth:"full"})},fb={lastWeek:"''eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"''eeee p",other:"P"},db=(r,o,d,m)=>fb[r],mb={narrow:["",""],abbreviated:["",""],wide:["",""]},hb={narrow:["1","2","3","4"],abbreviated:["","","",""],wide:["","","",""]},pb={narrow:["","","","","","","","","","","",""],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["","","","","","","","","","","",""]},yb={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},vb={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},gb={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},xb=(r,o)=>{const d=Number(r);switch(o?.unit){case"date":return d+"";case"hour":return d+"";case"minute":return d+"";case"second":return d+"";default:return" "+d}},bb={ordinalNumber:xb,era:ba({values:mb,defaultWidth:"wide"}),quarter:ba({values:hb,defaultWidth:"wide",argumentCallback:r=>r-1}),month:ba({values:pb,defaultWidth:"wide"}),day:ba({values:yb,defaultWidth:"wide"}),dayPeriod:ba({values:vb,defaultWidth:"wide",formattingValues:gb,defaultFormattingWidth:"wide"})},jb=/^(\s*)?\d+(|||)?/i,wb=/\d+/i,Nb={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},Sb={any:[/^()/i,/^()/i]},Tb={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},_b={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},Db={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},Cb={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},Eb={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},Ob={any:[//i,//i,//i,//i,//i,//i,//i]},Ab={any:/^(?|?||[]|?||?|)/i},Mb={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},kb={ordinalNumber:d0({matchPattern:jb,parsePattern:wb,valueCallback:r=>parseInt(r,10)}),era:ja({matchPatterns:Nb,defaultMatchWidth:"wide",parsePatterns:Sb,defaultParseWidth:"any"}),quarter:ja({matchPatterns:Tb,defaultMatchWidth:"wide",parsePatterns:_b,defaultParseWidth:"any",valueCallback:r=>r+1}),month:ja({matchPatterns:Db,defaultMatchWidth:"wide",parsePatterns:Cb,defaultParseWidth:"any"}),day:ja({matchPatterns:Eb,defaultMatchWidth:"wide",parsePatterns:Ob,defaultParseWidth:"any"}),dayPeriod:ja({matchPatterns:Ab,defaultMatchWidth:"any",parsePatterns:Mb,defaultParseWidth:"any"})},ta={code:"zh-TW",formatDistance:ib,formatLong:ob,formatRelative:db,localize:bb,match:kb,options:{weekStartsOn:1,firstWeekContainsDate:4}},Np=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500","bg-teal-500","bg-red-500","bg-indigo-500","bg-yellow-500","bg-cyan-500"];function Sp(){const[r,o]=H.useState({activePatients:0,pendingEvents:0,overdueEvents:0,todayEvents:0,weekWorkItems:0}),[d,m]=H.useState([]),[b,T]=H.useState([]),[Y,L]=H.useState([]),[C,D]=H.useState(!0),[ee,U]=H.useState(!1),[te,ue]=H.useState("overview"),oe=Sa(w=>w.lastBackupDate),{setCurrentPage:de}=Hr();H.useEffect(()=>{_e()},[]);const _e=async()=>{try{const w=new Date().toISOString().split("T")[0],[xe,ve,fe,ce,qe,Qe]=await Promise.all([q.patients.where("status").equals("active").count(),q.events.where("isCompleted").equals(0).toArray(),Of(),q.cancerTypes.toArray(),q.patients.toArray(),Ug()]);let Fe=0,at=0;ve.forEach(he=>{he.dueDate&&he.dueDate===w&&at++,Fe++}),o({activePatients:xe,pendingEvents:Fe,overdueEvents:fe.length,todayEvents:at,weekWorkItems:Qe.length}),T(fe.slice(0,5)),L(Qe.slice(0,5));const ne={};qe.forEach(he=>{he.cancerTypeId&&(ne[he.cancerTypeId]=(ne[he.cancerTypeId]||0)+1)});const ge=ce.filter(he=>ne[he.id]).map((he,Ee)=>({name:he.name,code:he.code,count:ne[he.id]||0,color:Np[Ee%Np.length]})).sort((he,Ee)=>Ee.count-he.count);m(ge)}catch(w){console.error(":",w),je.error("")}finally{D(!1)}},we=async()=>{U(!0);try{const w=await qf();je.success(`${w}`),Sa.getState().setLastBackupDate(new Date().toISOString().split("T")[0])}catch(w){je.error(`${w.message}`)}finally{U(!1)}},Oe=()=>{if(!oe)return"";try{const w=aa(oe);return wa(w)?"":Sn(w,"MM/dd (EEEE)",{locale:ta})}catch{return oe}};return C?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):l.jsxs("div",{className:"p-3 md:p-6 space-y-3 md:space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:$p,alt:"Logo",className:"w-10 h-10 rounded-lg md:hidden"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsx("h1",{className:"text-base md:text-2xl font-bold text-slate-800",children:Bp}),l.jsxs("span",{className:"text-xs text-slate-400",children:["V",pu]})]}),l.jsx("p",{className:"text-xs text-slate-500",children:Sn(new Date,"MM/dd EEEE",{locale:ta})})]})]}),l.jsxs("div",{className:"flex gap-1 border-b border-slate-200",children:[l.jsx("button",{onClick:()=>ue("overview"),className:`px-3 py-1.5 text-sm font-medium border-b-2 transition-colors ${te==="overview"?"border-primary-500 text-primary-600":"border-transparent text-slate-500"}`,children:""}),l.jsxs("button",{onClick:()=>ue("stats"),className:`px-3 py-1.5 text-sm font-medium border-b-2 transition-colors flex items-center gap-1 ${te==="stats"?"border-primary-500 text-primary-600":"border-transparent text-slate-500"}`,children:[l.jsx(op,{className:"w-4 h-4"}),""]})]}),te==="overview"?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`card !p-3 ${!oe||oe!==new Date().toISOString().split("T")[0]?"border-amber-300 bg-amber-50":"border-green-300 bg-green-50"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[oe===new Date().toISOString().split("T")[0]?l.jsx(Xl,{className:"w-5 h-5 text-green-600"}):l.jsx(Na,{className:"w-5 h-5 text-amber-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-800",children:""}),l.jsx("p",{className:"text-xs text-slate-600",children:Oe()})]})]}),l.jsxs("button",{onClick:we,disabled:ee,className:"btn-primary text-sm py-1.5 px-3 flex items-center gap-1",children:[l.jsx(ru,{className:"w-4 h-4"}),ee?"...":_i()?"":""]})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 md:grid-cols-4 md:gap-4",children:[l.jsx(au,{icon:Xf,label:"",value:r.activePatients,color:"blue",onClick:()=>de("patients")}),l.jsx(au,{icon:nl,label:"",value:r.todayEvents,color:"green",onClick:()=>de("events")}),l.jsx(au,{icon:Na,label:"",value:r.overdueEvents,color:"red",onClick:()=>de("events")}),l.jsx(au,{icon:Ds,label:"",value:r.weekWorkItems,color:"primary",onClick:()=>de("work")})]}),l.jsxs("div",{className:"card !p-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("h3",{className:"text-sm font-semibold text-slate-800 flex items-center gap-1",children:[l.jsx(Na,{className:"w-4 h-4 text-red-500"}),""]}),r.overdueEvents>0&&l.jsxs("button",{onClick:()=>de("events"),className:"text-xs text-primary-500 hover:underline flex items-center",children:[" ",l.jsx(Di,{className:"w-3 h-3"})]})]}),b.length===0?l.jsxs("div",{className:"text-center py-3 text-slate-500",children:[l.jsx(Xl,{className:"w-8 h-8 mx-auto mb-1 text-green-500"}),l.jsx("p",{className:"text-sm",children:" "})]}):l.jsxs("div",{className:"space-y-1.5",children:[b.map(w=>l.jsx(Bb,{event:w},w.id)),r.overdueEvents>5&&l.jsxs("p",{className:"text-center text-xs text-slate-400 pt-1",children:[" ",r.overdueEvents-5," ..."]})]})]}),l.jsxs("div",{className:"card !p-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("h3",{className:"text-sm font-semibold text-slate-800 flex items-center gap-1",children:[l.jsx(Ds,{className:"w-4 h-4 text-primary-500"}),""]}),r.weekWorkItems>0&&l.jsxs("button",{onClick:()=>de("work"),className:"text-xs text-primary-500 hover:underline flex items-center",children:[" ",l.jsx(Di,{className:"w-3 h-3"})]})]}),Y.length===0?l.jsxs("div",{className:"text-center py-4 text-slate-500",children:[l.jsx(Xl,{className:"w-8 h-8 mx-auto mb-1 text-green-500"}),l.jsx("p",{className:"text-sm",children:""})]}):l.jsxs("div",{className:"space-y-1.5",children:[Y.map(w=>l.jsx("div",{className:"flex items-center gap-2 p-2 bg-slate-50 rounded-lg",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:w.title}),l.jsxs("p",{className:"text-xs text-slate-500",children:[Sn(aa(w.scheduledDate),"MM/dd (EEE)",{locale:ta}),w.scheduledTime&&` ${w.scheduledTime}`]})]})},w.id)),r.weekWorkItems>5&&l.jsxs("p",{className:"text-center text-xs text-slate-400 pt-1",children:[" ",r.weekWorkItems-5," ..."]})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"card",children:[l.jsxs("h3",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx(op,{className:"w-5 h-5 text-primary-500"}),""]}),d.length===0?l.jsx("p",{className:"text-center py-8 text-slate-400",children:""}):l.jsx("div",{className:"space-y-3",children:d.map(w=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${w.color}`}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",children:w.name}),l.jsxs("span",{className:"text-sm text-slate-500",children:[w.count," "]})]}),l.jsx("div",{className:"mt-1 h-2 bg-slate-100 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${w.color} rounded-full transition-all`,style:{width:`${r.activePatients>0?w.count/r.activePatients*100:0}%`}})})]})]},w.code))})]}),l.jsxs("div",{className:"card",children:[l.jsxs("h3",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx(nl,{className:"w-5 h-5 text-primary-500"}),""]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg",children:[l.jsx("p",{className:"text-3xl font-bold text-slate-800",children:r.pendingEvents}),l.jsx("p",{className:"text-sm text-slate-500",children:""})]}),l.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg",children:[l.jsx("p",{className:"text-3xl font-bold text-red-600",children:r.overdueEvents}),l.jsx("p",{className:"text-sm text-slate-500",children:""})]})]})]})]})]})}const zb={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",primary:"bg-primary-100 text-primary-600",red:"bg-red-100 text-red-600"};function au({icon:r,label:o,value:d,color:m,onClick:b}){return l.jsxs("div",{className:`card !p-3 ${b?"cursor-pointer hover:shadow-md transition-shadow":""}`,onClick:b,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`inline-flex p-1.5 rounded-lg ${zb[m]}`,children:l.jsx(r,{className:"w-4 h-4"})}),l.jsx("p",{className:"text-xl font-bold text-slate-800",children:d})]}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:o})]})}function Bb({event:r}){const o=zf[r.eventType]||r.eventType,d=Math.floor((new Date().getTime()-new Date(r.dueDate).getTime())/(1e3*60*60*24));return l.jsxs("div",{className:"flex items-center gap-3 p-2 bg-red-50 rounded-lg",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:r.title}),l.jsx("p",{className:"text-xs text-slate-500",children:o})]}),l.jsxs("span",{className:"text-xs text-red-600 font-medium whitespace-nowrap",children:[" ",d," "]})]})}async function v0(r){let o=q.patients.toCollection();r?.status&&r.status!=="all"&&(o=q.patients.where("status").equals(r.status));let d=await o.toArray();if(r?.cancerTypeId&&(d=d.filter(m=>m.cancerTypeId===r.cancerTypeId)),r?.search){const m=r.search.toLowerCase();d=d.filter(b=>b.mrn.toLowerCase().includes(m)||b.name.toLowerCase().includes(m))}return d.sort((m,b)=>(b.updatedAt||"").localeCompare(m.updatedAt||"")),d}async function Rb(r){return q.patients.get(r)}async function g0(r){return q.patients.where("mrn").equals(r).first()}async function Ub(r){if(await g0(r.mrn))throw new Error(` ${r.mrn} `);const d=al();return await q.patients.add({mrn:r.mrn,name:r.name,sex:r.sex,birthDate:r.birthDate,cancerTypeId:r.cancerTypeId,physicianIds:r.physicianIds||[],status:r.status||"active",createdAt:d,updatedAt:d})}async function qb(r,o){if(o.mrn){const m=await g0(o.mrn);if(m&&m.id!==r)throw new Error(` ${o.mrn} `)}return await q.patients.update(r,{...o,updatedAt:al()})>0}async function Hb(r){return await q.events.where("patientId").equals(r).delete(),await q.patientPhysicians.where("patientId").equals(r).delete(),await q.patients.delete(r),!0}async function x0(r){return q.events.where("patientId").equals(r).toArray()}async function Yb(r){const o=await x0(r);return{total:o.length,pending:o.filter(d=>!d.isCompleted).length,completed:o.filter(d=>d.isCompleted).length}}async function Vf(r=!1){let o=await q.cancerTypes.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.sortOrder-m.sortOrder)}async function Lb(r){return q.cancerTypes.get(r)}async function Kb(r){const o=await Ei("cancerTypes");return q.cancerTypes.add({...r,sortOrder:r.sortOrder??o+10,isActive:!0})}async function Tp(r,o){return await q.cancerTypes.update(r,o)>0}async function Xb(r){return await q.cancerTypes.delete(r),!0}async function Gb(r){await q.transaction("rw",q.cancerTypes,async()=>{for(let o=0;o<r.length;o++)await q.cancerTypes.update(r[o],{sortOrder:(o+1)*10})})}async function bu(r=!1){let o=await q.departments.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.sortOrder-m.sortOrder)}async function Qb(r){const o=await Ei("departments");return q.departments.add({...r,sortOrder:r.sortOrder??o+10,isActive:!0})}async function Vb(r,o){return await q.departments.update(r,o)>0}async function Zb(r){if(await q.physicians.where("departmentId").equals(r).count()>0)throw new Error("");return await q.departments.delete(r),!0}async function Jb(r){await q.transaction("rw",q.departments,async()=>{for(let o=0;o<r.length;o++)await q.departments.update(r[o],{sortOrder:(o+1)*10})})}async function Ib(r=!1){let o=await q.physicians.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.name.localeCompare(m.name))}async function du(r,o=!1){let d=await q.physicians.where("departmentId").equals(r).toArray();return o||(d=d.filter(m=>m.isActive)),d.sort((m,b)=>m.name.localeCompare(b.name))}async function $b(r){return q.physicians.add({...r,isActive:!0})}async function _p(r,o){return await q.physicians.update(r,o)>0}async function Fb(r){return await q.physicians.delete(r),!0}async function Wb(r=!1){let o=await q.imagingTypes.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.sortOrder-m.sortOrder)}async function Pb(r){const o=await Ei("imagingTypes");return q.imagingTypes.add({...r,sortOrder:r.sortOrder??o+10,isActive:!0})}async function Dp(r,o){return await q.imagingTypes.update(r,o)>0}async function e1(r){return await q.imagingTypes.delete(r),!0}async function t1(r){await q.transaction("rw",q.imagingTypes,async()=>{for(let o=0;o<r.length;o++)await q.imagingTypes.update(r[o],{sortOrder:(o+1)*10})})}async function Zf(r=!1){let o=await q.eventTypes.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.sortOrder-m.sortOrder)}async function n1(r){const o=await Ei("eventTypes");return q.eventTypes.add({...r,sortOrder:r.sortOrder??o+10,isActive:!0})}async function Cp(r,o){return await q.eventTypes.update(r,o)>0}async function a1(r){return await q.eventTypes.delete(r),!0}async function l1(r){await q.transaction("rw",q.eventTypes,async()=>{for(let o=0;o<r.length;o++)await q.eventTypes.update(r[o],{sortOrder:(o+1)*10})})}async function b0(r=!1){let o=await q.meetingTypes.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.sortOrder-m.sortOrder)}async function s1(r){const o=await Ei("meetingTypes");return q.meetingTypes.add({...r,sortOrder:r.sortOrder??o+10,isActive:!0})}async function Ep(r,o){return await q.meetingTypes.update(r,o)>0}async function i1(r){return await q.meetingTypes.delete(r),!0}async function r1(r){await q.transaction("rw",q.meetingTypes,async()=>{for(let o=0;o<r.length;o++)await q.meetingTypes.update(r[o],{sortOrder:(o+1)*10})})}async function j0(r=!1){let o=await q.meetingLocations.toArray();return r||(o=o.filter(d=>d.isActive)),o.sort((d,m)=>d.sortOrder-m.sortOrder)}async function c1(r){const o=await Ei("meetingLocations");return q.meetingLocations.add({...r,sortOrder:r.sortOrder??o+10,isActive:!0})}async function Op(r,o){return await q.meetingLocations.update(r,o)>0}async function u1(r){return await q.meetingLocations.delete(r),!0}async function o1(r){await q.transaction("rw",q.meetingLocations,async()=>{for(let o=0;o<r.length;o++)await q.meetingLocations.update(r[o],{sortOrder:(o+1)*10})})}async function Ei(r){const o=await q[r].toArray();return o.length===0?0:Math.max(...o.map(d=>d.sortOrder||0))}function Ap({patient:r,onClose:o,onSuccess:d}){const m=!!r,[b,T]=H.useState([]),[Y,L]=H.useState([]),[C,D]=H.useState({}),[ee,U]=H.useState(!1),[te,ue]=H.useState(r?.mrn||""),[oe,de]=H.useState(r?.name||""),[_e,we]=H.useState(r?.sex||""),[Oe,w]=H.useState(r?.birthDate||""),[xe,ve]=H.useState(r?.cancerTypeId),[fe,ce]=H.useState([]),[qe,Qe]=H.useState(r?.status||"active"),[Fe,at]=H.useState({});H.useEffect(()=>{ne()},[]);const ne=async()=>{const[$,N]=await Promise.all([Vf(),bu()]);if(T($),L(N),r?.physicianIds&&r.physicianIds.length>0){const K=[];for(const be of r.physicianIds)for(const Te of N){const Le=await du(Te.id);if(Le.find(Ve=>Ve.id===be)){C[Te.id]||D(Ve=>({...Ve,[Te.id]:Le})),K.push({departmentId:Te.id,physicianId:be});break}}ce(K)}},ge=async($,N)=>{const K=[...fe];if(K[$]={departmentId:N,physicianId:null},ce(K),N&&!C[N]){const be=await du(N);D(Te=>({...Te,[N]:be}))}},he=($,N)=>{const K=[...fe];K[$]={...K[$],physicianId:N},ce(K)},Ee=()=>{if(fe.length>=4){je.warning(" 4 ");return}ce([...fe,{departmentId:null,physicianId:null}])},_=$=>{ce(fe.filter((N,K)=>K!==$))},re=()=>{const $={};return te.trim()||($.mrn=""),oe.trim()||($.name=""),at($),Object.keys($).length===0},W=async $=>{if($.preventDefault(),!re())return;U(!0);const N=fe.filter(K=>K.physicianId).map(K=>K.physicianId);try{m&&r?.id?(await qb(r.id,{mrn:te.trim(),name:oe.trim(),sex:_e,birthDate:Oe||void 0,cancerTypeId:xe,physicianIds:N,status:qe}),je.success("")):(await Ub({mrn:te.trim(),name:oe.trim(),sex:_e,birthDate:Oe||void 0,cancerTypeId:xe,physicianIds:N,status:qe}),je.success("")),d(),o()}catch(K){je.error(K.message||"")}finally{U(!1)}},ze=($,N)=>{const K=C[$]||[],be=fe.filter((Te,Le)=>Le!==N).map(Te=>Te.physicianId).filter(Boolean);return K.filter(Te=>!be.includes(Te.id))};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-xl max-h-[90vh] overflow-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 sticky top-0 bg-white",children:[l.jsx("h2",{className:"text-lg font-bold text-slate-800",children:m?"":""}),l.jsx("button",{onClick:o,className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(kt,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:W,className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:te,onChange:$=>ue($.target.value),className:`input ${Fe.mrn?"border-red-500":""}`,placeholder:"",autoFocus:!0}),Fe.mrn&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:Fe.mrn})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:oe,onChange:$=>de($.target.value),className:`input ${Fe.name?"border-red-500":""}`,placeholder:""}),Fe.name&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:Fe.name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("div",{className:"flex gap-4",children:[{value:"M",label:""},{value:"F",label:""}].map($=>l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"sex",value:$.value,checked:_e===$.value,onChange:N=>we(N.target.value),className:"w-4 h-4 text-primary-500"}),l.jsx("span",{children:$.label})]},$.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("input",{type:"date",value:Oe,onChange:$=>w($.target.value),className:"input",max:new Date().toISOString().split("T")[0]}),Oe&&l.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["",Math.floor((new Date().getTime()-new Date(Oe).getTime())/(365.25*24*60*60*1e3))," "]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsxs("select",{value:xe||"",onChange:$=>ve($.target.value?Number($.target.value):void 0),className:"input",children:[l.jsx("option",{value:"",children:"--  --"}),b.map($=>l.jsx("option",{value:$.id,children:$.name},$.id))]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"label mb-0",children:""}),fe.length<4&&l.jsxs("button",{type:"button",onClick:Ee,className:"text-sm text-primary-500 hover:text-primary-600 flex items-center gap-1",children:[l.jsx(na,{className:"w-4 h-4"})," "]})]}),fe.length===0?l.jsx("button",{type:"button",onClick:Ee,className:"w-full py-2 border-2 border-dashed border-slate-300 rounded-lg text-slate-500 hover:border-primary-500 hover:text-primary-500 transition-colors",children:"+ "}):l.jsx("div",{className:"space-y-2",children:fe.map(($,N)=>l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("button",{type:"button",onClick:()=>{if(N===0)return;const K=[...fe];[K[N-1],K[N]]=[K[N],K[N-1]],ce(K)},disabled:N===0,className:"p-0.5 hover:bg-slate-100 rounded disabled:opacity-30",children:l.jsx(Yf,{className:"w-3 h-3 text-slate-400"})}),l.jsx("button",{type:"button",onClick:()=>{if(N===fe.length-1)return;const K=[...fe];[K[N],K[N+1]]=[K[N+1],K[N]],ce(K)},disabled:N===fe.length-1,className:"p-0.5 hover:bg-slate-100 rounded disabled:opacity-30",children:l.jsx(yu,{className:"w-3 h-3 text-slate-400"})})]}),l.jsxs("select",{value:$.departmentId||"",onChange:K=>ge(N,K.target.value?Number(K.target.value):null),className:"input flex-1",children:[l.jsx("option",{value:"",children:"--  --"}),Y.map(K=>l.jsx("option",{value:K.id,children:K.name},K.id))]}),l.jsxs("select",{value:$.physicianId||"",onChange:K=>he(N,K.target.value?Number(K.target.value):null),className:"input flex-1",disabled:!$.departmentId,children:[l.jsx("option",{value:"",children:"--  --"}),$.departmentId&&ze($.departmentId,N).map(K=>l.jsx("option",{value:K.id,children:K.name},K.id))]}),l.jsx("button",{type:"button",onClick:()=>_(N),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:l.jsx(zn,{className:"w-5 h-5"})})]},N))}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" 4   "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsxs("select",{value:qe,onChange:$=>Qe($.target.value),className:"input",children:[l.jsx("option",{value:"active",children:""}),l.jsx("option",{value:"inactive",children:""}),l.jsx("option",{value:"deceased",children:""})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:o,className:"flex-1 btn-secondary",disabled:ee,children:""}),l.jsx("button",{type:"submit",className:"flex-1 btn-primary",disabled:ee,children:ee?"...":""})]})]})]})})}function Af({event:r,patientId:o,onClose:d,onSuccess:m}){const b=!!r,[T,Y]=H.useState([]),[L,C]=H.useState([]),[D,ee]=H.useState(!1),[U,te]=H.useState(r?.patientId||o),[ue,oe]=H.useState(r?.eventType||""),[de,_e]=H.useState(r?.title||""),[we,Oe]=H.useState(r?.eventDate||new Date().toISOString().split("T")[0]),[w,xe]=H.useState(r?.dueDate||""),[ve,fe]=H.useState(r?.note||""),[ce,qe]=H.useState({});H.useEffect(()=>{Qe()},[]),H.useEffect(()=>{if(!b&&ue){const ne=L.find(ge=>ge.code===ue);ne&&!de&&_e(ne.name)}},[ue,L,b]);const Qe=async()=>{const[ne,ge]=await Promise.all([v0({status:"active"}),Zf()]);Y(ne),C(ge),!r&&ge.length>0&&!ue&&oe(ge[0].code)},Fe=()=>{const ne={};return U||(ne.patientId=""),ue||(ne.eventType=""),de.trim()||(ne.title=""),qe(ne),Object.keys(ne).length===0},at=async ne=>{if(ne.preventDefault(),!!Fe()){ee(!0);try{b&&r?.id?(await Og(r.id,{eventType:ue,title:de.trim(),eventDate:we,dueDate:w||void 0,note:ve.trim()}),je.success("")):(await Fp({patientId:U,eventType:ue,title:de.trim(),eventDate:we,dueDate:w||void 0,note:ve.trim()}),je.success("")),m(),d()}catch(ge){je.error(ge.message||"")}finally{ee(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-xl max-h-[90vh] overflow-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 sticky top-0 bg-white",children:[l.jsx("h2",{className:"text-lg font-bold text-slate-800",children:b?"":""}),l.jsx("button",{onClick:d,className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(kt,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:at,className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:U||"",onChange:ne=>te(ne.target.value?Number(ne.target.value):void 0),className:`input ${ce.patientId?"border-red-500":""}`,disabled:!!o||b,children:[l.jsx("option",{value:"",children:"--  --"}),T.map(ne=>l.jsxs("option",{value:ne.id,children:[ne.name," (",ne.mrn,")"]},ne.id))]}),ce.patientId&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:ce.patientId})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:ue,onChange:ne=>{const ge=ne.target.value;oe(ge);const he=L.find(_=>_.code===ge),Ee=L.find(_=>_.code===ue);(!de||Ee&&de===Ee.name)&&_e(he?.name||"")},className:`input ${ce.eventType?"border-red-500":""}`,children:[l.jsx("option",{value:"",children:"--  --"}),L.map(ne=>l.jsx("option",{value:ne.code,children:ne.name},ne.code))]}),ce.eventType&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:ce.eventType})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:de,onChange:ne=>_e(ne.target.value),className:`input ${ce.title?"border-red-500":""}`,placeholder:""}),ce.title&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:ce.title})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("input",{type:"date",value:we,onChange:ne=>Oe(ne.target.value),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("input",{type:"date",value:w,onChange:ne=>xe(ne.target.value),className:"input"}),l.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[l.jsx("button",{type:"button",onClick:()=>xe(we),disabled:!we,className:"px-2 py-1 text-xs bg-slate-100 hover:bg-slate-200 rounded disabled:opacity-50",children:""}),l.jsx("button",{type:"button",onClick:()=>{if(!we)return;const ne=new Date(we);ne.setDate(ne.getDate()-1),xe(ne.toISOString().split("T")[0])},disabled:!we,className:"px-2 py-1 text-xs bg-slate-100 hover:bg-slate-200 rounded disabled:opacity-50",children:""}),l.jsx("button",{type:"button",onClick:()=>{if(!we)return;const ne=new Date(we);ne.setDate(ne.getDate()-7),xe(ne.toISOString().split("T")[0])},disabled:!we,className:"px-2 py-1 text-xs bg-slate-100 hover:bg-slate-200 rounded disabled:opacity-50",children:""}),l.jsx("button",{type:"button",onClick:()=>{if(!we)return;const ne=new Date(we);ne.setDate(ne.getDate()+7),xe(ne.toISOString().split("T")[0])},disabled:!we,className:"px-2 py-1 text-xs bg-slate-100 hover:bg-slate-200 rounded disabled:opacity-50",children:""})]}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:""})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("textarea",{value:ve,onChange:ne=>fe(ne.target.value),className:"input min-h-[80px] resize-none",placeholder:"..."})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:d,className:"flex-1 btn-secondary",disabled:D,children:""}),l.jsx("button",{type:"submit",className:"flex-1 btn-primary",disabled:D,children:D?"...":""})]})]})]})})}function f1({patientId:r,patientName:o,onClose:d,onSuccess:m}){const[b,T]=H.useState([]),[Y,L]=H.useState([]),[C,D]=H.useState(!1),[ee,U]=H.useState(""),[te,ue]=H.useState(new Date().toISOString().split("T")[0]),[oe,de]=H.useState(6),[_e,we]=H.useState(21),[Oe,w]=H.useState(null),[xe,ve]=H.useState(),[fe,ce]=H.useState(""),[qe,Qe]=H.useState({});H.useEffect(()=>{Fe()},[]);const Fe=async()=>{const _=await bu();T(_)},at=async _=>{if(w(_),ve(void 0),_){const re=await du(_);L(re)}else L([])},ne=()=>{const _=[],re=new Date(te);for(let W=0;W<Math.min(oe,12);W++){const ze=l0(re,W*_e);_.push(Sn(ze,"MM/dd (EEE)",{locale:ta}))}return _},ge=()=>{const _={};return ee.trim()||(_.regimen=""),te||(_.startDate=""),(oe<1||oe>20)&&(_.cycleCount=" 1-20 "),(_e<1||_e>90)&&(_.intervalDays=" 1-90 "),Qe(_),Object.keys(_).length===0},he=async _=>{if(_.preventDefault(),!!ge()){D(!0);try{const re=await Mg({patientId:r,startDate:te,cycleCount:oe,intervalDays:_e,regimen:ee.trim(),mainPhysicianId:xe,note:fe.trim()||void 0});je.success(` ${re.length} `),m(),d()}catch(re){je.error(re.message||"")}finally{D(!1)}}},Ee=ne();return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-xl max-h-[90vh] overflow-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 sticky top-0 bg-white",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-bold text-slate-800",children:""}),l.jsx("p",{className:"text-sm text-slate-500",children:o})]}),l.jsx("button",{onClick:d,className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(kt,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:he,className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:ee,onChange:_=>U(_.target.value),className:`input ${qe.regimen?"border-red-500":""}`,placeholder:"FOLFOXEC-TXELOX",autoFocus:!0}),qe.regimen&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:qe.regimen})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"date",value:te,onChange:_=>ue(_.target.value),className:`input ${qe.startDate?"border-red-500":""}`}),qe.startDate&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:qe.startDate})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",value:oe,onChange:_=>de(parseInt(_.target.value)||1),min:1,max:20,className:`input ${qe.cycleCount?"border-red-500":""}`}),qe.cycleCount&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:qe.cycleCount})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",value:_e,onChange:_=>we(parseInt(_.target.value)||1),min:1,max:90,className:`input ${qe.intervalDays?"border-red-500":""}`}),qe.intervalDays&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:qe.intervalDays})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("div",{className:"flex gap-2 flex-wrap",children:[{label:"",days:7},{label:"",days:14},{label:"",days:21},{label:"",days:28}].map(_=>l.jsx("button",{type:"button",onClick:()=>we(_.days),className:`px-3 py-1 text-sm rounded-full border transition-colors ${_e===_.days?"bg-primary-500 text-white border-primary-500":"border-slate-300 hover:border-primary-500"}`,children:_.label},_.days))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("select",{value:Oe||"",onChange:_=>at(_.target.value?Number(_.target.value):null),className:"input flex-1",children:[l.jsx("option",{value:"",children:"--  --"}),b.map(_=>l.jsx("option",{value:_.id,children:_.name},_.id))]}),l.jsxs("select",{value:xe||"",onChange:_=>ve(_.target.value?Number(_.target.value):void 0),className:"input flex-1",disabled:!Oe,children:[l.jsx("option",{value:"",children:"--  --"}),Y.map(_=>l.jsx("option",{value:_.id,children:_.name},_.id))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("textarea",{value:fe,onChange:_=>ce(_.target.value),className:"input min-h-[60px] resize-none",placeholder:"..."})]}),l.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(nl,{className:"w-4 h-4 text-primary-500"}),l.jsx("span",{className:"font-medium text-slate-700",children:""})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[Ee.map((_,re)=>l.jsxs("span",{className:"text-xs bg-white px-2 py-1 rounded border border-slate-200",children:["C",re+1,": ",_]},re)),oe>12&&l.jsxs("span",{className:"text-xs text-slate-400",children:["... ",oe-12," "]})]})]}),l.jsxs("div",{className:"flex items-start gap-2 text-sm text-amber-700 bg-amber-50 rounded-lg p-3",children:[l.jsx(Rv,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),l.jsxs("p",{children:[" ",oe,"  ",_e," "]})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx("button",{type:"button",onClick:d,className:"flex-1 btn-secondary",disabled:C,children:""}),l.jsx("button",{type:"submit",className:"flex-1 btn-primary",disabled:C,children:C?"...":` ${oe} `})]})]})]})})}const d1={active:"",inactive:"",deceased:""},m1={active:"bg-green-100 text-green-800",inactive:"bg-slate-100 text-slate-600",deceased:"bg-red-100 text-red-800"},Mp={chemo:"bg-purple-100 text-purple-700",rt:"bg-blue-100 text-blue-700",surgery:"bg-red-100 text-red-700",mdt:"bg-orange-100 text-orange-700",fu:"bg-teal-100 text-teal-700",default:"bg-slate-100 text-slate-700"};function h1({patient:r,onClose:o,onEdit:d}){const[m,b]=H.useState("-"),[T,Y]=H.useState({total:0,pending:0,completed:0}),[L,C]=H.useState([]),[D,ee]=H.useState(!0),[U,te]=H.useState(!1),[ue,oe]=H.useState(!1),[de,_e]=H.useState(null),[we,Oe]=H.useState(!1),{markDataChanged:w}=Sa(),xe=H.useMemo(()=>{const ge=L.filter(Ee=>!Ee.isCompleted).sort((Ee,_)=>(Ee.dueDate||Ee.eventDate||"").localeCompare(_.dueDate||_.eventDate||"")),he=L.filter(Ee=>Ee.isCompleted).sort((Ee,_)=>(_.dueDate||_.eventDate||"").localeCompare(Ee.dueDate||Ee.eventDate||""));return[...ge,...he]},[L]),ve=we?xe:xe.slice(0,3),fe=xe.length>3;H.useEffect(()=>{ce()},[r]);const ce=async()=>{try{if(r.cancerTypeId){const ge=await Lb(r.cancerTypeId);ge&&b(ge.name)}if(r.id){const[ge,he]=await Promise.all([Yb(r.id),x0(r.id)]);Y(ge);const Ee=he.sort((_,re)=>_.isCompleted!==re.isCompleted?_.isCompleted?1:-1:(_.dueDate||"").localeCompare(re.dueDate||""));C(Ee)}}catch(ge){console.error(":",ge)}finally{ee(!1)}},qe=async ge=>{try{await Pp(ge.id),je.success(ge.isCompleted?"":""),w(),ce()}catch{je.error("")}},Qe=async ge=>{if(confirm(`${ge.title}`))try{await Wp(ge.id),je.success(""),w(),ce()}catch{je.error("")}},Fe=()=>{w(),ce()},at=ge=>{if(!ge)return"";try{const he=aa(ge);return wa(he)?"":Sn(he,"MM/dd",{locale:ta})}catch{return ge}},ne=(ge,he)=>{if(he)return"text-slate-400";if(!ge)return"text-slate-500";try{const Ee=aa(ge);return wa(Ee)?"text-primary-600 font-semibold":Qf(Ee)?"text-red-600 font-semibold":"text-slate-600"}catch{return"text-slate-500"}};return l.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:[l.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-xl max-h-[90vh] overflow-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 sticky top-0 bg-white z-10",children:[l.jsx("h2",{className:"text-lg font-bold text-slate-800",children:""}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-lg text-primary-500",children:l.jsx(Zn,{className:"w-5 h-5"})}),l.jsx("button",{onClick:o,className:"p-2 hover:bg-slate-100 rounded-lg",children:l.jsx(kt,{className:"w-5 h-5"})})]})]}),D?l.jsx("div",{className:"flex items-center justify-center h-48",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center",children:l.jsx(Kf,{className:"w-8 h-8 text-primary-600"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800",children:r.name}),l.jsx("span",{className:`badge ${m1[r.status]}`,children:d1[r.status]})]}),l.jsx("p",{className:"text-slate-500",children:r.mrn})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(Sf,{label:"",value:r.sex==="M"?"":r.sex==="F"?"":"-"}),l.jsx(Sf,{label:"",value:r.birthDate?`${Math.floor((new Date().getTime()-new Date(r.birthDate).getTime())/(365.25*24*60*60*1e3))} `:"-"}),l.jsx(Sf,{label:"",value:m})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsx(Tf,{label:"",value:T.total,color:"blue"}),l.jsx(Tf,{label:"",value:T.pending,color:"amber"}),l.jsx(Tf,{label:"",value:T.completed,color:"green"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h4",{className:"font-semibold text-slate-700 flex items-center gap-2",children:[l.jsx(nl,{className:"w-5 h-5"}),""]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>oe(!0),className:"btn-secondary text-sm py-1.5 px-3 flex items-center gap-1",title:"",children:[l.jsx(cg,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:""})]}),l.jsxs("button",{onClick:()=>te(!0),className:"btn-primary text-sm py-1.5 px-3 flex items-center gap-1",children:[l.jsx(na,{className:"w-4 h-4"}),""]})]})]}),L.length===0?l.jsx("div",{className:"text-center py-6 text-slate-400 bg-slate-50 rounded-lg",children:""}):l.jsxs("div",{className:"space-y-2",children:[ve.map(ge=>l.jsx(p1,{event:ge,onToggleComplete:()=>qe(ge),onEdit:()=>_e(ge),onDelete:()=>Qe(ge),formatDueDate:at,getDueDateColor:ne},ge.id)),fe&&l.jsx("button",{onClick:()=>Oe(!we),className:"w-full py-2 text-sm text-primary-500 hover:bg-primary-50 rounded-lg flex items-center justify-center gap-1",children:we?l.jsxs(l.Fragment,{children:[" ",l.jsx(Yf,{className:"w-4 h-4"})]}):l.jsxs(l.Fragment,{children:[" (",xe.length-3," ) ",l.jsx(yu,{className:"w-4 h-4"})]})})]})]})]}),l.jsx("div",{className:"p-4 border-t border-slate-200 sticky bottom-0 bg-white",children:l.jsx("button",{onClick:o,className:"w-full btn-secondary",children:""})})]}),U&&l.jsx(Af,{patientId:r.id,onClose:()=>te(!1),onSuccess:Fe}),de&&l.jsx(Af,{event:de,patientId:r.id,onClose:()=>_e(null),onSuccess:Fe}),ue&&l.jsx(f1,{patientId:r.id,patientName:r.name,onClose:()=>oe(!1),onSuccess:Fe})]})}function Sf({label:r,value:o}){return l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500",children:r}),l.jsx("p",{className:"font-medium text-slate-800",children:o})]})}function Tf({label:r,value:o,color:d}){const m={blue:"bg-blue-50 text-blue-700",amber:"bg-amber-50 text-amber-700",green:"bg-green-50 text-green-700"};return l.jsxs("div",{className:`rounded-lg p-3 text-center ${m[d]}`,children:[l.jsx("p",{className:"text-2xl font-bold",children:o}),l.jsx("p",{className:"text-sm",children:r})]})}function p1({event:r,onToggleComplete:o,onEdit:d,onDelete:m,formatDueDate:b,getDueDateColor:T}){const[Y,L]=H.useState(!1),C=Mp[r.eventType]||Mp.default,D=zf[r.eventType]||r.eventType;return l.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg bg-slate-50 ${r.isCompleted?"opacity-60":""}`,children:[l.jsx("button",{onClick:o,className:`
          w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0
          transition-colors
          ${r.isCompleted?"bg-green-500 border-green-500 text-white":"border-slate-300 hover:border-primary-500"}
        `,children:r.isCompleted&&l.jsx(ln,{className:"w-3 h-3"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[l.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${C}`,children:D}),r.dueDate&&l.jsx("span",{className:`text-xs ${T(r.dueDate,r.isCompleted)}`,children:b(r.dueDate)})]}),l.jsx("p",{className:`text-sm text-slate-700 truncate ${r.isCompleted?"line-through":""}`,children:r.title})]}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>L(!Y),className:"p-1 hover:bg-slate-200 rounded",children:l.jsx(vu,{className:"w-4 h-4 text-slate-400"})}),Y&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>L(!1)}),l.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-20 min-w-[80px]",children:[l.jsxs("button",{onClick:()=>{L(!1),d()},className:"w-full px-3 py-1.5 text-left hover:bg-slate-50 text-sm text-slate-700 flex items-center gap-2",children:[l.jsx(Zn,{className:"w-3 h-3"})," "]}),l.jsxs("button",{onClick:()=>{L(!1),m()},className:"w-full px-3 py-1.5 text-left hover:bg-slate-50 text-sm text-red-600 flex items-center gap-2",children:[l.jsx(zn,{className:"w-3 h-3"})," "]})]})]})]})]})}const Mf={active:"",inactive:"",deceased:""},y1={active:"bg-green-100 text-green-800",inactive:"bg-slate-100 text-slate-600",deceased:"bg-red-100 text-red-800"};function v1(){const[r,o]=H.useState([]),[d,m]=H.useState([]),[b,T]=H.useState([]),[Y,L]=H.useState([]),[C,D]=H.useState(!0),[ee,U]=H.useState(""),[te,ue]=H.useState("all"),[oe,de]=H.useState("all"),[_e,we]=H.useState(!1),[Oe,w]=H.useState(!1),[xe,ve]=H.useState(!1),[fe,ce]=H.useState(null),[qe,Qe]=H.useState(null),[Fe,at]=H.useState(null),{markDataChanged:ne}=Sa(),ge=H.useCallback(async()=>{try{const[$,N,K,be]=await Promise.all([v0({status:te,search:ee,cancerTypeId:oe==="all"?void 0:oe}),Vf(),Ib(),bu()]);o($),m(N),T(K),L(be)}catch($){je.error(""),console.error($)}finally{D(!1)}},[te,ee,oe]);H.useEffect(()=>{ge()},[ge]);const he=$=>{$.preventDefault(),ge()},Ee=async()=>{if(Fe)try{await Hb(Fe.id),je.success(""),ne(),at(null),ge()}catch($){je.error(""),console.error($)}},_=$=>{if(!$)return"-";const N=d.find(K=>K.id===$);return N?N.name:"-"},re=$=>!$||$.length===0?[]:$.map(N=>b.find(K=>K.id===N)).filter(N=>!!N),W=$=>Y.find(K=>K.id===$)?.name||"",ze=()=>{ne(),ge()};return C?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):l.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:""}),l.jsxs("button",{onClick:()=>ve(!0),className:"btn-primary flex items-center gap-2",children:[l.jsx(na,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden sm:inline",children:""})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("form",{onSubmit:he,className:"flex-1 min-w-[150px] relative",children:[l.jsx(og,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),l.jsx("input",{type:"text",placeholder:"...",value:ee,onChange:$=>U($.target.value),className:"input pl-10"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>{we(!_e),w(!1)},className:`btn-secondary flex items-center gap-1 text-sm px-2 py-2 ${te!=="all"?"ring-2 ring-primary-500":""}`,children:[l.jsx(Iv,{className:"w-4 h-4"}),l.jsx("span",{className:"max-w-[60px] truncate",children:te==="all"?"":Mf[te]})]}),_e&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>we(!1)}),l.jsx("div",{className:"absolute right-0 top-full mt-2 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-20 min-w-[120px]",children:["all","active","inactive","deceased"].map($=>l.jsx("button",{onClick:()=>{ue($),we(!1)},className:`w-full px-4 py-2 text-left hover:bg-slate-50 ${te===$?"text-primary-500 font-medium":"text-slate-700"}`,children:$==="all"?"":Mf[$]},$))})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>{w(!Oe),we(!1)},className:`btn-secondary flex items-center gap-1 text-sm px-2 py-2 ${oe!=="all"?"ring-2 ring-primary-500":""}`,children:l.jsx("span",{className:"max-w-[60px] truncate",children:oe==="all"?"":d.find($=>$.id===oe)?.name||""})}),Oe&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>w(!1)}),l.jsxs("div",{className:"absolute right-0 top-full mt-2 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-20 min-w-[140px] max-h-64 overflow-auto",children:[l.jsx("button",{onClick:()=>{de("all"),w(!1)},className:`w-full px-4 py-2 text-left hover:bg-slate-50 ${oe==="all"?"text-primary-500 font-medium":"text-slate-700"}`,children:""}),d.map($=>l.jsx("button",{onClick:()=>{de($.id),w(!1)},className:`w-full px-4 py-2 text-left hover:bg-slate-50 ${oe===$.id?"text-primary-500 font-medium":"text-slate-700"}`,children:$.name},$.id))]})]})]})]})]}),l.jsxs("div",{className:"text-sm text-slate-500",children:[" ",r.length," "]}),l.jsx("div",{className:"space-y-2",children:r.length===0?l.jsxs("div",{className:"card text-center py-12 text-slate-500",children:[l.jsx(Kf,{className:"w-12 h-12 mx-auto mb-4 text-slate-300"}),l.jsx("p",{children:""}),l.jsx("button",{onClick:()=>ve(!0),className:"mt-4 text-primary-500 hover:underline",children:""})]}):r.map($=>l.jsx(x1,{patient:$,cancerTypeName:_($.cancerTypeId),physicianDetails:re($.physicianIds),getDeptName:W,onView:()=>Qe($),onEdit:()=>ce($),onDelete:()=>at($)},$.id))}),xe&&l.jsx(Ap,{onClose:()=>ve(!1),onSuccess:ze}),fe&&l.jsx(Ap,{patient:fe,onClose:()=>ce(null),onSuccess:ze}),qe&&l.jsx(h1,{patient:qe,onClose:()=>Qe(null),onEdit:()=>{ce(qe),Qe(null)}}),Fe&&l.jsx(b1,{patientName:Fe.name,onCancel:()=>at(null),onConfirm:Ee})]})}function g1(r){if(!r)return"";const o={mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},d={morning:"",afternoon:"",evening:""},m=[];for(const[b,T]of Object.entries(r))T&&T.length>0&&m.push(`${o[b]}${T.map(Y=>d[Y]).join("")}`);return m.join(" ")}function x1({patient:r,cancerTypeName:o,physicianDetails:d,getDeptName:m,onView:b,onEdit:T,onDelete:Y}){const[L,C]=H.useState(!1),D=r.sex==="M"?"bg-blue-100 text-blue-600":r.sex==="F"?"bg-pink-100 text-pink-600":"bg-slate-100 text-slate-600",ee=r.sex==="M"?"border-l-4 border-l-blue-400":r.sex==="F"?"border-l-4 border-l-pink-400":"";return l.jsx("div",{className:`card hover:shadow-md transition-shadow cursor-pointer ${ee}`,onClick:b,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${D}`,children:l.jsx(Kf,{className:"w-6 h-6"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold text-slate-800 truncate",children:r.name}),l.jsx("span",{className:`badge ${y1[r.status]}`,children:Mf[r.status]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mt-1 flex-wrap",children:[l.jsx("span",{children:r.mrn}),l.jsx("span",{children:""}),l.jsx("span",{children:r.sex==="M"?"":r.sex==="F"?"":"-"}),r.birthDate&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsxs("span",{children:[Math.floor((new Date().getTime()-new Date(r.birthDate).getTime())/(365.25*24*60*60*1e3)),""]})]}),l.jsx("span",{children:""}),l.jsx("span",{children:o})]}),d.length>0&&l.jsx("div",{className:"mt-2 space-y-1",children:d.map(U=>l.jsxs("div",{className:"flex items-center gap-2 text-xs",onClick:te=>te.stopPropagation(),children:[l.jsx(su,{className:"w-3 h-3 text-slate-400"}),l.jsx("span",{className:"text-slate-600",children:U.name}),l.jsxs("span",{className:"text-slate-400",children:["(",m(U.departmentId),")"]}),U.clinicSchedule&&Object.keys(U.clinicSchedule).length>0&&l.jsx("span",{className:"text-primary-500 text-[10px]",children:g1(U.clinicSchedule)}),U.phone&&l.jsxs("a",{href:`tel:${U.phone}`,className:"text-blue-500 hover:text-blue-600 flex items-center gap-0.5",title:"",children:[l.jsx(Jp,{className:"w-3 h-3"}),l.jsx("span",{children:U.phone})]})]},U.id))})]}),l.jsxs("div",{className:"relative flex-shrink-0",onClick:U=>U.stopPropagation(),children:[l.jsx("button",{onClick:()=>C(!L),className:"p-2 hover:bg-slate-100 rounded-lg",children:l.jsx(vu,{className:"w-5 h-5 text-slate-400"})}),L&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>C(!1)}),l.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-20 min-w-[100px]",children:[l.jsxs("button",{onClick:()=>{C(!1),T()},className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2 text-slate-700",children:[l.jsx(Zn,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>{C(!1),Y()},className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2 text-red-600",children:[l.jsx(zn,{className:"w-4 h-4"}),""]})]})]})]}),l.jsx(Di,{className:"w-5 h-5 text-slate-300 flex-shrink-0"})]})})}function b1({patientName:r,onCancel:o,onConfirm:d}){return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full p-6 shadow-xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-bold text-slate-800",children:""}),l.jsx("button",{onClick:o,className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(kt,{className:"w-5 h-5"})})]}),l.jsxs("p",{className:"text-slate-600 mb-6",children:["",l.jsx("span",{className:"font-semibold",children:r}),"",l.jsx("br",{}),l.jsx("span",{className:"text-red-500 text-sm",children:""})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:o,className:"flex-1 btn-secondary",children:""}),l.jsx("button",{onClick:d,className:"flex-1 btn-danger",children:""})]})]})})}function j1(){const[r,o]=H.useState([]),[d,m]=H.useState({}),[b,T]=H.useState([]),[Y,L]=H.useState(!0),[C,D]=H.useState("today"),[ee,U]=H.useState("list"),[te,ue]=H.useState(0),[oe,de]=H.useState(0),[_e,we]=H.useState(0),[Oe,w]=H.useState(0),[xe,ve]=H.useState(null),[fe,ce]=H.useState(null),{markDataChanged:qe}=Sa(),{setCurrentPage:Qe,setSelectedPatientId:Fe}=Hr(),at=W=>{Fe(W),Qe("patients")},ne=H.useCallback(async()=>{L(!0);try{const W=await Zf();T(W);let ze;C==="today"?ze=await mp():C==="tomorrow"?ze=await hp():C==="week"?ze=await pp():C==="overdue"?ze=await Of():C==="completed"?ze=await Ag():ze=await Ci({isCompleted:!1}),o(ze);const $=[...new Set(ze.map(Xe=>Xe.patientId))],N={};for(const Xe of $){const Ve=await Rb(Xe);Ve&&(N[Xe]=Ve)}m(N);const[K,be,Te,Le]=await Promise.all([mp(),hp(),pp(),Of()]);ue(K.length),de(be.length),we(Te.length),w(Le.length)}catch(W){je.error(""),console.error(W)}finally{L(!1)}},[C]);H.useEffect(()=>{ne()},[ne]);const ge=async W=>{if(!(!W.isCompleted&&!confirm(`${W.title}`)))try{await Pp(W.id),je.success(W.isCompleted?"":""),qe(),ne()}catch{je.error("")}},he=async()=>{if(fe)try{await Wp(fe.id),je.success(""),qe(),ce(null),ne()}catch{je.error("")}},Ee=()=>{qe(),ne()},_=W=>{if(!W)return"-";try{const ze=aa(W);return wa(ze)?"":fu(ze)?"":Sn(ze,"MM/dd (EEE)",{locale:ta})}catch{return W}},re=W=>{if(!W)return"text-slate-500";try{const ze=aa(W);return wa(ze)?"text-primary-600 font-semibold":Qf(ze)?"text-red-600 font-semibold":fu(ze)?"text-blue-600":"text-slate-600"}catch{return"text-slate-500"}};return Y?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):l.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-800",children:""}),l.jsx("p",{className:"text-sm text-slate-500",children:""})]}),l.jsxs("div",{className:"border-b border-slate-200 pb-2",children:[l.jsxs("div",{className:"flex gap-1 mb-1",children:[l.jsx(Ni,{active:C==="today",onClick:()=>D("today"),icon:l.jsx(Vp,{className:"w-4 h-4"}),label:"",count:te}),l.jsx(Ni,{active:C==="tomorrow",onClick:()=>D("tomorrow"),icon:l.jsx(nl,{className:"w-4 h-4"}),label:"",count:oe}),l.jsx(Ni,{active:C==="week",onClick:()=>D("week"),icon:l.jsx(Gp,{className:"w-4 h-4"}),label:"",count:_e}),l.jsx(Ni,{active:C==="overdue",onClick:()=>D("overdue"),icon:l.jsx(Na,{className:"w-4 h-4"}),label:"",count:Oe,danger:!0})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex gap-1",children:[l.jsx(Ni,{active:C==="all",onClick:()=>D("all"),icon:l.jsx(nl,{className:"w-4 h-4"}),label:""}),l.jsx(Ni,{active:C==="completed",onClick:()=>D("completed"),icon:l.jsx(Xl,{className:"w-4 h-4"}),label:""})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>U("list"),className:`p-2 rounded-lg ${ee==="list"?"bg-primary-100 text-primary-600":"text-slate-400 hover:bg-slate-100"}`,title:"",children:l.jsx(Zp,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>U("gantt"),className:`p-2 rounded-lg ${ee==="gantt"?"bg-primary-100 text-primary-600":"text-slate-400 hover:bg-slate-100"}`,title:"",children:l.jsx(Cv,{className:"w-4 h-4"})})]})]})]}),ee==="list"?l.jsx("div",{className:"space-y-2",children:r.length===0?l.jsxs("div",{className:"card text-center py-12 text-slate-500",children:[l.jsx(Xl,{className:"w-12 h-12 mx-auto mb-4 text-green-400"}),l.jsxs("p",{children:[C==="today"&&" ",C==="tomorrow"&&"",C==="week"&&"",C==="overdue"&&" ",C==="all"&&"",C==="completed"&&""]})]}):r.map(W=>l.jsx(w1,{event:W,patient:d[W.patientId],eventTypes:b,onToggleComplete:()=>ge(W),onEdit:()=>ve(W),onDelete:()=>ce(W),onPatientClick:at,formatDueDate:_,getDueDateColor:re},W.id))}):l.jsx(S1,{events:r,patientMap:d,eventTypes:b,onEventClick:W=>ve(W)}),xe&&l.jsx(Af,{event:xe,onClose:()=>ve(null),onSuccess:Ee}),fe&&l.jsx(N1,{eventTitle:fe.title,onCancel:()=>ce(null),onConfirm:he})]})}function Ni({active:r,onClick:o,icon:d,label:m,count:b,danger:T}){return l.jsxs("button",{onClick:o,className:`
        flex items-center gap-1 px-2 py-1.5 text-sm font-medium
        rounded-lg transition-colors whitespace-nowrap
        ${r?"bg-primary-100 text-primary-600":"text-slate-500 hover:bg-slate-100 hover:text-slate-700"}
      `,children:[d,l.jsx("span",{className:"hidden sm:inline",children:m}),l.jsx("span",{className:"sm:hidden",children:m}),b!==void 0&&b>0&&l.jsx("span",{className:`
          ml-0.5 px-1.5 py-0.5 text-xs rounded-full
          ${T?"bg-red-100 text-red-700":"bg-slate-200 text-slate-600"}
        `,children:b})]})}function w1({event:r,patient:o,eventTypes:d,onToggleComplete:m,onEdit:b,onDelete:T,onPatientClick:Y,formatDueDate:L,getDueDateColor:C}){const[D,ee]=H.useState(!1),U=d.find(oe=>oe.code===r.eventType),te=U&&hu[U.color]||"bg-slate-100 text-slate-700",ue=U?.name||r.eventType;return l.jsx("div",{className:`card ${r.isCompleted?"opacity-60":""}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("button",{onClick:m,className:`
            mt-0.5 w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0
            transition-colors
            ${r.isCompleted?"bg-green-500 border-green-500 text-white":"border-slate-300 hover:border-primary-500"}
          `,children:r.isCompleted&&l.jsx(ln,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("span",{className:`badge text-xs ${te}`,children:ue}),l.jsx("span",{className:`text-sm ${C(r.dueDate)}`,children:L(r.dueDate)})]}),l.jsx("p",{className:`font-medium text-slate-800 mt-1 ${r.isCompleted?"line-through":""}`,children:r.title}),o&&l.jsxs("button",{onClick:()=>Y?.(r.patientId),className:"text-sm text-primary-500 hover:text-primary-600 hover:underline mt-0.5 text-left",children:[o.name," (",o.mrn,")"]}),r.note&&l.jsx("p",{className:"text-sm text-slate-400 mt-1 line-clamp-1",children:r.note})]}),l.jsxs("div",{className:"relative flex-shrink-0",children:[l.jsx("button",{onClick:()=>ee(!D),className:"p-2 hover:bg-slate-100 rounded-lg",children:l.jsx(vu,{className:"w-5 h-5 text-slate-400"})}),D&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>ee(!1)}),l.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-20 min-w-[100px]",children:[l.jsxs("button",{onClick:()=>{ee(!1),b()},className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2 text-slate-700",children:[l.jsx(Zn,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>{ee(!1),T()},className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2 text-red-600",children:[l.jsx(zn,{className:"w-4 h-4"}),""]})]})]})]})]})})}function N1({eventTitle:r,onCancel:o,onConfirm:d}){return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full p-6 shadow-xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-bold text-slate-800",children:""}),l.jsx("button",{onClick:o,className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(kt,{className:"w-5 h-5"})})]}),l.jsxs("p",{className:"text-slate-600 mb-6",children:["",l.jsx("span",{className:"font-semibold",children:r}),""]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:o,className:"flex-1 btn-secondary",children:""}),l.jsx("button",{onClick:d,className:"flex-1 btn-danger",children:""})]})]})})}function S1({events:r,patientMap:o,eventTypes:d,onEventClick:m}){const[b,T]=H.useState(new Date),Y=f0(b),L=u0(b),C=o0({start:Y,end:L}),D=H.useMemo(()=>r.filter(te=>{if(!te.dueDate)return!1;const ue=aa(te.dueDate);return ue>=Y&&ue<=L}),[r,Y,L]),ee=H.useMemo(()=>{const te={};return D.forEach(ue=>{te[ue.patientId]||(te[ue.patientId]=[]),te[ue.patientId].push(ue)}),te},[D]),U=te=>{const ue=d.find(de=>de.code===te);return ue&&{purple:"bg-purple-500",blue:"bg-blue-500",red:"bg-red-500",orange:"bg-orange-500",teal:"bg-teal-500",green:"bg-green-500",pink:"bg-pink-500",amber:"bg-amber-500",slate:"bg-slate-500",indigo:"bg-indigo-500",cyan:"bg-cyan-500",emerald:"bg-emerald-500",violet:"bg-violet-500",lime:"bg-lime-500",sky:"bg-sky-500",rose:"bg-rose-500"}[ue.color]||"bg-slate-400"};return l.jsxs("div",{className:"card overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-slate-50",children:[l.jsx("button",{onClick:()=>T(y0(b)),className:"px-3 py-1 hover:bg-slate-200 rounded",children:""}),l.jsx("h3",{className:"font-semibold text-slate-800",children:Sn(b,"yyyy M",{locale:ta})}),l.jsx("button",{onClick:()=>T(Gf(b,1)),className:"px-3 py-1 hover:bg-slate-200 rounded",children:""})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("div",{className:"min-w-[800px]",children:[l.jsxs("div",{className:"flex border-b sticky top-0 bg-white",children:[l.jsx("div",{className:"w-32 flex-shrink-0 p-2 text-xs text-slate-500 font-medium border-r",children:""}),l.jsx("div",{className:"flex flex-1",children:C.map((te,ue)=>{const oe=te.getDay()===0||te.getDay()===6,de=wa(te);return l.jsxs("div",{className:`flex-1 min-w-[28px] text-center text-xs py-1 border-r ${oe?"bg-slate-50":""} ${de?"bg-primary-100 font-bold text-primary-700":"text-slate-500"}`,children:[l.jsx("div",{children:Sn(te,"d")}),l.jsx("div",{className:"text-[10px]",children:Sn(te,"EEE",{locale:ta})})]},ue)})})]}),Object.keys(ee).length===0?l.jsx("div",{className:"text-center py-8 text-slate-400",children:""}):Object.entries(ee).map(([te,ue])=>{const oe=o[Number(te)];return l.jsxs("div",{className:"flex border-b hover:bg-slate-50",children:[l.jsx("div",{className:"w-32 flex-shrink-0 p-2 text-sm font-medium text-slate-700 border-r truncate",children:oe?.name||` ${te}`}),l.jsxs("div",{className:"flex flex-1 relative py-1",children:[C.map((de,_e)=>{const we=de.getDay()===0||de.getDay()===6;return l.jsx("div",{className:`flex-1 min-w-[28px] border-r ${we?"bg-slate-50/50":""}`},_e)}),ue.map(de=>{if(!de.dueDate)return null;const _e=aa(de.dueDate),we=Xg(_e,Y);if(we<0||we>=C.length)return null;const Oe=`${we/C.length*100}%`,w=d.find(xe=>xe.code===de.eventType);return l.jsx("div",{className:`absolute top-1 h-5 rounded cursor-pointer hover:opacity-80 ${U(de.eventType)} ${de.isCompleted?"opacity-40":""}`,style:{left:Oe,width:`${100/C.length}%`,minWidth:"24px"},title:`${de.title} (${w?.name||de.eventType})`,onClick:()=>m(de),children:l.jsx("span",{className:"text-[10px] text-white px-1 truncate block leading-5",children:de.title})},de.id)})]})]},te)})]})}),l.jsx("div",{className:"p-3 border-t bg-slate-50",children:l.jsx("div",{className:"flex flex-wrap gap-3 text-xs",children:d.slice(0,8).map(te=>l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:`w-3 h-3 rounded ${U(te.code)}`}),l.jsx("span",{className:"text-slate-600",children:te.name})]},te.id))})})]})}function T1(){const[r,o]=H.useState([]),[d,m]=H.useState([]),[b,T]=H.useState([]),[Y,L]=H.useState(!0),[C,D]=H.useState("upcoming"),[ee,U]=H.useState("list"),[te,ue]=H.useState(!1),[oe,de]=H.useState(null),[_e,we]=H.useState(null),[Oe,w]=H.useState(new Date),{markDataChanged:xe}=Sa(),ve=H.useCallback(async()=>{L(!0);try{const[he,Ee,_]=await Promise.all([e0(ee==="calendar"?void 0:C==="completed"?{isCompleted:!0}:C==="upcoming"?{isCompleted:!1}:void 0),b0(),j0()]);o(he),m(Ee),T(_)}finally{L(!1)}},[C,ee]);H.useEffect(()=>{ve()},[ve]);const fe=async he=>{!he.isCompleted&&!confirm(`${he.title}`)||(await Rg(he.id),je.success(he.isCompleted?"":""),xe(),ve())},ce=async()=>{_e&&(await Bg(_e.id),je.success(""),we(null),xe(),ve())},qe=he=>he&&d.find(_=>_.id===he)?.name||"",Qe=he=>{if(!he)return"bg-slate-100 text-slate-700";const Ee=d.find(_=>_.id===he);return Ee&&hu[Ee.color]||"bg-slate-100 text-slate-700"},Fe=he=>{const Ee=aa(he);return wa(Ee)?"":fu(Ee)?"":Sn(Ee,"MM/dd (EEE)",{locale:ta})},at=(he,Ee)=>{if(Ee)return"text-slate-400";const _=aa(he);return Qf(_)&&!wa(_)?"text-red-500":wa(_)?"text-green-600":fu(_)?"text-blue-500":"text-slate-500"},ne=H.useMemo(()=>{const he=f0(Oe),Ee=u0(Oe);return o0({start:he,end:Ee})},[Oe]),ge=he=>{const Ee=Sn(he,"yyyy-MM-dd");return r.filter(_=>_.scheduledDate===Ee)};return l.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-slate-800 flex items-center gap-2",children:[l.jsx(Ds,{className:"w-6 h-6 text-primary-500"}),""]}),l.jsxs("button",{onClick:()=>ue(!0),className:"btn-primary flex items-center gap-1",children:[l.jsx(na,{className:"w-4 h-4"})," "]})]}),l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200",children:[l.jsxs("div",{className:"flex gap-1",children:[l.jsx(_f,{active:C==="upcoming",onClick:()=>{D("upcoming"),U("list")},label:""}),l.jsx(_f,{active:C==="completed",onClick:()=>{D("completed"),U("list")},label:""}),l.jsx(_f,{active:C==="all",onClick:()=>{D("all"),U("list")},label:""})]}),l.jsxs("div",{className:"flex gap-1 pb-2",children:[l.jsx("button",{onClick:()=>U("list"),className:`p-2 rounded ${ee==="list"?"bg-primary-100 text-primary-600":"text-slate-400 hover:bg-slate-100"}`,children:l.jsx(Zp,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>U("calendar"),className:`p-2 rounded ${ee==="calendar"?"bg-primary-100 text-primary-600":"text-slate-400 hover:bg-slate-100"}`,children:l.jsx(Gp,{className:"w-5 h-5"})})]})]}),ee==="list"?l.jsx("div",{className:"space-y-3",children:Y?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):r.length===0?l.jsxs("div",{className:"text-center py-12 text-slate-500",children:[l.jsx(Ds,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),l.jsx("p",{children:C==="upcoming"?"":C==="completed"?"":""})]}):r.map(he=>l.jsx(_1,{item:he,typeName:qe(he.meetingTypeId),typeColor:Qe(he.meetingTypeId),formatDate:Fe,getDateColor:at,onToggleComplete:()=>fe(he),onEdit:()=>de(he),onDelete:()=>we(he)},he.id))}):l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("button",{onClick:()=>w(y0(Oe)),className:"p-2 hover:bg-slate-100 rounded",children:l.jsx(Qp,{className:"w-5 h-5"})}),l.jsx("h3",{className:"text-lg font-semibold",children:Sn(Oe,"yyyy  M ",{locale:ta})}),l.jsx("button",{onClick:()=>w(Gf(Oe,1)),className:"p-2 hover:bg-slate-100 rounded",children:l.jsx(Di,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["","","","","","",""].map(he=>l.jsx("div",{className:"text-center text-sm font-medium text-slate-500 py-1",children:he},he))}),l.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:Xx(ne[0])}).map((he,Ee)=>l.jsx("div",{className:"min-h-[80px]"},`empty-${Ee}`)),ne.map(he=>{const Ee=ge(he),_=wa(he);return l.jsxs("div",{className:`min-h-[80px] border rounded p-1 ${_?"border-primary-500 bg-primary-50":"border-slate-200"}`,children:[l.jsx("div",{className:`text-sm font-medium mb-1 ${_?"text-primary-600":"text-slate-700"}`,children:Sn(he,"d")}),l.jsxs("div",{className:"space-y-0.5",children:[Ee.slice(0,3).map(re=>l.jsxs("button",{onClick:()=>de(re),className:`w-full text-left text-xs px-1 py-0.5 rounded truncate ${Qe(re.meetingTypeId)} ${re.isCompleted?"opacity-50 line-through":""}`,children:[re.scheduledTime&&l.jsxs("span",{className:"font-medium",children:[re.scheduledTime.slice(0,5)," "]}),qe(re.meetingTypeId)]},re.id)),Ee.length>3&&l.jsxs("div",{className:"text-xs text-slate-400 px-1",children:["+",Ee.length-3," "]})]})]},he.toISOString())})]})]}),(te||oe)&&l.jsx(D1,{item:oe||void 0,meetingTypes:d,meetingLocations:b,onClose:()=>{ue(!1),de(null)},onSuccess:()=>{ue(!1),de(null),xe(),ve()}}),_e&&l.jsx(C1,{title:_e.title,onCancel:()=>we(null),onConfirm:ce})]})}function _f({active:r,onClick:o,label:d}){return l.jsx("button",{onClick:o,className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${r?"border-primary-500 text-primary-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:d})}function _1({item:r,typeName:o,typeColor:d,formatDate:m,getDateColor:b,onToggleComplete:T,onEdit:Y,onDelete:L}){const[C,D]=H.useState(!1);return l.jsx("div",{className:`card ${r.isCompleted?"opacity-60":""}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("button",{onClick:T,className:`mt-1 w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${r.isCompleted?"bg-green-500 border-green-500":"border-slate-300 hover:border-primary-500"}`,children:r.isCompleted&&l.jsx(ln,{className:"w-3 h-3 text-white"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${d}`,children:o}),l.jsxs("span",{className:`text-sm font-medium ${b(r.scheduledDate,r.isCompleted)}`,children:[m(r.scheduledDate),r.scheduledTime&&` ${r.scheduledTime}`]})]}),l.jsx("p",{className:`mt-1 font-medium ${r.isCompleted?"line-through text-slate-400":"text-slate-800"}`,children:r.title}),r.description&&l.jsx("p",{className:"text-sm text-slate-500 mt-1",children:r.description}),r.location&&l.jsxs("p",{className:"text-xs text-slate-400 mt-1 flex items-center gap-1",children:[l.jsx(Lf,{className:"w-3 h-3"})," ",r.location]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>D(!C),className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(vu,{className:"w-5 h-5 text-slate-400"})}),C&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>D(!1)}),l.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white rounded-lg shadow-lg border py-1 z-20 min-w-[100px]",children:[l.jsxs("button",{onClick:()=>{D(!1),Y()},className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2 text-slate-700",children:[l.jsx(Zn,{className:"w-4 h-4"})," "]}),l.jsxs("button",{onClick:()=>{D(!1),L()},className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-2 text-red-600",children:[l.jsx(zn,{className:"w-4 h-4"})," "]})]})]})]})]})})}function D1({item:r,meetingTypes:o,meetingLocations:d,onClose:m,onSuccess:b}){const T=!!r,[Y,L]=H.useState(!1),[C,D]=H.useState(r?.meetingTypeId),[ee,U]=H.useState(r?.title||""),[te,ue]=H.useState(r?.scheduledDate||new Date().toISOString().split("T")[0]),[oe,de]=H.useState(r?.scheduledTime||""),[_e,we]=H.useState(r?.locationId),Oe=async w=>{if(w.preventDefault(),!C){je.error("");return}const xe=o.find(ce=>ce.id===C),ve=ee.trim()||xe?.name||"",fe=d.find(ce=>ce.id===_e);L(!0);try{T&&r?.id?(await zg(r.id,{meetingTypeId:C,title:ve,scheduledDate:te,scheduledTime:oe||void 0,locationId:_e,location:fe?.name}),je.success("")):(await kg({meetingTypeId:C,title:ve,scheduledDate:te,scheduledTime:oe||void 0,locationId:_e,location:fe?.name}),je.success("")),b()}catch{je.error("")}finally{L(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-xl",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h2",{className:"text-lg font-bold text-slate-800",children:T?"":""}),l.jsx("button",{onClick:m,className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(kt,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:Oe,className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:C||"",onChange:w=>D(w.target.value?Number(w.target.value):void 0),className:"input",children:[l.jsx("option",{value:"",children:"--  --"}),o.map(w=>l.jsx("option",{value:w.id,children:w.name},w.id))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"label",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"date",value:te,onChange:w=>ue(w.target.value),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("div",{className:"flex gap-1",children:l.jsx("input",{type:"time",value:oe,onChange:w=>de(w.target.value),className:"input flex-1"})}),l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsx("button",{type:"button",onClick:()=>de("07:30"),className:"px-2 py-1 text-xs bg-slate-100 hover:bg-slate-200 rounded",children:"7:30"}),l.jsx("button",{type:"button",onClick:()=>de("12:30"),className:"px-2 py-1 text-xs bg-slate-100 hover:bg-slate-200 rounded",children:"12:30"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsxs("select",{value:_e||"",onChange:w=>we(w.target.value?Number(w.target.value):void 0),className:"input",children:[l.jsx("option",{value:"",children:"--  --"}),d.map(w=>l.jsx("option",{value:w.id,children:w.name},w.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("textarea",{value:ee,onChange:w=>U(w.target.value),className:"input min-h-[60px] resize-none",placeholder:"..."})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx("button",{type:"button",onClick:m,className:"flex-1 btn-secondary",disabled:Y,children:""}),l.jsx("button",{type:"submit",className:"flex-1 btn-primary",disabled:Y,children:Y?"...":""})]})]})]})})}function C1({title:r,onCancel:o,onConfirm:d}){return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full shadow-xl p-6",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:""}),l.jsxs("p",{className:"text-slate-600 mb-6",children:["",r,""]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:o,className:"flex-1 btn-secondary",children:""}),l.jsx("button",{onClick:d,className:"flex-1 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600",children:""})]})]})})}function E1(){const[r,o]=H.useState("cancer"),{markDataChanged:d}=Sa();return l.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[l.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-800",children:""}),l.jsxs("div",{className:"flex gap-1 border-b border-slate-200 overflow-x-auto pb-1",children:[l.jsx(Si,{active:r==="cancer",onClick:()=>o("cancer"),icon:l.jsx(wv,{className:"w-4 h-4"}),label:""}),l.jsx(Si,{active:r==="department",onClick:()=>o("department"),icon:l.jsx(Xp,{className:"w-4 h-4"}),label:"/"}),l.jsx(Si,{active:r==="imaging",onClick:()=>o("imaging"),icon:l.jsx(Fv,{className:"w-4 h-4"}),label:""}),l.jsx(Si,{active:r==="eventType",onClick:()=>o("eventType"),icon:l.jsx(nl,{className:"w-4 h-4"}),label:""}),l.jsx(Si,{active:r==="meetingType",onClick:()=>o("meetingType"),icon:l.jsx(Ds,{className:"w-4 h-4"}),label:""}),l.jsx(Si,{active:r==="meetingLocation",onClick:()=>o("meetingLocation"),icon:l.jsx(Lf,{className:"w-4 h-4"}),label:""})]}),r==="cancer"&&l.jsx(O1,{onDataChange:d}),r==="department"&&l.jsx(A1,{onDataChange:d}),r==="imaging"&&l.jsx(M1,{onDataChange:d}),r==="eventType"&&l.jsx(k1,{onDataChange:d}),r==="meetingType"&&l.jsx(z1,{onDataChange:d}),r==="meetingLocation"&&l.jsx(B1,{onDataChange:d})]})}function Si({active:r,onClick:o,icon:d,label:m}){return l.jsxs("button",{onClick:o,className:`flex items-center gap-1.5 px-3 py-2 text-sm font-medium rounded-t-lg whitespace-nowrap transition-colors ${r?"bg-primary-50 text-primary-600 border-b-2 border-primary-500":"text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:[d,m]})}function Oi(){return l.jsx("div",{className:"flex justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})})}function Ai({index:r,total:o,onMoveUp:d,onMoveDown:m}){return l.jsxs("div",{className:"flex flex-col",children:[l.jsx("button",{onClick:d,disabled:r===0,className:"p-0.5 hover:bg-slate-100 rounded disabled:opacity-30",children:l.jsx(Yf,{className:"w-4 h-4 text-slate-400"})}),l.jsx("button",{onClick:m,disabled:r===o-1,className:"p-0.5 hover:bg-slate-100 rounded disabled:opacity-30",children:l.jsx(yu,{className:"w-4 h-4 text-slate-400"})})]})}function O1({onDataChange:r}){const[o,d]=H.useState([]),[m,b]=H.useState(!0),[T,Y]=H.useState(null),[L,C]=H.useState({code:"",name:""}),[D,ee]=H.useState(!1),[U,te]=H.useState({code:"",name:""}),ue=async()=>{d(await Vf(!0)),b(!1)};H.useEffect(()=>{ue()},[]);const oe=async()=>{if(!U.name.trim()){je.error("");return}await Kb({code:U.code.trim()||U.name.trim().substring(0,3).toUpperCase(),name:U.name.trim()}),je.success(""),ee(!1),te({code:"",name:""}),r(),ue()},de=async w=>{if(!L.name.trim()){je.error("");return}await Tp(w,{code:L.code.trim(),name:L.name.trim()}),je.success(""),Y(null),r(),ue()},_e=async w=>{confirm("")&&(await Xb(w),je.success(""),r(),ue())},we=async w=>{await Tp(w.id,{isActive:!w.isActive}),je.success(w.isActive?"":""),r(),ue()},Oe=async(w,xe)=>{const ve=xe==="up"?w-1:w+1;if(ve<0||ve>=o.length)return;const fe=[...o];[fe[w],fe[ve]]=[fe[ve],fe[w]],d(fe),await Gb(fe.map(ce=>ce.id)),r()};return m?l.jsx(Oi,{}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-slate-500",children:"  "}),!D&&l.jsxs("button",{onClick:()=>ee(!0),className:"btn-primary text-sm flex items-center gap-1",children:[l.jsx(na,{className:"w-4 h-4"})," "]})]}),D&&l.jsxs("div",{className:"card flex flex-col sm:flex-row gap-2",children:[l.jsx("input",{type:"text",placeholder:"",value:U.name,onChange:w=>te({...U,name:w.target.value}),className:"input flex-1",autoFocus:!0}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:oe,className:"btn-primary",children:l.jsx(ln,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{ee(!1),te({code:"",name:""})},className:"btn-secondary",children:l.jsx(kt,{className:"w-4 h-4"})})]})]}),o.map((w,xe)=>l.jsxs("div",{className:`card flex items-center gap-2 ${w.isActive?"":"opacity-50"}`,children:[l.jsx(Ai,{index:xe,total:o.length,onMoveUp:()=>Oe(xe,"up"),onMoveDown:()=>Oe(xe,"down")}),T===w.id?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"text",value:L.name,onChange:ve=>C({...L,name:ve.target.value}),className:"input flex-1"}),l.jsx("button",{onClick:()=>de(w.id),className:"btn-primary p-2",children:l.jsx(ln,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>Y(null),className:"btn-secondary p-2",children:l.jsx(kt,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"flex-1 text-slate-700 truncate",children:w.name}),!w.isActive&&l.jsx("span",{className:"text-xs text-slate-400",children:"()"}),l.jsx("button",{onClick:()=>we(w),className:"text-xs text-slate-500 hover:text-slate-700",children:w.isActive?"":""}),l.jsx("button",{onClick:()=>{Y(w.id),C({code:w.code,name:w.name})},className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Zn,{className:"w-4 h-4 text-slate-400"})}),l.jsx("button",{onClick:()=>_e(w.id),className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(zn,{className:"w-4 h-4 text-red-400"})})]})]},w.id))]})}function A1({onDataChange:r}){const[o,d]=H.useState([]),[m,b]=H.useState({}),[T,Y]=H.useState(!0),[L,C]=H.useState(null),[D,ee]=H.useState(null),[U,te]=H.useState(""),[ue,oe]=H.useState(!1),[de,_e]=H.useState(""),[we,Oe]=H.useState(null),[w,xe]=H.useState({name:"",phone:""}),[ve,fe]=H.useState(null),[ce,qe]=H.useState({name:"",phone:""}),Qe=async()=>{const W=await bu(!0);d(W);const ze={};for(const $ of W)$.id&&(ze[$.id]=await du($.id,!0));b(ze),Y(!1)};H.useEffect(()=>{Qe()},[]);const Fe=async()=>{if(!de.trim()){je.error("");return}await Qb({name:de.trim()}),je.success(""),oe(!1),_e(""),r(),Qe()},at=async W=>{if(!U.trim()){je.error("");return}await Vb(W,{name:U.trim()}),je.success(""),ee(null),r(),Qe()},ne=async W=>{confirm("")&&(await Zb(W),je.success(""),r(),Qe())},ge=async(W,ze)=>{const $=ze==="up"?W-1:W+1;if($<0||$>=o.length)return;const N=[...o];[N[W],N[$]]=[N[$],N[W]],d(N),await Jb(N.map(K=>K.id)),r()},he=async W=>{if(!ce.name.trim()){je.error("");return}await $b({name:ce.name.trim(),departmentId:W,phone:ce.phone.trim()||void 0}),je.success(""),fe(null),qe({name:"",phone:""}),r(),Qe()},Ee=async W=>{if(!w.name.trim()){je.error("");return}await _p(W,{name:w.name.trim(),phone:w.phone.trim()||void 0}),je.success(""),Oe(null),r(),Qe()},_=async W=>{confirm("")&&(await Fb(W),je.success(""),r(),Qe())},re=async W=>{await _p(W.id,{isActive:!W.isActive}),je.success(W.isActive?"":""),r(),Qe()};return T?l.jsx(Oi,{}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-slate-500",children:""}),!ue&&l.jsxs("button",{onClick:()=>oe(!0),className:"btn-primary text-sm flex items-center gap-1",children:[l.jsx(na,{className:"w-4 h-4"})," "]})]}),ue&&l.jsxs("div",{className:"card flex flex-col sm:flex-row gap-2",children:[l.jsx("input",{type:"text",placeholder:"",value:de,onChange:W=>_e(W.target.value),className:"input flex-1",autoFocus:!0}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:Fe,className:"btn-primary",children:l.jsx(ln,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{oe(!1),_e("")},className:"btn-secondary",children:l.jsx(kt,{className:"w-4 h-4"})})]})]}),o.map((W,ze)=>l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ai,{index:ze,total:o.length,onMoveUp:()=>ge(ze,"up"),onMoveDown:()=>ge(ze,"down")}),l.jsx("button",{onClick:()=>C(L===W.id?null:W.id),className:"p-1",children:L===W.id?l.jsx(yu,{className:"w-4 h-4"}):l.jsx(Di,{className:"w-4 h-4"})}),D===W.id?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"text",value:U,onChange:$=>te($.target.value),className:"input flex-1"}),l.jsx("button",{onClick:()=>at(W.id),className:"btn-primary p-2",children:l.jsx(ln,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>ee(null),className:"btn-secondary p-2",children:l.jsx(kt,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(Xp,{className:"w-4 h-4 text-primary-500"}),l.jsx("span",{className:"flex-1 font-medium text-slate-800",children:W.name}),l.jsxs("span",{className:"text-xs text-slate-400",children:[m[W.id]?.length||0," "]}),l.jsx("button",{onClick:()=>{ee(W.id),te(W.name)},className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Zn,{className:"w-4 h-4 text-slate-400"})}),l.jsx("button",{onClick:()=>ne(W.id),className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(zn,{className:"w-4 h-4 text-red-400"})})]})]}),L===W.id&&l.jsxs("div",{className:"mt-3 ml-8 space-y-2 border-l-2 border-slate-100 pl-4",children:[m[W.id]?.map($=>l.jsx("div",{className:`flex items-center gap-2 py-2 ${$.isActive?"":"opacity-50"}`,children:we===$.id?l.jsxs(l.Fragment,{children:[l.jsx(su,{className:"w-4 h-4 text-slate-400"}),l.jsx("input",{type:"text",placeholder:"",value:w.name,onChange:N=>xe({...w,name:N.target.value}),className:"input w-24"}),l.jsx("input",{type:"text",placeholder:"",value:w.phone,onChange:N=>xe({...w,phone:N.target.value}),className:"input w-32"}),l.jsx("button",{onClick:()=>Ee($.id),className:"btn-primary p-1.5",children:l.jsx(ln,{className:"w-3 h-3"})}),l.jsx("button",{onClick:()=>Oe(null),className:"btn-secondary p-1.5",children:l.jsx(kt,{className:"w-3 h-3"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(su,{className:"w-4 h-4 text-slate-400"}),l.jsx("span",{className:"flex-1 text-slate-700",children:$.name}),$.phone&&l.jsxs("span",{className:"text-xs text-slate-400 flex items-center gap-1",children:[l.jsx(Jp,{className:"w-3 h-3"}),$.phone]}),!$.isActive&&l.jsx("span",{className:"text-xs text-slate-400",children:"()"}),l.jsx("button",{onClick:()=>re($),className:"text-xs text-slate-500 hover:text-slate-700",children:$.isActive?"":""}),l.jsx("button",{onClick:()=>{Oe($.id),xe({name:$.name,phone:$.phone||""})},className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Zn,{className:"w-3 h-3 text-slate-400"})}),l.jsx("button",{onClick:()=>_($.id),className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(zn,{className:"w-3 h-3 text-red-400"})})]})},$.id)),ve===W.id?l.jsxs("div",{className:"flex items-center gap-2 py-2",children:[l.jsx(su,{className:"w-4 h-4 text-slate-400"}),l.jsx("input",{type:"text",placeholder:"",value:ce.name,onChange:$=>qe({...ce,name:$.target.value}),className:"input w-24",autoFocus:!0}),l.jsx("input",{type:"text",placeholder:"",value:ce.phone,onChange:$=>qe({...ce,phone:$.target.value}),className:"input w-32"}),l.jsx("button",{onClick:()=>he(W.id),className:"btn-primary p-1.5",children:l.jsx(ln,{className:"w-3 h-3"})}),l.jsx("button",{onClick:()=>{fe(null),qe({name:"",phone:""})},className:"btn-secondary p-1.5",children:l.jsx(kt,{className:"w-3 h-3"})})]}):l.jsxs("button",{onClick:()=>fe(W.id),className:"text-sm text-primary-500 hover:text-primary-600 flex items-center gap-1 py-2",children:[l.jsx(na,{className:"w-4 h-4"})," "]})]})]},W.id))]})}function M1({onDataChange:r}){const[o,d]=H.useState([]),[m,b]=H.useState(!0),[T,Y]=H.useState(null),[L,C]=H.useState({code:"",name:""}),[D,ee]=H.useState(!1),[U,te]=H.useState({code:"",name:""}),ue=async()=>{d(await Wb(!0)),b(!1)};H.useEffect(()=>{ue()},[]);const oe=async()=>{if(!U.name.trim()){je.error("");return}await Pb({code:U.code.trim()||U.name.trim().substring(0,4).toUpperCase(),name:U.name.trim()}),je.success(""),ee(!1),te({code:"",name:""}),r(),ue()},de=async w=>{if(!L.name.trim()){je.error("");return}await Dp(w,{code:L.code.trim(),name:L.name.trim()}),je.success(""),Y(null),r(),ue()},_e=async w=>{confirm("")&&(await e1(w),je.success(""),r(),ue())},we=async w=>{await Dp(w.id,{isActive:!w.isActive}),je.success(w.isActive?"":""),r(),ue()},Oe=async(w,xe)=>{const ve=xe==="up"?w-1:w+1;if(ve<0||ve>=o.length)return;const fe=[...o];[fe[w],fe[ve]]=[fe[ve],fe[w]],d(fe),await t1(fe.map(ce=>ce.id)),r()};return m?l.jsx(Oi,{}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-slate-500",children:"  "}),!D&&l.jsxs("button",{onClick:()=>ee(!0),className:"btn-primary text-sm flex items-center gap-1",children:[l.jsx(na,{className:"w-4 h-4"})," "]})]}),D&&l.jsxs("div",{className:"card flex flex-col sm:flex-row gap-2",children:[l.jsx("input",{type:"text",placeholder:"",value:U.code,onChange:w=>te({...U,code:w.target.value}),className:"input w-24"}),l.jsx("input",{type:"text",placeholder:"",value:U.name,onChange:w=>te({...U,name:w.target.value}),className:"input flex-1",autoFocus:!0}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:oe,className:"btn-primary",children:l.jsx(ln,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{ee(!1),te({code:"",name:""})},className:"btn-secondary",children:l.jsx(kt,{className:"w-4 h-4"})})]})]}),o.map((w,xe)=>l.jsxs("div",{className:`card flex items-center gap-2 ${w.isActive?"":"opacity-50"}`,children:[l.jsx(Ai,{index:xe,total:o.length,onMoveUp:()=>Oe(xe,"up"),onMoveDown:()=>Oe(xe,"down")}),T===w.id?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"text",value:L.code,onChange:ve=>C({...L,code:ve.target.value}),className:"input w-24"}),l.jsx("input",{type:"text",value:L.name,onChange:ve=>C({...L,name:ve.target.value}),className:"input flex-1"}),l.jsx("button",{onClick:()=>de(w.id),className:"btn-primary p-2",children:l.jsx(ln,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>Y(null),className:"btn-secondary p-2",children:l.jsx(kt,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"font-mono text-primary-600 w-16",children:w.code}),l.jsx("span",{className:"flex-1 text-slate-700 truncate",children:w.name}),!w.isActive&&l.jsx("span",{className:"text-xs text-slate-400",children:"()"}),l.jsx("button",{onClick:()=>we(w),className:"text-xs text-slate-500 hover:text-slate-700",children:w.isActive?"":""}),l.jsx("button",{onClick:()=>{Y(w.id),C({code:w.code,name:w.name})},className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Zn,{className:"w-4 h-4 text-slate-400"})}),l.jsx("button",{onClick:()=>_e(w.id),className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(zn,{className:"w-4 h-4 text-red-400"})})]})]},w.id))]})}const mu=["purple","blue","red","orange","teal","indigo","cyan","amber","pink","emerald","violet","lime","sky","rose","slate","green","yellow"];function k1({onDataChange:r}){const[o,d]=H.useState([]),[m,b]=H.useState(!0),[T,Y]=H.useState(null),[L,C]=H.useState({code:"",name:"",color:"blue"}),[D,ee]=H.useState(!1),[U,te]=H.useState({code:"",name:"",color:"blue"}),ue=async()=>{d(await Zf(!0)),b(!1)};H.useEffect(()=>{ue()},[]);const oe=async()=>{if(!U.name.trim()){je.error("");return}await n1({code:U.code.trim()||U.name.trim(),name:U.name.trim(),color:U.color}),je.success(""),ee(!1),te({code:"",name:"",color:"blue"}),r(),ue()},de=async w=>{if(!L.name.trim()){je.error("");return}await Cp(w,{code:L.code.trim(),name:L.name.trim(),color:L.color}),je.success(""),Y(null),r(),ue()},_e=async w=>{confirm("")&&(await a1(w),je.success(""),r(),ue())},we=async w=>{await Cp(w.id,{isActive:!w.isActive}),je.success(w.isActive?"":""),r(),ue()},Oe=async(w,xe)=>{const ve=xe==="up"?w-1:w+1;if(ve<0||ve>=o.length)return;const fe=[...o];[fe[w],fe[ve]]=[fe[ve],fe[w]],d(fe),await l1(fe.map(ce=>ce.id)),r()};return m?l.jsx(Oi,{}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-slate-500",children:"  "}),!D&&l.jsxs("button",{onClick:()=>ee(!0),className:"btn-primary text-sm flex items-center gap-1",children:[l.jsx(na,{className:"w-4 h-4"})," "]})]}),D&&l.jsxs("div",{className:"card flex flex-col sm:flex-row gap-2",children:[l.jsx("input",{type:"text",placeholder:"",value:U.name,onChange:w=>te({...U,name:w.target.value}),className:"input flex-1",autoFocus:!0}),l.jsx("select",{value:U.color,onChange:w=>te({...U,color:w.target.value}),className:"input w-32",children:mu.map(w=>l.jsx("option",{value:w,children:w},w))}),l.jsx("button",{onClick:oe,className:"btn-primary",children:l.jsx(ln,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{ee(!1),te({code:"",name:"",color:"blue"})},className:"btn-secondary",children:l.jsx(kt,{className:"w-4 h-4"})})]}),o.map((w,xe)=>l.jsxs("div",{className:`card flex items-center gap-2 ${w.isActive?"":"opacity-50"}`,children:[l.jsx(Ai,{index:xe,total:o.length,onMoveUp:()=>Oe(xe,"up"),onMoveDown:()=>Oe(xe,"down")}),T===w.id?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"text",value:L.name,onChange:ve=>C({...L,name:ve.target.value}),className:"input flex-1"}),l.jsx("select",{value:L.color,onChange:ve=>C({...L,color:ve.target.value}),className:"input w-32",children:mu.map(ve=>l.jsx("option",{value:ve,children:ve},ve))}),l.jsx("button",{onClick:()=>de(w.id),className:"btn-primary p-2",children:l.jsx(ln,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>Y(null),className:"btn-secondary p-2",children:l.jsx(kt,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${hu[w.color]||"bg-slate-100 text-slate-700"}`,children:w.color}),l.jsx("span",{className:"flex-1 text-slate-700 truncate",children:w.name}),!w.isActive&&l.jsx("span",{className:"text-xs text-slate-400",children:"()"}),l.jsx("button",{onClick:()=>we(w),className:"text-xs text-slate-500 hover:text-slate-700",children:w.isActive?"":""}),l.jsx("button",{onClick:()=>{Y(w.id),C({code:w.code,name:w.name,color:w.color})},className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Zn,{className:"w-4 h-4 text-slate-400"})}),l.jsx("button",{onClick:()=>_e(w.id),className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(zn,{className:"w-4 h-4 text-red-400"})})]})]},w.id))]})}function z1({onDataChange:r}){const[o,d]=H.useState([]),[m,b]=H.useState(!0),[T,Y]=H.useState(null),[L,C]=H.useState({code:"",name:"",color:"blue"}),[D,ee]=H.useState(!1),[U,te]=H.useState({code:"",name:"",color:"blue"}),ue=async()=>{d(await b0(!0)),b(!1)};H.useEffect(()=>{ue()},[]);const oe=async()=>{if(!U.name.trim()){je.error("");return}await s1({code:U.code.trim()||U.name.trim(),name:U.name.trim(),color:U.color}),je.success(""),ee(!1),te({code:"",name:"",color:"blue"}),r(),ue()},de=async w=>{if(!L.name.trim()){je.error("");return}await Ep(w,{code:L.code.trim(),name:L.name.trim(),color:L.color}),je.success(""),Y(null),r(),ue()},_e=async w=>{confirm("")&&(await i1(w),je.success(""),r(),ue())},we=async w=>{await Ep(w.id,{isActive:!w.isActive}),je.success(w.isActive?"":""),r(),ue()},Oe=async(w,xe)=>{const ve=xe==="up"?w-1:w+1;if(ve<0||ve>=o.length)return;const fe=[...o];[fe[w],fe[ve]]=[fe[ve],fe[w]],d(fe),await r1(fe.map(ce=>ce.id)),r()};return m?l.jsx(Oi,{}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-slate-500",children:"  "}),!D&&l.jsxs("button",{onClick:()=>ee(!0),className:"btn-primary text-sm flex items-center gap-1",children:[l.jsx(na,{className:"w-4 h-4"})," "]})]}),D&&l.jsxs("div",{className:"card flex flex-col sm:flex-row gap-2",children:[l.jsx("input",{type:"text",placeholder:"",value:U.name,onChange:w=>te({...U,name:w.target.value}),className:"input flex-1",autoFocus:!0}),l.jsx("select",{value:U.color,onChange:w=>te({...U,color:w.target.value}),className:"input w-32",children:mu.map(w=>l.jsx("option",{value:w,children:w},w))}),l.jsx("button",{onClick:oe,className:"btn-primary",children:l.jsx(ln,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{ee(!1),te({code:"",name:"",color:"blue"})},className:"btn-secondary",children:l.jsx(kt,{className:"w-4 h-4"})})]}),o.map((w,xe)=>l.jsxs("div",{className:`card flex items-center gap-2 ${w.isActive?"":"opacity-50"}`,children:[l.jsx(Ai,{index:xe,total:o.length,onMoveUp:()=>Oe(xe,"up"),onMoveDown:()=>Oe(xe,"down")}),T===w.id?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"text",value:L.name,onChange:ve=>C({...L,name:ve.target.value}),className:"input flex-1"}),l.jsx("select",{value:L.color,onChange:ve=>C({...L,color:ve.target.value}),className:"input w-32",children:mu.map(ve=>l.jsx("option",{value:ve,children:ve},ve))}),l.jsx("button",{onClick:()=>de(w.id),className:"btn-primary p-2",children:l.jsx(ln,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>Y(null),className:"btn-secondary p-2",children:l.jsx(kt,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${hu[w.color]||"bg-slate-100 text-slate-700"}`,children:w.color}),l.jsx("span",{className:"flex-1 text-slate-700 truncate",children:w.name}),!w.isActive&&l.jsx("span",{className:"text-xs text-slate-400",children:"()"}),l.jsx("button",{onClick:()=>we(w),className:"text-xs text-slate-500 hover:text-slate-700",children:w.isActive?"":""}),l.jsx("button",{onClick:()=>{Y(w.id),C({code:w.code,name:w.name,color:w.color})},className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Zn,{className:"w-4 h-4 text-slate-400"})}),l.jsx("button",{onClick:()=>_e(w.id),className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(zn,{className:"w-4 h-4 text-red-400"})})]})]},w.id))]})}function B1({onDataChange:r}){const[o,d]=H.useState([]),[m,b]=H.useState(!0),[T,Y]=H.useState(null),[L,C]=H.useState(""),[D,ee]=H.useState(!1),[U,te]=H.useState(""),ue=async()=>{d(await j0(!0)),b(!1)};H.useEffect(()=>{ue()},[]);const oe=async()=>{if(!U.trim()){je.error("");return}await c1({name:U.trim()}),je.success(""),ee(!1),te(""),r(),ue()},de=async w=>{if(!L.trim()){je.error("");return}await Op(w,{name:L.trim()}),je.success(""),Y(null),r(),ue()},_e=async w=>{confirm("")&&(await u1(w),je.success(""),r(),ue())},we=async w=>{await Op(w.id,{isActive:!w.isActive}),je.success(w.isActive?"":""),r(),ue()},Oe=async(w,xe)=>{const ve=xe==="up"?w-1:w+1;if(ve<0||ve>=o.length)return;const fe=[...o];[fe[w],fe[ve]]=[fe[ve],fe[w]],d(fe),await o1(fe.map(ce=>ce.id)),r()};return m?l.jsx(Oi,{}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-slate-500",children:"  "}),!D&&l.jsxs("button",{onClick:()=>ee(!0),className:"btn-primary text-sm flex items-center gap-1",children:[l.jsx(na,{className:"w-4 h-4"})," "]})]}),D&&l.jsxs("div",{className:"card flex flex-col sm:flex-row gap-2",children:[l.jsx("input",{type:"text",placeholder:"",value:U,onChange:w=>te(w.target.value),className:"input flex-1",autoFocus:!0}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:oe,className:"btn-primary",children:l.jsx(ln,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{ee(!1),te("")},className:"btn-secondary",children:l.jsx(kt,{className:"w-4 h-4"})})]})]}),o.map((w,xe)=>l.jsxs("div",{className:`card flex items-center gap-2 ${w.isActive?"":"opacity-50"}`,children:[l.jsx(Ai,{index:xe,total:o.length,onMoveUp:()=>Oe(xe,"up"),onMoveDown:()=>Oe(xe,"down")}),l.jsx(Lf,{className:"w-4 h-4 text-primary-500"}),T===w.id?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"text",value:L,onChange:ve=>C(ve.target.value),className:"input flex-1"}),l.jsx("button",{onClick:()=>de(w.id),className:"btn-primary p-2",children:l.jsx(ln,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>Y(null),className:"btn-secondary p-2",children:l.jsx(kt,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"flex-1 text-slate-700 truncate",children:w.name}),!w.isActive&&l.jsx("span",{className:"text-xs text-slate-400",children:"()"}),l.jsx("button",{onClick:()=>we(w),className:"text-xs text-slate-500 hover:text-slate-700",children:w.isActive?"":""}),l.jsx("button",{onClick:()=>{Y(w.id),C(w.name)},className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(Zn,{className:"w-4 h-4 text-slate-400"})}),l.jsx("button",{onClick:()=>_e(w.id),className:"p-1 hover:bg-slate-100 rounded",children:l.jsx(zn,{className:"w-4 h-4 text-red-400"})})]})]},w.id))]})}function R1(){const[r,o]=H.useState(!1),[d,m]=H.useState(!1),[b,T]=H.useState(!1),[Y,L]=H.useState(!1),[C,D]=H.useState(!1),[ee,U]=H.useState(""),[te,ue]=H.useState(""),[oe,de]=H.useState({}),_e=H.useRef(null),{setLastBackupDate:we}=Sa(),Oe=Up(),w=Uf();H.useEffect(()=>{xe()},[]);const xe=async()=>{const ne={:await q.cancerTypes.count(),:await q.departments.count(),:await q.physicians.count(),:await q.imagingTypes.count(),:await q.eventTypes.count(),:await q.meetingTypes.count(),:await q.meetingLocations.count(),:await q.patients.count(),:await q.events.count(),:await q.workItems.count()};de(ne)},ve=async()=>{o(!0);try{const ne=await qf();je.success(`${ne}`),we(new Date().toISOString().split("T")[0])}catch(ne){je.error(`${ne.message}`)}finally{o(!1)}},fe=async ne=>{const ge=ne.target.files?.[0];if(ge){if(!confirm("")){_e.current&&(_e.current.value="");return}m(!0);try{const he=await Lp(ge);he.success?(je.success(he.message),window.location.reload()):je.error(he.message)}catch(he){je.error(`${he.message}`)}finally{m(!1),_e.current&&(_e.current.value="")}}},ce=async()=>{T(!0);try{const ne=await q.patients.toArray(),ge=await q.events.toArray(),he=Qe(ne,["id","mrn","name","sex","cancerTypeId","status","createdAt","updatedAt"]);Fe(he,`patients_${qe()}.csv`);const Ee=Qe(ge,["id","patientId","eventType","title","eventDate","dueDate","status","isCompleted","note","createdAt","updatedAt"]);Fe(Ee,`events_${qe()}.csv`),je.success("CSV ")}catch(ne){je.error(`${ne.message}`)}finally{T(!1)}},qe=()=>new Date().toISOString().replace(/[:.]/g,"").slice(0,15),Qe=(ne,ge)=>{if(ne.length===0)return ge.join(",")+`
`;const he=ge.join(","),Ee=ne.map(_=>ge.map(re=>{const W=_[re];return W==null?"":typeof W=="string"&&(W.includes(",")||W.includes('"')||W.includes(`
`))?`"${W.replace(/"/g,'""')}"`:String(W)}).join(","));return[he,...Ee].join(`
`)},Fe=(ne,ge)=>{const Ee=new Blob(["\uFEFF"+ne],{type:"text/csv;charset=utf-8;"}),_=URL.createObjectURL(Ee),re=document.createElement("a");re.href=_,re.download=ge,document.body.appendChild(re),re.click(),document.body.removeChild(re),URL.revokeObjectURL(_)},at=ne=>{try{return Sn(aa(ne),"yyyy/MM/dd HH:mm",{locale:ta})}catch{return ne}};return l.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[l.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-800",children:""}),l.jsxs("div",{className:"card",children:[l.jsxs("h2",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx(Cf,{className:"w-5 h-5 text-primary-500"}),""]}),l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w===new Date().toISOString().split("T")[0]?l.jsx(Xl,{className:"w-6 h-6 text-green-500"}):w?l.jsx(Vp,{className:"w-6 h-6 text-amber-500"}):l.jsx(Na,{className:"w-6 h-6 text-red-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-slate-800",children:w===new Date().toISOString().split("T")[0]?"":w?`${w}`:""}),l.jsx("p",{className:"text-sm text-slate-500",children:""})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("button",{onClick:ve,disabled:r,className:"btn-primary flex items-center justify-center gap-2",children:[_i()?l.jsx(Ip,{className:"w-5 h-5"}):l.jsx(ru,{className:"w-5 h-5"}),r?"...":_i()?"":""]}),l.jsxs("button",{onClick:()=>_e.current?.click(),disabled:d,className:"btn-secondary flex items-center justify-center gap-2",children:[l.jsx(Ef,{className:"w-5 h-5"}),d?"...":""]})]}),l.jsx("input",{ref:_e,type:"file",accept:".json",onChange:fe,className:"hidden"})]}),l.jsxs("div",{className:"card",children:[l.jsxs("h2",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx(Zv,{className:"w-5 h-5 text-primary-500"})," CSV"]}),l.jsx("p",{className:"text-slate-600 mb-4",children:" CSV  Excel "}),l.jsxs("button",{onClick:ce,disabled:b,className:"btn-secondary flex items-center gap-2",children:[l.jsx(ru,{className:"w-5 h-5"}),b?"...":" CSV + "]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("h2",{className:"font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[l.jsx(Cf,{className:"w-5 h-5 text-primary-500"}),""]}),l.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4 text-sm",children:Object.entries(oe).map(([ne,ge])=>l.jsxs("div",{className:"bg-slate-50 rounded p-2 text-center",children:[l.jsx("div",{className:"font-medium text-slate-700",children:ge}),l.jsx("div",{className:"text-xs text-slate-500",children:ne})]},ne))}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("button",{onClick:xe,className:"btn-secondary flex items-center justify-center gap-2",children:[l.jsx(ig,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>{const ne=String(Math.floor(1e3+Math.random()*9e3));ue(ne),U(""),D(!0)},disabled:Y,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 disabled:opacity-50 flex items-center justify-center gap-2",children:[l.jsx(zn,{className:"w-4 h-4"}),Y?"...":""]})]}),l.jsx("p",{className:"text-xs text-slate-400 mt-3",children:""})]}),C&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full p-6 shadow-xl",children:[l.jsxs("h3",{className:"text-lg font-bold text-red-600 mb-4 flex items-center gap-2",children:[l.jsx(Na,{className:"w-6 h-6"}),""]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-slate-600 mb-2",children:" "}),l.jsx("p",{className:"text-slate-600 mb-4",children:""}),l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center mb-4",children:l.jsx("span",{className:"text-3xl font-mono font-bold text-red-600 tracking-widest",children:te})}),l.jsx("input",{type:"text",value:ee,onChange:ne=>U(ne.target.value.replace(/\D/g,"").slice(0,4)),placeholder:" 4 ",className:"input text-center text-2xl font-mono tracking-widest",maxLength:4,autoFocus:!0})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>D(!1),className:"flex-1 btn-secondary",children:""}),l.jsx("button",{onClick:async()=>{if(ee!==te){je.error("");return}D(!1),L(!0);try{await q.transaction("rw",[q.patients,q.events,q.cancerTypes,q.physicians,q.departments,q.imagingTypes,q.eventTypes,q.meetingTypes,q.meetingLocations,q.workItems,q.patientPhysicians],async()=>{await q.patients.clear(),await q.events.clear(),await q.cancerTypes.clear(),await q.physicians.clear(),await q.departments.clear(),await q.imagingTypes.clear(),await q.eventTypes.clear(),await q.meetingTypes.clear(),await q.meetingLocations.clear(),await q.workItems.clear(),await q.patientPhysicians.clear()}),await zp(),je.success(""),xe()}catch(ne){je.error(`${ne.message}`)}finally{L(!1)}},disabled:ee.length!==4,className:"flex-1 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 disabled:opacity-50",children:""})]})]})}),Oe.length>0&&l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"font-semibold text-slate-800 mb-4",children:""}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-auto",children:Oe.slice(0,10).map((ne,ge)=>l.jsxs("div",{className:"flex items-center justify-between text-sm py-2 border-b border-slate-100 last:border-0",children:[l.jsx("span",{className:"text-slate-600",children:at(ne.date)}),l.jsxs("span",{className:"text-slate-400",children:[ne.recordCount," "]})]},ge))})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"font-semibold text-slate-800 mb-4",children:""}),l.jsxs("p",{className:"text-2xl font-bold text-primary-500 mb-4",children:["V",pu]}),l.jsx("div",{className:"space-y-4",children:rv.slice(0,3).map(ne=>l.jsxs("div",{className:"border-l-2 border-slate-200 pl-4",children:[l.jsxs("p",{className:"font-medium text-slate-700",children:["V",ne.version," - ",ne.date]}),l.jsx("ul",{className:"text-sm text-slate-500 mt-1 space-y-0.5",children:ne.changes.map((ge,he)=>l.jsxs("li",{children:[" ",ge]},he))})]},ne.version))})]}),l.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Na,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-amber-800",children:""}),l.jsxs("ul",{className:"text-sm text-amber-700 mt-1 space-y-1",children:[l.jsx("li",{children:" "}),l.jsx("li",{children:" iOS Safari  7 "}),l.jsx("li",{children:" iCloudGoogle Drive"})]})]})]})})]})}function U1(){const[r,o]=H.useState(!0),[d,m]=H.useState(null),{isBackupModalOpen:b,isDataLossModalOpen:T,openBackupModal:Y,openDataLossModal:L,setLastBackupDate:C}=Sa(),{currentPage:D}=Hr();H.useEffect(()=>{ee()},[]);const ee=async()=>{try{await sv();const ue=await dv(),oe=await fv(),de=Uf();if(C(de),de&&oe){console.log("[App] "),L(),o(!1);return}ue&&!cv()&&(console.log("[App] "),Y()),o(!1)}catch(ue){console.error("[App] :",ue),m(ue.message),o(!1)}},U=()=>{console.log("[App] ")};if(r)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-600",children:"..."})]})});if(d)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:l.jsxs("div",{className:"card max-w-md w-full text-center",children:[l.jsx("div",{className:"text-red-500 text-5xl mb-4",children:""}),l.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:""}),l.jsx("p",{className:"text-slate-600 mb-4",children:d}),l.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:""})]})});const te=()=>{switch(D){case"dashboard":return l.jsx(Sp,{});case"patients":return l.jsx(v1,{});case"events":return l.jsx(j1,{});case"work":return l.jsx(T1,{});case"masterdata":return l.jsx(E1,{});case"tools":return l.jsx(R1,{});default:return l.jsx(Sp,{})}};return l.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[l.jsx(Eg,{}),l.jsx("main",{className:"flex-1 pb-20 md:pb-0 overflow-auto",children:te()}),l.jsx(Dg,{}),l.jsx(Tg,{}),b&&l.jsx(fp,{onComplete:U}),T&&l.jsx(fp,{onComplete:U,isDataLoss:!0})]})}Iy.createRoot(document.getElementById("root")).render(l.jsx(H.StrictMode,{children:l.jsx(U1,{})}));
